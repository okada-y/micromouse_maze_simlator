/*
 * Sponsored License - for use in support of a program or activity
 * sponsored by MathWorks.  Not for government, commercial or other
 * non-sponsored organizational use.
 * File: maze_solve.c
 *
 * MATLAB Coder version            : 4.2
 * C/C++ source code generated on  : 16-Aug-2020 15:44:45
 */

/* Include Files */
#include <string.h>
#include <math.h>
#include "maze_init.h"
#include "maze_solve.h"
#include "rem.h"
#include "maze_init_emxutil.h"
#include "idivide.h"
#include "isequal.h"
#include "maze_init_data.h"
#include "C:\work\matlab\maze_sim_git\src\C_src\matlab_movement.h"
#include "C:\work\matlab\maze_sim_git\src\C_src\matlab_IR_sensor.h"

/* Type Definitions */
#ifndef typedef_coder_internal_ref
#define typedef_coder_internal_ref

typedef struct {
  unsigned char contents;
} coder_internal_ref;

#endif                                 /*typedef_coder_internal_ref*/

#ifndef typedef_coder_internal_ref_1
#define typedef_coder_internal_ref_1

typedef struct {
  unsigned char contents[18];
} coder_internal_ref_1;

#endif                                 /*typedef_coder_internal_ref_1*/

#ifndef typedef_coder_internal_ref_2
#define typedef_coder_internal_ref_2

typedef struct {
  unsigned short contents;
} coder_internal_ref_2;

#endif                                 /*typedef_coder_internal_ref_2*/

#ifndef typedef_g_struct_T
#define typedef_g_struct_T

typedef struct {
  unsigned char unknown;
  unsigned char known;
} g_struct_T;

#endif                                 /*typedef_g_struct_T*/

#ifndef typedef_coder_internal_ref_4
#define typedef_coder_internal_ref_4

typedef struct {
  g_struct_T contents;
} coder_internal_ref_4;

#endif                                 /*typedef_coder_internal_ref_4*/

#ifndef typedef_f_struct_T
#define typedef_f_struct_T

typedef struct {
  unsigned char nowall;
  unsigned char wall;
} f_struct_T;

#endif                                 /*typedef_f_struct_T*/

#ifndef typedef_coder_internal_ref_5
#define typedef_coder_internal_ref_5

typedef struct {
  f_struct_T contents;
} coder_internal_ref_5;

#endif                                 /*typedef_coder_internal_ref_5*/

/* Function Declarations */
static void b_make_map_fustrun_diagonal(coder_internal_ref_2 *max_length,
  coder_internal_ref_3 *num_temp, const coder_internal_ref_5 *wall, const
  coder_internal_ref_4 *search, const unsigned char maze_goal[2], const unsigned
  char maze_wall[1024], const unsigned char maze_wall_search[1024], unsigned
  short row_num_node[1056], unsigned short col_num_node[1056], unsigned short
  *start_num);
static void b_search_adachi(const coder_internal_ref_5 *wall, coder_internal_ref
  *wall_flg, const coder_internal_ref_4 *search, const coder_internal_ref_1
  *maze_goal, coder_internal_ref_3 *num_temp, unsigned char *current_x, unsigned
  char *current_y, unsigned char *current_dir, unsigned char maze_row_size,
  unsigned char maze_col_size, unsigned char maze_wall[1024], unsigned char
  maze_wall_search[1024], const unsigned char exploration_goal[18], unsigned
  char *start_flg, unsigned char goal_after_flg, unsigned short contour_map[1024]);
static void decide_goal_node_dir(const unsigned char maze_goal[18], unsigned
  char goal_size, const unsigned short row_num_node[1056], const unsigned short
  col_num_node[1056], unsigned char goal_node[2], unsigned char *goal_matrix_dir,
  unsigned char *goal_dir);
static void decide_goal_section(const unsigned char maze_goal[18], const
  unsigned char goal_node[2], unsigned char goal_matrix_dir, unsigned char
  goal_dir, unsigned char goal_section[2], unsigned char goal_node2[2], unsigned
  char *goal_matrix_dir2);
static void fust_run(coder_internal_ref *current_x, coder_internal_ref
                     *current_y, coder_internal_ref *current_dir, const
                     coder_internal_ref *goal_size, const coder_internal_ref_5
                     *wall, const unsigned char maze_wall[1024], const unsigned
                     short contour_map[1024], const unsigned char maze_goal[18],
                     unsigned short max_length);
static void get_next_dir_diagonal(const unsigned short row_num_node[1056], const
  unsigned short col_num_node[1056], unsigned char current_move_dir, const
  unsigned char current_node[2], unsigned char current_matrix_dir, const
  unsigned char goal_node2[2], unsigned char goal_matrix_dir2, const unsigned
  char goal_section[2], unsigned char *next_dir, unsigned char next_node[2],
  unsigned char *next_node_property);
static unsigned char get_nextdir2(unsigned char current_x, unsigned char
  current_y, const unsigned char maze_wall[1024], const unsigned short
  contour_map[1024]);
static unsigned char get_turn_pattern_num(const double move_dir_buffer[3],
  unsigned char ref_move_mode);
static double goal_judge(const unsigned char maze_goal[18], unsigned char x,
  unsigned char y);
static void make_map_find(coder_internal_ref_3 *num_temp, const
  coder_internal_ref_5 *wall, const unsigned char maze_goal[18], unsigned char
  l_goal_size, const unsigned char maze_wall[1024], unsigned short contour_map
  [1024]);
static void make_map_fustrun(const coder_internal_ref *goal_size,
  coder_internal_ref_3 *num_temp, const coder_internal_ref_5 *wall, const
  coder_internal_ref_4 *search, const unsigned char maze_goal[18], const
  unsigned char maze_wall[1024], const unsigned char maze_wall_search[1024],
  unsigned short contour_map[1024]);
static void make_map_fustrun_diagonal(coder_internal_ref_2 *max_length,
  coder_internal_ref_3 *num_temp, const coder_internal_ref_5 *wall, const
  coder_internal_ref_4 *search, const unsigned char maze_goal[18], unsigned char
  goal_size, const unsigned char maze_wall[1024], const unsigned char
  maze_wall_search[1024], unsigned short row_num_node[1056], unsigned short
  col_num_node[1056], unsigned short *start_num);
static void make_route_diagonal(const unsigned short row_num_node[1056], const
  unsigned short col_num_node[1056], const unsigned char goal_section[2], const
  unsigned char goal_node2[2], unsigned char goal_node_property);
static void move_step(unsigned char *current_x, unsigned char *current_y,
                      unsigned char current_dir);
static void move_straight(unsigned char current_node[2], unsigned char
  *current_node_property, unsigned char *current_move_dir, unsigned char
  *current_move_mode, unsigned char straight_count);
static void search_adachi(const coder_internal_ref_5 *wall, coder_internal_ref
  *wall_flg, const coder_internal_ref_4 *search, const coder_internal_ref_1
  *maze_goal, coder_internal_ref_3 *num_temp, unsigned char *current_x, unsigned
  char *current_y, unsigned char *current_dir, unsigned char maze_row_size,
  unsigned char maze_col_size, unsigned char maze_wall[1024], unsigned char
  maze_wall_search[1024], const unsigned char exploration_goal[18], unsigned
  char l_goal_size, unsigned char *start_flg, unsigned char goal_after_flg,
  unsigned short contour_map[1024]);
static void turn_180deg(unsigned char *current_dir);
static void turn_clk_90deg(unsigned char *current_dir);
static void turn_conclk_90deg(unsigned char *current_dir);
static void turn_l_135(unsigned char current_node[2], unsigned char
  *current_node_property, unsigned char *current_move_dir, unsigned char
  *current_move_mode);
static void turn_l_180(unsigned char current_node[2], unsigned char
  *current_node_property, unsigned char *current_move_dir, unsigned char
  *current_move_mode);
static void turn_l_45(unsigned char current_node[2], unsigned char
                      *current_node_property, unsigned char *current_move_dir,
                      unsigned char *current_move_mode);
static void turn_l_90(unsigned char current_node[2], unsigned char
                      *current_node_property, unsigned char *current_move_dir,
                      unsigned char *current_move_mode);
static void turn_r_135(unsigned char current_node[2], unsigned char
  *current_node_property, unsigned char *current_move_dir, unsigned char
  *current_move_mode);
static void turn_r_45(unsigned char current_node[2], unsigned char
                      *current_node_property, unsigned char *current_move_dir,
                      unsigned char *current_move_mode);
static void wall_set(const coder_internal_ref_5 *wall, coder_internal_ref
                     *wall_flg, const coder_internal_ref_4 *search, const
                     coder_internal_ref_1 *maze_goal, unsigned char
                     maze_row_size, unsigned char maze_col_size, unsigned char
                     current_x, unsigned char current_y, unsigned char
                     current_dir, unsigned char maze_wall[1024], unsigned char
                     maze_wall_search[1024]);

/* Function Definitions */

/*
 * ñ¢ímï«ÇÃóÃàÊÇÕâºëzï«ÇÇ®Ç¢ÇƒêNì¸ÇµÇ»Ç¢ÅB
 * ì¸óÕ ñ¿òHècÉTÉCÉY,ñ¿òHâ°ÉTÉCÉY,ÉSÅ[Éãç¿ïW,ñ¿òHèÓïÒ(16êiêî),ñ¿òHíTçıèÓïÒ(16êiêî)
 * èoóÕ ìôçÇê¸map,ç≈ëÂåoòHí∑
 * Arguments    : coder_internal_ref_2 *max_length
 *                coder_internal_ref_3 *num_temp
 *                const coder_internal_ref_5 *wall
 *                const coder_internal_ref_4 *search
 *                const unsigned char maze_goal[2]
 *                const unsigned char maze_wall[1024]
 *                const unsigned char maze_wall_search[1024]
 *                unsigned short row_num_node[1056]
 *                unsigned short col_num_node[1056]
 *                unsigned short *start_num
 * Return Type  : void
 */
static void b_make_map_fustrun_diagonal(coder_internal_ref_2 *max_length,
  coder_internal_ref_3 *num_temp, const coder_internal_ref_5 *wall, const
  coder_internal_ref_4 *search, const unsigned char maze_goal[2], const unsigned
  char maze_wall[1024], const unsigned char maze_wall_search[1024], unsigned
  short row_num_node[1056], unsigned short col_num_node[1056], unsigned short
  *start_num)
{
  int i114;
  unsigned short row_num_node_temp[1056];
  unsigned short col_num_node_temp[1056];
  int idx;
  unsigned char row_dir_node[1056];
  unsigned char col_dir_node[1056];
  int i115;
  int ii;
  int i116;
  int i117;
  int row_num_node_tmp;
  int i118;
  int i119;
  int i120;
  emxArray_uint16_T *row;
  emxArray_uint16_T *col;
  emxArray_uint16_T *b_num_temp;
  int i121;
  unsigned char change_flag;
  unsigned int qY;
  unsigned short u8;
  unsigned short i;
  bool exitg1;
  short ii_data[1056];
  int i122;
  int i123;
  int i124;
  int i125;
  int i126;
  unsigned char a;
  int i127;
  int i128;
  unsigned int u9;
  int i129;
  int i130;
  int i131;
  int i132;
  int i133;
  int i134;
  int i135;
  int i136;
  int i137;
  int i138;
  int i139;
  int i140;
  int i141;
  int i142;
  int i143;
  int i144;
  int i145;
  int i146;
  int i147;
  int i148;
  int i149;
  int i150;
  int i151;
  int i152;
  int i153;
  int i154;
  int i155;
  int i156;
  int i157;
  int i158;
  int i159;
  int i160;
  int i161;
  int i162;
  int i163;
  int i164;
  int i165;
  int i166;
  int i167;
  int i168;
  int i169;
  int i170;
  int i171;
  int i172;
  int i173;
  int i174;
  int i175;
  int i176;
  int i177;
  int i178;
  int i179;
  int i180;
  int i181;

  /*  make_map_fustrun_diagonal ç≈íZëñçsópìôçÇê¸MAPÇê∂ê¨ */
  /* ÉçÅ[ÉJÉãïœêîê›íË */
  /* ÉpÉâÉÅÅ[É^ê›íË */
  /*  ñ¿òHÉpÉâÉÅÅ[É^ê›íË */
  max_length->contents = 1024U;

  /*  ÉãÅ[ÉgÇÃèdÇ›ê›íË */
  /* MAPÇÃèâä˙âª(Ç∑Ç◊ÇƒÇÃÉmÅ[ÉhÇ…max_lengthÇì¸óÕ) */
  /* ï‡êîMAP */
  /* çXêVópMAP */
  /* êiçsï˚å¸ï€éùópÉmÅ[ÉhçÏê¨ */
  for (i114 = 0; i114 < 1056; i114++) {
    row_num_node[i114] = MAX_uint16_T;
    col_num_node[i114] = MAX_uint16_T;
    row_num_node_temp[i114] = MAX_uint16_T;
    col_num_node_temp[i114] = MAX_uint16_T;
    row_dir_node[i114] = 0U;
    col_dir_node[i114] = 0U;
  }

  /* ÉSÅ[ÉãÉZÉNÉVÉáÉìÇ™ämíËÇµÇƒÇ¢ÇÈèÍçá */
  /* ÉSÅ[ÉãÉ}ÉXÇ©ÇÁÅAìåêºìÏñkÇ…É}ÉbÉvÇìWäJ */
  /* ñkï« */
  i114 = maze_goal[0] - 1;
  idx = (maze_goal[1] + (i114 << 5)) - 1;
  if (g_direction.North <= 7) {
    i115 = (unsigned char)(1 << g_direction.North);
  } else {
    i115 = 0;
  }

  if ((maze_wall[idx] & i115) == 0) {
    /* ï‡êîçXêV */
    ii = (int)(maze_goal[1] + 1U);
    i116 = ii;
    if ((unsigned int)ii > 255U) {
      i116 = 255;
    }

    row_num_node_tmp = 33 * i114;
    row_num_node[(i116 + row_num_node_tmp) - 1] = 3U;

    /* ï˚å¸í«â¡ */
    i114 = ii;
    if ((unsigned int)ii > 255U) {
      i114 = 255;
    }

    if (g_d_direction.North <= 7) {
      row_dir_node[(i114 + row_num_node_tmp) - 1] = (unsigned char)(1 <<
        g_d_direction.North);
    } else {
      row_dir_node[(i114 + row_num_node_tmp) - 1] = 0U;
    }

    /* çXêVópMAPçXêV */
    if ((unsigned int)ii > 255U) {
      ii = 255;
    }

    row_num_node_temp[(ii + row_num_node_tmp) - 1] = 0U;
  }

  /* ìåï« */
  if (g_direction.East <= 7) {
    i117 = (unsigned char)(1 << g_direction.East);
  } else {
    i117 = 0;
  }

  if ((maze_wall[idx] & i117) == 0) {
    /* ï‡êîçXêV */
    i114 = (int)(maze_goal[0] + 1U);
    ii = i114;
    if ((unsigned int)i114 > 255U) {
      ii = 255;
    }

    col_num_node[(maze_goal[1] + ((ii - 1) << 5)) - 1] = 3U;

    /* ï˚å¸í«â¡ */
    ii = i114;
    if ((unsigned int)i114 > 255U) {
      ii = 255;
    }

    if (g_d_direction.East <= 7) {
      col_dir_node[(maze_goal[1] + ((ii - 1) << 5)) - 1] = (unsigned char)(1 <<
        g_d_direction.East);
    } else {
      col_dir_node[(maze_goal[1] + ((ii - 1) << 5)) - 1] = 0U;
    }

    /* çXêVópMAPçXêV */
    if ((unsigned int)i114 > 255U) {
      i114 = 255;
    }

    col_num_node_temp[(maze_goal[1] + ((i114 - 1) << 5)) - 1] = 0U;
  }

  /* ìÏï« */
  if (g_direction.South <= 7) {
    i118 = (unsigned char)(1 << g_direction.South);
  } else {
    i118 = 0;
  }

  if ((maze_wall[idx] & i118) == 0) {
    /* ï‡êîçXêV */
    row_num_node_tmp = (maze_goal[1] + 33 * (maze_goal[0] - 1)) - 1;
    row_num_node[row_num_node_tmp] = 3U;

    /* ï˚å¸í«â¡ */
    if (g_d_direction.South <= 7) {
      i120 = (unsigned char)(1 << g_d_direction.South);
    } else {
      i120 = 0;
    }

    row_dir_node[row_num_node_tmp] = (unsigned char)
      (row_dir_node[row_num_node_tmp] | i120);

    /* çXêVópMAPçXêV */
    row_num_node_temp[row_num_node_tmp] = 0U;
  }

  /* êºï« */
  if (g_direction.West <= 7) {
    i119 = (unsigned char)(1 << g_direction.West);
  } else {
    i119 = 0;
  }

  if ((maze_wall[idx] & i119) == 0) {
    /* ï‡êîçXêV */
    col_num_node[idx] = 3U;

    /* ï˚å¸í«â¡ */
    if (g_d_direction.West <= 7) {
      i121 = (unsigned char)(1 << g_d_direction.West);
    } else {
      i121 = 0;
    }

    col_dir_node[idx] = (unsigned char)(col_dir_node[idx] | i121);

    /* çXêVópMAPçXêV */
    col_num_node_temp[idx] = 0U;
  }

  /* ÉSÅ[ÉãÉZÉNÉVÉáÉìÇ™ämíËÇµÇƒÇ¢Ç»Ç¢èÍçá     */
  emxInit_uint16_T(&row, 1);
  emxInit_uint16_T(&col, 1);
  emxInit_uint16_T(&b_num_temp, 1);
  do {
    change_flag = 0U;

    /* mapçXêVämîFópÉtÉâÉO */
    idx = max_length->contents;
    qY = idx - 1U;
    if (qY > (unsigned int)idx) {
      qY = 0U;
    }

    u8 = (unsigned short)qY;
    for (i = 0; i <= u8; i++) {
      /* çXêVämîFópÇÃï‡êîÉJÉEÉìÉgÇÕ0~max_length */
      /* Row_EdgeÇÃèàóù[33çs,32óÒ] */
      /* ï‡êîÇ™ämíËÇµÇƒÇ¢ÇÈç¿ïWÇåüçı */
      /* ç≈èâÇÕ0,çXêVÇ≥ÇÍÅAëùâ¡ÇµÇΩÉ}ÉXÇéüÅXåüçıÇµÇƒÇ¢Ç≠ */
      idx = 0;
      ii = 0;
      exitg1 = false;
      while ((!exitg1) && (ii < 1056)) {
        if (row_num_node_temp[ii] == i) {
          idx++;
          ii_data[idx - 1] = (short)(ii + 1);
          if (idx >= 1056) {
            exitg1 = true;
          } else {
            ii++;
          }
        } else {
          ii++;
        }
      }

      if (1 > idx) {
        ii = 0;
      } else {
        ii = idx;
      }

      i114 = num_temp->contents->size[0];
      num_temp->contents->size[0] = ii;
      emxEnsureCapacity_uint16_T(num_temp->contents, i114);
      for (i114 = 0; i114 < ii; i114++) {
        num_temp->contents->data[i114] = (unsigned short)ii_data[i114];
      }

      /* 33çsÇ»ÇÃÇ≈ÅAçsî‘çÜ:33Ç≈äÑÇ¡ÇΩÇ†Ç‹ÇË */
      i114 = b_num_temp->size[0];
      b_num_temp->size[0] = num_temp->contents->size[0];
      emxEnsureCapacity_uint16_T(b_num_temp, i114);
      ii = num_temp->contents->size[0];
      for (i114 = 0; i114 < ii; i114++) {
        idx = num_temp->contents->data[i114];
        qY = idx - 1U;
        if (qY > (unsigned int)idx) {
          qY = 0U;
        }

        b_num_temp->data[i114] = (unsigned short)qY;
      }

      d_rem(b_num_temp, row);
      i114 = row->size[0];
      emxEnsureCapacity_uint16_T(row, i114);
      ii = row->size[0];
      for (i114 = 0; i114 < ii; i114++) {
        qY = row->data[i114] + 1U;
        if (qY > 65535U) {
          qY = 65535U;
        }

        row->data[i114] = (unsigned short)qY;
      }

      /* óÒî‘çÜ:33Ç≈äÑÇ¡ÇΩÇ∆Ç´ÇÃè§ */
      i114 = b_num_temp->size[0];
      b_num_temp->size[0] = num_temp->contents->size[0];
      emxEnsureCapacity_uint16_T(b_num_temp, i114);
      ii = num_temp->contents->size[0];
      for (i114 = 0; i114 < ii; i114++) {
        idx = num_temp->contents->data[i114];
        qY = idx - 1U;
        if (qY > (unsigned int)idx) {
          qY = 0U;
        }

        b_num_temp->data[i114] = (unsigned short)qY;
      }

      idivide(b_num_temp, 33.0, col);
      i114 = col->size[0];
      emxEnsureCapacity_uint16_T(col, i114);
      ii = col->size[0];
      for (i114 = 0; i114 < ii; i114++) {
        qY = col->data[i114] + 1U;
        if (qY > 65535U) {
          qY = 65535U;
        }

        col->data[i114] = (unsigned short)qY;
      }

      /* å©Ç¬Ç©Ç¡ÇΩÉ}ÉXÇÃêî */
      /* åüçıÇµÇΩç¿ïWÇ…ëŒÇµÅAï‡êîmapÇçXêV */
      i114 = row->size[0];
      if (i114 < 0) {
        i114 = 0;
      } else {
        if (i114 > 65535) {
          i114 = 65535;
        }
      }

      for (idx = 0; idx < i114; idx++) {
        /* ñkë§ */
        /* ï«Ç™ñ≥Ç¢ & íTçıçœÇ›Ç≈Ç†ÇÈÇ∆Ç´ */
        if (g_direction.North <= 7) {
          i122 = (unsigned char)(1 << g_direction.North);
        } else {
          i122 = 0;
        }

        if (((maze_wall[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 1] &
              i122) != 0) == wall->contents.nowall) {
          if (g_direction.North <= 7) {
            i123 = (unsigned char)(1 << g_direction.North);
          } else {
            i123 = 0;
          }

          if (((maze_wall_search[(row->data[idx] + ((col->data[idx] - 1) << 5))
                - 1] & i123) != 0) == search->contents.known) {
            /* Ç©Ç¬êiçsï˚å¸Ç™ñkå¸Ç´Ç≈Ç†ÇÈéû */
            if (g_d_direction.North <= 7) {
              i125 = (unsigned char)(1 << g_d_direction.North);
            } else {
              i125 = 0;
            }

            if ((row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                 & i125) != 0) {
              /* Ç©Ç¬ñkÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇÊÇËÇ‡ëÂÇ´Ç»ílÇÃèÍçá */
              qY = row->data[idx] + 1U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              u9 = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                + 6U;
              if (u9 > 65535U) {
                u9 = 65535U;
              }

              if (row_num_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] > (int)
                  u9) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u9 = row_num_node_temp[(row->data[idx] + 33 * (col->data[idx] -
                  1)) - 1] + 1U;
                if (u9 > 65535U) {
                  u9 = 65535U;
                }

                row_num_node_temp[((int)qY + 33 * (col->data[idx] - 1)) - 1] =
                  (unsigned short)u9;

                /* ï‡êîMAPçXêV */
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u9 = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 6U;
                if (u9 > 65535U) {
                  u9 = 65535U;
                }

                row_num_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] =
                  (unsigned short)u9;

                /* à⁄ìÆï˚å¸MAPçXêV */
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (g_d_direction.North <= 7) {
                  row_dir_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] =
                    (unsigned char)(1 << g_d_direction.North);
                } else {
                  row_dir_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬ñkÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u9 = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 6U;
                if (u9 > 65535U) {
                  u9 = 65535U;
                }

                if (row_num_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] ==
                    (int)u9) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  qY = row->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  a = row_dir_node[((int)qY + 33 * (col->data[idx] - 1)) - 1];
                  qY = row->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  if (g_d_direction.North <= 7) {
                    i136 = (unsigned char)(1 << g_d_direction.North);
                  } else {
                    i136 = 0;
                  }

                  row_dir_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] =
                    (unsigned char)(a | i136);
                }
              }

              /* Ç©Ç¬êiçsï˚å¸Ç™ñkå¸Ç´Ç≈Ç»Ç¢Ç∆Ç´     */
            } else {
              /* Ç©Ç¬ñkÇÃÉmÅ[ÉhÇÃï‡êîMAPílÇ™ÅAçXêVó\íËílÇÊÇËëÂÇ´Ç¢èÍçá */
              qY = row->data[idx] + 1U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              u9 = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                + 18U;
              if (u9 > 65535U) {
                u9 = 65535U;
              }

              if (row_num_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] > (int)
                  u9) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u9 = row_num_node_temp[(row->data[idx] + 33 * (col->data[idx] -
                  1)) - 1] + 1U;
                if (u9 > 65535U) {
                  u9 = 65535U;
                }

                row_num_node_temp[((int)qY + 33 * (col->data[idx] - 1)) - 1] =
                  (unsigned short)u9;

                /* ï‡êîMAPçXêV(èdÇ›Ç√ÇØÇ†ÇË) */
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u9 = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 18U;
                if (u9 > 65535U) {
                  u9 = 65535U;
                }

                row_num_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] =
                  (unsigned short)u9;

                /* à⁄ìÆï˚å¸MAPçXêV */
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (g_d_direction.North <= 7) {
                  row_dir_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] =
                    (unsigned char)(1 << g_d_direction.North);
                } else {
                  row_dir_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬ñkÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u9 = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 18U;
                if (u9 > 65535U) {
                  u9 = 65535U;
                }

                if (row_num_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] ==
                    (int)u9) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  qY = row->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  a = row_dir_node[((int)qY + 33 * (col->data[idx] - 1)) - 1];
                  qY = row->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  if (g_d_direction.North <= 7) {
                    i135 = (unsigned char)(1 << g_d_direction.North);
                  } else {
                    i135 = 0;
                  }

                  row_dir_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] =
                    (unsigned char)(a | i135);
                }
              }
            }
          }
        }

        /* ñkìåë§ */
        /* ï«Ç™ñ≥Ç¢ & íTçıçœÇ›Ç≈Ç†ÇÈÇ∆Ç´ */
        if (g_direction.East <= 7) {
          i124 = (unsigned char)(1 << g_direction.East);
        } else {
          i124 = 0;
        }

        if (((maze_wall[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 1] &
              i124) != 0) == wall->contents.nowall) {
          if (g_direction.East <= 7) {
            i126 = (unsigned char)(1 << g_direction.East);
          } else {
            i126 = 0;
          }

          if (((maze_wall_search[(row->data[idx] + ((col->data[idx] - 1) << 5))
                - 1] & i126) != 0) == search->contents.known) {
            /* Ç©Ç¬êiçsï˚å¸Ç™ñkìåå¸Ç´Ç≈Ç†ÇÈéû */
            if (g_d_direction.North_East <= 7) {
              i128 = (unsigned char)(1 << g_d_direction.North_East);
            } else {
              i128 = 0;
            }

            if ((row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                 & i128) != 0) {
              /* Ç©Ç¬ñkìåÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇÊÇËÇ‡ëÂÇ´Ç»ílÇÃèÍçá */
              qY = col->data[idx] + 1U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              u9 = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                + 4U;
              if (u9 > 65535U) {
                u9 = 65535U;
              }

              if (col_num_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] >
                  (int)u9) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u9 = row_num_node_temp[(row->data[idx] + 33 * (col->data[idx] -
                  1)) - 1] + 1U;
                if (u9 > 65535U) {
                  u9 = 65535U;
                }

                col_num_node_temp[(row->data[idx] + (((int)qY - 1) << 5)) - 1] =
                  (unsigned short)u9;

                /* ï‡êîMAPçXêV */
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u9 = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 4U;
                if (u9 > 65535U) {
                  u9 = 65535U;
                }

                col_num_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] =
                  (unsigned short)u9;

                /* à⁄ìÆï˚å¸MAPçXêV */
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (g_d_direction.North_East <= 7) {
                  col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] =
                    (unsigned char)(1 << g_d_direction.North_East);
                } else {
                  col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬ñkìåÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u9 = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 4U;
                if (u9 > 65535U) {
                  u9 = 65535U;
                }

                if (col_num_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] ==
                    (int)u9) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  qY = col->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  a = col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1];
                  qY = col->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  if (g_d_direction.North_East <= 7) {
                    i142 = (unsigned char)(1 << g_d_direction.North_East);
                  } else {
                    i142 = 0;
                  }

                  col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] =
                    (unsigned char)(a | i142);
                }
              }

              /* Ç©Ç¬êiçsï˚å¸Ç™ñkìåå¸Ç´Ç≈Ç»Ç¢Ç∆Ç´     */
            } else {
              /* Ç©Ç¬ñkìåÇÃÉmÅ[ÉhÇÃï‡êîMAPílÇ™ÅAçXêVó\íËílÇÊÇËëÂÇ´Ç¢èÍçá */
              qY = col->data[idx] + 1U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              u9 = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                + 18U;
              if (u9 > 65535U) {
                u9 = 65535U;
              }

              if (col_num_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] >
                  (int)u9) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u9 = row_num_node_temp[(row->data[idx] + 33 * (col->data[idx] -
                  1)) - 1] + 1U;
                if (u9 > 65535U) {
                  u9 = 65535U;
                }

                col_num_node_temp[(row->data[idx] + (((int)qY - 1) << 5)) - 1] =
                  (unsigned short)u9;

                /* ï‡êîMAPçXêV(èdÇ›Ç√ÇØÇ†ÇË) */
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u9 = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 18U;
                if (u9 > 65535U) {
                  u9 = 65535U;
                }

                col_num_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] =
                  (unsigned short)u9;

                /* à⁄ìÆï˚å¸MAPçXêV */
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (g_d_direction.North_East <= 7) {
                  col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] =
                    (unsigned char)(1 << g_d_direction.North_East);
                } else {
                  col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬ñkìåÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u9 = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 18U;
                if (u9 > 65535U) {
                  u9 = 65535U;
                }

                if (col_num_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] ==
                    (int)u9) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  qY = col->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  a = col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1];
                  qY = col->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  if (g_d_direction.North_East <= 7) {
                    i141 = (unsigned char)(1 << g_d_direction.North_East);
                  } else {
                    i141 = 0;
                  }

                  col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] =
                    (unsigned char)(a | i141);
                }
              }
            }
          }
        }

        /* ìåë§ÇÕíå */
        /* ìÏìåë§ */
        /* ï«Ç™ñ≥Ç¢ & íTçıçœÇ›Ç≈Ç†ÇÈÇ∆Ç´ */
        a = maze_wall[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 2];
        if (g_direction.East <= 7) {
          i127 = (unsigned char)(1 << g_direction.East);
        } else {
          i127 = 0;
        }

        if (((a & i127) != 0) == wall->contents.nowall) {
          a = maze_wall_search[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
            2];
          if (g_direction.East <= 7) {
            i129 = (unsigned char)(1 << g_direction.East);
          } else {
            i129 = 0;
          }

          if (((a & i129) != 0) == search->contents.known) {
            /* Ç©Ç¬êiçsï˚å¸Ç™ìÏìåå¸Ç´Ç≈Ç†ÇÈéû */
            if (g_d_direction.South_East <= 7) {
              i131 = (unsigned char)(1 << g_d_direction.South_East);
            } else {
              i131 = 0;
            }

            if ((row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                 & i131) != 0) {
              /* Ç©Ç¬ìÏìåÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇÊÇËÇ‡ëÂÇ´Ç»ílÇÃèÍçá */
              qY = col->data[idx] + 1U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              u9 = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                + 4U;
              if (u9 > 65535U) {
                u9 = 65535U;
              }

              if (col_num_node[(row->data[idx] + (((int)qY - 1) << 5)) - 2] >
                  (int)u9) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u9 = row_num_node_temp[(row->data[idx] + 33 * (col->data[idx] -
                  1)) - 1] + 1U;
                if (u9 > 65535U) {
                  u9 = 65535U;
                }

                col_num_node_temp[(row->data[idx] + (((int)qY - 1) << 5)) - 2] =
                  (unsigned short)u9;

                /* ï‡êîMAPçXêV */
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u9 = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 4U;
                if (u9 > 65535U) {
                  u9 = 65535U;
                }

                col_num_node[(row->data[idx] + (((int)qY - 1) << 5)) - 2] =
                  (unsigned short)u9;

                /* à⁄ìÆï˚å¸MAPçXêV */
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (g_d_direction.South_East <= 7) {
                  col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 2] =
                    (unsigned char)(1 << g_d_direction.South_East);
                } else {
                  col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 2] = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬ìÏìåÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u9 = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 4U;
                if (u9 > 65535U) {
                  u9 = 65535U;
                }

                if (col_num_node[(row->data[idx] + (((int)qY - 1) << 5)) - 2] ==
                    (int)u9) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  qY = col->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  a = col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 2];
                  qY = col->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  if (g_d_direction.South_East <= 7) {
                    i148 = (unsigned char)(1 << g_d_direction.South_East);
                  } else {
                    i148 = 0;
                  }

                  col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 2] =
                    (unsigned char)(a | i148);
                }
              }

              /* Ç©Ç¬êiçsï˚å¸Ç™ìÏìåå¸Ç´Ç≈Ç»Ç¢Ç∆Ç´     */
            } else {
              /* Ç©Ç¬ìÏìåÇÃÉmÅ[ÉhÇÃï‡êîMAPílÇ™ÅAçXêVó\íËílÇÊÇËëÂÇ´Ç¢èÍçá */
              qY = col->data[idx] + 1U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              u9 = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                + 18U;
              if (u9 > 65535U) {
                u9 = 65535U;
              }

              if (col_num_node[(row->data[idx] + (((int)qY - 1) << 5)) - 2] >
                  (int)u9) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u9 = row_num_node_temp[(row->data[idx] + 33 * (col->data[idx] -
                  1)) - 1] + 1U;
                if (u9 > 65535U) {
                  u9 = 65535U;
                }

                col_num_node_temp[(row->data[idx] + (((int)qY - 1) << 5)) - 2] =
                  (unsigned short)u9;

                /* ï‡êîMAPçXêV(èdÇ›Ç√ÇØÇ†ÇË) */
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u9 = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 18U;
                if (u9 > 65535U) {
                  u9 = 65535U;
                }

                col_num_node[(row->data[idx] + (((int)qY - 1) << 5)) - 2] =
                  (unsigned short)u9;

                /* à⁄ìÆï˚å¸MAPçXêV */
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (g_d_direction.South_East <= 7) {
                  col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 2] =
                    (unsigned char)(1 << g_d_direction.South_East);
                } else {
                  col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 2] = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬ìÏìåÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u9 = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 18U;
                if (u9 > 65535U) {
                  u9 = 65535U;
                }

                if (col_num_node[(row->data[idx] + (((int)qY - 1) << 5)) - 2] ==
                    (int)u9) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  qY = col->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  a = col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 2];
                  qY = col->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  if (g_d_direction.South_East <= 7) {
                    i147 = (unsigned char)(1 << g_d_direction.South_East);
                  } else {
                    i147 = 0;
                  }

                  col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 2] =
                    (unsigned char)(a | i147);
                }
              }
            }
          }
        }

        /* ìÏë§ */
        /* ï«Ç™ñ≥Ç¢ & íTçıçœÇ›Ç≈Ç†ÇÈÇ∆Ç´ */
        a = maze_wall[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 2];
        if (g_direction.South <= 7) {
          i130 = (unsigned char)(1 << g_direction.South);
        } else {
          i130 = 0;
        }

        if (((a & i130) != 0) == wall->contents.nowall) {
          a = maze_wall_search[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
            2];
          if (g_direction.South <= 7) {
            i132 = (unsigned char)(1 << g_direction.South);
          } else {
            i132 = 0;
          }

          if (((a & i132) != 0) == search->contents.known) {
            /* Ç©Ç¬êiçsï˚å¸Ç™ìÏå¸Ç´Ç≈Ç†ÇÈéû */
            if (g_d_direction.South <= 7) {
              i134 = (unsigned char)(1 << g_d_direction.South);
            } else {
              i134 = 0;
            }

            if ((row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                 & i134) != 0) {
              /* Ç©Ç¬ìÏÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇÊÇËÇ‡ëÂÇ´Ç»ílÇÃèÍçá */
              qY = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                + 6U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              if (row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 2]
                  > (int)qY) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = row_num_node_temp[(row->data[idx] + 33 * (col->data[idx] -
                  1)) - 1] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                row_num_node_temp[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  2] = (unsigned short)qY;

                /* ï‡êîMAPçXêV */
                qY = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 6U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 2] =
                  (unsigned short)qY;

                /* à⁄ìÆï˚å¸MAPçXêV */
                if (g_d_direction.South <= 7) {
                  row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 2]
                    = (unsigned char)(1 << g_d_direction.South);
                } else {
                  row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 2]
                    = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬ìÏÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 6U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                    2] == (int)qY) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  a = row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 1))
                    - 2];
                  if (g_d_direction.South <= 7) {
                    i145 = (unsigned char)(1 << g_d_direction.South);
                  } else {
                    i145 = 0;
                  }

                  row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 2]
                    = (unsigned char)(a | i145);
                }
              }

              /* Ç©Ç¬êiçsï˚å¸Ç™ìÏå¸Ç´Ç≈Ç»Ç¢Ç∆Ç´     */
            } else {
              /* Ç©Ç¬ìÏÇÃÉmÅ[ÉhÇÃï‡êîMAPílÇ™ÅAçXêVó\íËílÇÊÇËëÂÇ´Ç¢èÍçá */
              qY = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                + 18U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              if (row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 2]
                  > (int)qY) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = row_num_node_temp[(row->data[idx] + 33 * (col->data[idx] -
                  1)) - 1] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                row_num_node_temp[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  2] = (unsigned short)qY;

                /* ï‡êîMAPçXêV(èdÇ›Ç√ÇØÇ†ÇË) */
                qY = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 18U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 2] =
                  (unsigned short)qY;

                /* à⁄ìÆï˚å¸MAPçXêV */
                if (g_d_direction.South <= 7) {
                  row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 2]
                    = (unsigned char)(1 << g_d_direction.South);
                } else {
                  row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 2]
                    = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬ìÏÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 18U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                    2] == (int)qY) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  a = row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 1))
                    - 2];
                  if (g_d_direction.South <= 7) {
                    i144 = (unsigned char)(1 << g_d_direction.South);
                  } else {
                    i144 = 0;
                  }

                  row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 2]
                    = (unsigned char)(a | i144);
                }
              }
            }
          }
        }

        /* ìÏêºë§ */
        /* ï«Ç™ñ≥Ç¢ & íTçıçœÇ›Ç≈Ç†ÇÈÇ∆Ç´ */
        a = maze_wall[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 2];
        if (g_direction.West <= 7) {
          i133 = (unsigned char)(1 << g_direction.West);
        } else {
          i133 = 0;
        }

        if (((a & i133) != 0) == wall->contents.nowall) {
          a = maze_wall_search[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
            2];
          if (g_direction.West <= 7) {
            i137 = (unsigned char)(1 << g_direction.West);
          } else {
            i137 = 0;
          }

          if (((a & i137) != 0) == search->contents.known) {
            /* Ç©Ç¬êiçsï˚å¸Ç™ìÏêºå¸Ç´Ç≈Ç†ÇÈéû */
            if (g_d_direction.South_West <= 7) {
              i139 = (unsigned char)(1 << g_d_direction.South_West);
            } else {
              i139 = 0;
            }

            if ((row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                 & i139) != 0) {
              /* Ç©Ç¬ìÏêºÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇÊÇËÇ‡ëÂÇ´Ç»ílÇÃèÍçá */
              qY = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                + 4U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              if (col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                  2] > (int)qY) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = row_num_node_temp[(row->data[idx] + 33 * (col->data[idx] -
                  1)) - 1] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                col_num_node_temp[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 2] = (unsigned short)qY;

                /* ï‡êîMAPçXêV */
                qY = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 4U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 2]
                  = (unsigned short)qY;

                /* à⁄ìÆï˚å¸MAPçXêV */
                if (g_d_direction.South_West <= 7) {
                  col_dir_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                    2] = (unsigned char)(1 << g_d_direction.South_West);
                } else {
                  col_dir_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                    2] = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬ìÏêºÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 4U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                    - 2] == (int)qY) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  a = col_dir_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                    - 2];
                  if (g_d_direction.South_West <= 7) {
                    i151 = (unsigned char)(1 << g_d_direction.South_West);
                  } else {
                    i151 = 0;
                  }

                  col_dir_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                    2] = (unsigned char)(a | i151);
                }
              }

              /* Ç©Ç¬êiçsï˚å¸Ç™ìÏêºå¸Ç´Ç≈Ç»Ç¢Ç∆Ç´     */
            } else {
              /* Ç©Ç¬ìÏêºÇÃÉmÅ[ÉhÇÃï‡êîMAPílÇ™ÅAçXêVó\íËílÇÊÇËëÂÇ´Ç¢èÍçá */
              qY = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                + 18U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              if (col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                  2] > (int)qY) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = row_num_node_temp[(row->data[idx] + 33 * (col->data[idx] -
                  1)) - 1] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                col_num_node_temp[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 2] = (unsigned short)qY;

                /* ï‡êîMAPçXêV(èdÇ›Ç√ÇØÇ†ÇË) */
                qY = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 18U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 2]
                  = (unsigned short)qY;

                /* à⁄ìÆï˚å¸MAPçXêV */
                if (g_d_direction.South_West <= 7) {
                  col_dir_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                    2] = (unsigned char)(1 << g_d_direction.South_West);
                } else {
                  col_dir_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                    2] = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬ìÏêºÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 18U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                    - 2] == (int)qY) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  a = col_dir_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                    - 2];
                  if (g_d_direction.South_West <= 7) {
                    i150 = (unsigned char)(1 << g_d_direction.South_West);
                  } else {
                    i150 = 0;
                  }

                  col_dir_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                    2] = (unsigned char)(a | i150);
                }
              }
            }
          }
        }

        /* ñkêºë§ */
        /* ï«Ç™ñ≥Ç¢ & íTçıçœÇ›Ç≈Ç†ÇÈÇ∆Ç´ */
        if (g_direction.West <= 7) {
          i138 = (unsigned char)(1 << g_direction.West);
        } else {
          i138 = 0;
        }

        if (((maze_wall[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 1] &
              i138) != 0) == wall->contents.nowall) {
          if (g_direction.West <= 7) {
            i140 = (unsigned char)(1 << g_direction.West);
          } else {
            i140 = 0;
          }

          if (((maze_wall_search[(row->data[idx] + ((col->data[idx] - 1) << 5))
                - 1] & i140) != 0) == search->contents.known) {
            /* Ç©Ç¬êiçsï˚å¸Ç™ñkêºå¸Ç´Ç≈Ç†ÇÈéû */
            if (g_d_direction.North_West <= 7) {
              i143 = (unsigned char)(1 << g_d_direction.North_West);
            } else {
              i143 = 0;
            }

            if ((row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                 & i143) != 0) {
              /* Ç©Ç¬ñkêºÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇÊÇËÇ‡ëÂÇ´Ç»ílÇÃèÍçá */
              qY = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                + 4U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              if (col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                  1] > (int)qY) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = row_num_node_temp[(row->data[idx] + 33 * (col->data[idx] -
                  1)) - 1] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                col_num_node_temp[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] = (unsigned short)qY;

                /* ï‡êîMAPçXêV */
                qY = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 4U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 1]
                  = (unsigned short)qY;

                /* à⁄ìÆï˚å¸MAPçXêV */
                if (g_d_direction.North_West <= 7) {
                  col_dir_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                    1] = (unsigned char)(1 << g_d_direction.North_West);
                } else {
                  col_dir_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                    1] = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬ñkêºÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 4U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                    - 1] == (int)qY) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  if (g_d_direction.North_West <= 7) {
                    i156 = (unsigned char)(1 << g_d_direction.North_West);
                  } else {
                    i156 = 0;
                  }

                  col_dir_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                    1] = (unsigned char)(col_dir_node[(row->data[idx] +
                    ((col->data[idx] - 1) << 5)) - 1] | i156);
                }
              }

              /* Ç©Ç¬êiçsï˚å¸Ç™ñkêºå¸Ç´Ç≈Ç»Ç¢Ç∆Ç´     */
            } else {
              /* Ç©Ç¬ñkìåÇÃÉmÅ[ÉhÇÃï‡êîMAPílÇ™ÅAçXêVó\íËílÇÊÇËëÂÇ´Ç¢èÍçá */
              qY = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                + 18U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              if (col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                  1] > (int)qY) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = row_num_node_temp[(row->data[idx] + 33 * (col->data[idx] -
                  1)) - 1] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                col_num_node_temp[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] = (unsigned short)qY;

                /* ï‡êîMAPçXêV(èdÇ›Ç√ÇØÇ†ÇË) */
                qY = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 18U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 1]
                  = (unsigned short)qY;

                /* à⁄ìÆï˚å¸MAPçXêV */
                if (g_d_direction.North_West <= 7) {
                  col_dir_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                    1] = (unsigned char)(1 << g_d_direction.North_West);
                } else {
                  col_dir_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                    1] = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬ñkêºÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 18U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                    - 1] == (int)qY) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  if (g_d_direction.North_West <= 7) {
                    i155 = (unsigned char)(1 << g_d_direction.North_West);
                  } else {
                    i155 = 0;
                  }

                  col_dir_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                    1] = (unsigned char)(col_dir_node[(row->data[idx] +
                    ((col->data[idx] - 1) << 5)) - 1] | i155);
                }
              }
            }
          }
        }
      }

      /* Col_EdgeÇÃèàóù[32çs,33óÒ] */
      /* ï‡êîÇ™ämíËÇµÇƒÇ¢ÇÈç¿ïWÇåüçı */
      /* ç≈èâÇÕ0,çXêVÇ≥ÇÍÅAëùâ¡ÇµÇΩÉ}ÉXÇéüÅXåüçıÇµÇƒÇ¢Ç≠ */
      idx = 0;
      ii = 0;
      exitg1 = false;
      while ((!exitg1) && (ii < 1056)) {
        if (col_num_node_temp[ii] == i) {
          idx++;
          ii_data[idx - 1] = (short)(ii + 1);
          if (idx >= 1056) {
            exitg1 = true;
          } else {
            ii++;
          }
        } else {
          ii++;
        }
      }

      if (1 > idx) {
        ii = 0;
      } else {
        ii = idx;
      }

      i114 = num_temp->contents->size[0];
      num_temp->contents->size[0] = ii;
      emxEnsureCapacity_uint16_T(num_temp->contents, i114);
      for (i114 = 0; i114 < ii; i114++) {
        num_temp->contents->data[i114] = (unsigned short)ii_data[i114];
      }

      /* 32çsÇ»ÇÃÇ≈ÅAçsî‘çÜ:32Ç≈äÑÇ¡ÇΩÇ†Ç‹ÇË */
      i114 = b_num_temp->size[0];
      b_num_temp->size[0] = num_temp->contents->size[0];
      emxEnsureCapacity_uint16_T(b_num_temp, i114);
      ii = num_temp->contents->size[0];
      for (i114 = 0; i114 < ii; i114++) {
        idx = num_temp->contents->data[i114];
        qY = idx - 1U;
        if (qY > (unsigned int)idx) {
          qY = 0U;
        }

        b_num_temp->data[i114] = (unsigned short)qY;
      }

      c_rem(b_num_temp, row);
      i114 = row->size[0];
      emxEnsureCapacity_uint16_T(row, i114);
      ii = row->size[0];
      for (i114 = 0; i114 < ii; i114++) {
        qY = row->data[i114] + 1U;
        if (qY > 65535U) {
          qY = 65535U;
        }

        row->data[i114] = (unsigned short)qY;
      }

      /* óÒî‘çÜ:32Ç≈äÑÇ¡ÇΩÇ∆Ç´ÇÃè§ */
      i114 = b_num_temp->size[0];
      b_num_temp->size[0] = num_temp->contents->size[0];
      emxEnsureCapacity_uint16_T(b_num_temp, i114);
      ii = num_temp->contents->size[0];
      for (i114 = 0; i114 < ii; i114++) {
        idx = num_temp->contents->data[i114];
        qY = idx - 1U;
        if (qY > (unsigned int)idx) {
          qY = 0U;
        }

        b_num_temp->data[i114] = (unsigned short)qY;
      }

      idivide(b_num_temp, 32.0, col);
      i114 = col->size[0];
      emxEnsureCapacity_uint16_T(col, i114);
      ii = col->size[0];
      for (i114 = 0; i114 < ii; i114++) {
        qY = col->data[i114] + 1U;
        if (qY > 65535U) {
          qY = 65535U;
        }

        col->data[i114] = (unsigned short)qY;
      }

      /* å©Ç¬Ç©Ç¡ÇΩÉ}ÉXÇÃêî */
      /* åüçıÇµÇΩç¿ïWÇ…ëŒÇµÅAï‡êîmapÇçXêV */
      i114 = row->size[0];
      if (i114 < 0) {
        i114 = 0;
      } else {
        if (i114 > 65535) {
          i114 = 65535;
        }
      }

      for (idx = 0; idx < i114; idx++) {
        /* ñkë§ÇÕï« */
        /* ñkìåë§ */
        /* ï«Ç™ñ≥Ç¢ & íTçıçœÇ›Ç≈Ç†ÇÈÇ∆Ç´ */
        if (g_direction.North <= 7) {
          i146 = (unsigned char)(1 << g_direction.North);
        } else {
          i146 = 0;
        }

        if (((maze_wall[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 1] &
              i146) != 0) == wall->contents.nowall) {
          if (g_direction.North <= 7) {
            i149 = (unsigned char)(1 << g_direction.North);
          } else {
            i149 = 0;
          }

          if (((maze_wall_search[(row->data[idx] + ((col->data[idx] - 1) << 5))
                - 1] & i149) != 0) == search->contents.known) {
            /* Ç©Ç¬êiçsï˚å¸Ç™ñkìåå¸Ç´Ç≈Ç†ÇÈéû */
            if (g_d_direction.North_East <= 7) {
              i153 = (unsigned char)(1 << g_d_direction.North_East);
            } else {
              i153 = 0;
            }

            if ((col_dir_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 1]
                 & i153) != 0) {
              /* Ç©Ç¬ñkìåÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇÊÇËÇ‡ëÂÇ´Ç»ílÇÃèÍçá */
              qY = row->data[idx] + 1U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              u9 = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                1] + 4U;
              if (u9 > 65535U) {
                u9 = 65535U;
              }

              if (row_num_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] > (int)
                  u9) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u9 = col_num_node_temp[(row->data[idx] + ((col->data[idx] - 1) <<
                  5)) - 1] + 1U;
                if (u9 > 65535U) {
                  u9 = 65535U;
                }

                row_num_node_temp[((int)qY + 33 * (col->data[idx] - 1)) - 1] =
                  (unsigned short)u9;

                /* ï‡êîMAPçXêV */
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u9 = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 4U;
                if (u9 > 65535U) {
                  u9 = 65535U;
                }

                row_num_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] =
                  (unsigned short)u9;

                /* à⁄ìÆï˚å¸MAPçXêV */
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (g_d_direction.North_East <= 7) {
                  row_dir_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] =
                    (unsigned char)(1 << g_d_direction.North_East);
                } else {
                  row_dir_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬ñkìåÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u9 = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 4U;
                if (u9 > 65535U) {
                  u9 = 65535U;
                }

                if (row_num_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] ==
                    (int)u9) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  qY = row->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  a = row_dir_node[((int)qY + 33 * (col->data[idx] - 1)) - 1];
                  qY = row->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  if (g_d_direction.North_East <= 7) {
                    i167 = (unsigned char)(1 << g_d_direction.North_East);
                  } else {
                    i167 = 0;
                  }

                  row_dir_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] =
                    (unsigned char)(a | i167);
                }
              }

              /* Ç©Ç¬êiçsï˚å¸Ç™ñkìåå¸Ç´Ç≈Ç»Ç¢Ç∆Ç´     */
            } else {
              /* Ç©Ç¬ñkìåÇÃÉmÅ[ÉhÇÃï‡êîMAPílÇ™ÅAçXêVó\íËílÇÊÇËëÂÇ´Ç¢èÍçá */
              qY = row->data[idx] + 1U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              u9 = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                1] + 18U;
              if (u9 > 65535U) {
                u9 = 65535U;
              }

              if (row_num_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] > (int)
                  u9) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u9 = col_num_node_temp[(row->data[idx] + ((col->data[idx] - 1) <<
                  5)) - 1] + 1U;
                if (u9 > 65535U) {
                  u9 = 65535U;
                }

                row_num_node_temp[((int)qY + 33 * (col->data[idx] - 1)) - 1] =
                  (unsigned short)u9;

                /* ï‡êîMAPçXêV(èdÇ›Ç√ÇØÇ†ÇË) */
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u9 = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 18U;
                if (u9 > 65535U) {
                  u9 = 65535U;
                }

                row_num_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] =
                  (unsigned short)u9;

                /* à⁄ìÆï˚å¸MAPçXêV */
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (g_d_direction.North_East <= 7) {
                  row_dir_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] =
                    (unsigned char)(1 << g_d_direction.North_East);
                } else {
                  row_dir_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬ñkìåÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u9 = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 18U;
                if (u9 > 65535U) {
                  u9 = 65535U;
                }

                if (row_num_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] ==
                    (int)u9) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  qY = row->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  a = row_dir_node[((int)qY + 33 * (col->data[idx] - 1)) - 1];
                  qY = row->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  if (g_d_direction.North_East <= 7) {
                    i166 = (unsigned char)(1 << g_d_direction.North_East);
                  } else {
                    i166 = 0;
                  }

                  row_dir_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] =
                    (unsigned char)(a | i166);
                }
              }
            }
          }
        }

        /* ìåë§ */
        /* ï«Ç™ñ≥Ç¢ & íTçıçœÇ›Ç≈Ç†ÇÈÇ∆Ç´ */
        if (g_direction.East <= 7) {
          i152 = (unsigned char)(1 << g_direction.East);
        } else {
          i152 = 0;
        }

        if (((maze_wall[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 1] &
              i152) != 0) == wall->contents.nowall) {
          if (g_direction.East <= 7) {
            i154 = (unsigned char)(1 << g_direction.East);
          } else {
            i154 = 0;
          }

          if (((maze_wall_search[(row->data[idx] + ((col->data[idx] - 1) << 5))
                - 1] & i154) != 0) == search->contents.known) {
            /* Ç©Ç¬êiçsï˚å¸Ç™ìåå¸Ç´Ç≈Ç†ÇÈéû */
            if (g_d_direction.East <= 7) {
              i158 = (unsigned char)(1 << g_d_direction.East);
            } else {
              i158 = 0;
            }

            if ((col_dir_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 1]
                 & i158) != 0) {
              /* Ç©Ç¬ìåÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇÊÇËÇ‡ëÂÇ´Ç»ílÇÃèÍçá */
              qY = col->data[idx] + 1U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              u9 = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                1] + 6U;
              if (u9 > 65535U) {
                u9 = 65535U;
              }

              if (col_num_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] >
                  (int)u9) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u9 = col_num_node_temp[(row->data[idx] + ((col->data[idx] - 1) <<
                  5)) - 1] + 1U;
                if (u9 > 65535U) {
                  u9 = 65535U;
                }

                col_num_node_temp[(row->data[idx] + (((int)qY - 1) << 5)) - 1] =
                  (unsigned short)u9;

                /* ï‡êîMAPçXêV */
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u9 = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 6U;
                if (u9 > 65535U) {
                  u9 = 65535U;
                }

                col_num_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] =
                  (unsigned short)u9;

                /* à⁄ìÆï˚å¸MAPçXêV */
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (g_d_direction.East <= 7) {
                  col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] =
                    (unsigned char)(1 << g_d_direction.East);
                } else {
                  col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬ìåÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u9 = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 6U;
                if (u9 > 65535U) {
                  u9 = 65535U;
                }

                if (col_num_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] ==
                    (int)u9) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  qY = col->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  a = col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1];
                  qY = col->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  if (g_d_direction.East <= 7) {
                    i173 = (unsigned char)(1 << g_d_direction.East);
                  } else {
                    i173 = 0;
                  }

                  col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] =
                    (unsigned char)(a | i173);
                }
              }

              /* Ç©Ç¬êiçsï˚å¸Ç™ìåå¸Ç´Ç≈Ç»Ç¢Ç∆Ç´     */
            } else {
              /* Ç©Ç¬ìåÇÃÉmÅ[ÉhÇÃï‡êîMAPílÇ™ÅAçXêVó\íËílÇÊÇËëÂÇ´Ç¢èÍçá */
              qY = col->data[idx] + 1U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              u9 = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                1] + 18U;
              if (u9 > 65535U) {
                u9 = 65535U;
              }

              if (col_num_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] >
                  (int)u9) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u9 = col_num_node_temp[(row->data[idx] + ((col->data[idx] - 1) <<
                  5)) - 1] + 1U;
                if (u9 > 65535U) {
                  u9 = 65535U;
                }

                col_num_node_temp[(row->data[idx] + (((int)qY - 1) << 5)) - 1] =
                  (unsigned short)u9;

                /* ï‡êîMAPçXêV(èdÇ›Ç√ÇØÇ†ÇË) */
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u9 = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 18U;
                if (u9 > 65535U) {
                  u9 = 65535U;
                }

                col_num_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] =
                  (unsigned short)u9;

                /* à⁄ìÆï˚å¸MAPçXêV */
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (g_d_direction.East <= 7) {
                  col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] =
                    (unsigned char)(1 << g_d_direction.East);
                } else {
                  col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬ìåÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u9 = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 18U;
                if (u9 > 65535U) {
                  u9 = 65535U;
                }

                if (col_num_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] ==
                    (int)u9) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  qY = col->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  a = col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1];
                  qY = col->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  if (g_d_direction.East <= 7) {
                    i172 = (unsigned char)(1 << g_d_direction.East);
                  } else {
                    i172 = 0;
                  }

                  col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] =
                    (unsigned char)(a | i172);
                }
              }
            }
          }
        }

        /* ìÏìåë§ */
        /* ï«Ç™ñ≥Ç¢ & íTçıçœÇ›Ç≈Ç†ÇÈÇ∆Ç´ */
        if (g_direction.South <= 7) {
          i157 = (unsigned char)(1 << g_direction.South);
        } else {
          i157 = 0;
        }

        if (((maze_wall[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 1] &
              i157) != 0) == wall->contents.nowall) {
          if (g_direction.South <= 7) {
            i159 = (unsigned char)(1 << g_direction.South);
          } else {
            i159 = 0;
          }

          if (((maze_wall_search[(row->data[idx] + ((col->data[idx] - 1) << 5))
                - 1] & i159) != 0) == search->contents.known) {
            /* Ç©Ç¬êiçsï˚å¸Ç™ìÏìåå¸Ç´Ç≈Ç†ÇÈéû */
            if (g_d_direction.South_East <= 7) {
              i161 = (unsigned char)(1 << g_d_direction.South_East);
            } else {
              i161 = 0;
            }

            if ((col_dir_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 1]
                 & i161) != 0) {
              /* Ç©Ç¬ìÏìåÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇÊÇËÇ‡ëÂÇ´Ç»ílÇÃèÍçá */
              qY = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                1] + 4U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              if (row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                  > (int)qY) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = col_num_node_temp[(row->data[idx] + ((col->data[idx] - 1) <<
                  5)) - 1] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                row_num_node_temp[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] = (unsigned short)qY;

                /* ï‡êîMAPçXêV */
                qY = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 4U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1] =
                  (unsigned short)qY;

                /* à⁄ìÆï˚å¸MAPçXêV */
                if (g_d_direction.South_East <= 7) {
                  row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                    = (unsigned char)(1 << g_d_direction.South_East);
                } else {
                  row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                    = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬ìÏìåÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 4U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                    1] == (int)qY) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  if (g_d_direction.South_East <= 7) {
                    i169 = (unsigned char)(1 << g_d_direction.South_East);
                  } else {
                    i169 = 0;
                  }

                  row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                    = (unsigned char)(row_dir_node[(row->data[idx] + 33 *
                    (col->data[idx] - 1)) - 1] | i169);
                }
              }

              /* Ç©Ç¬êiçsï˚å¸Ç™ìÏìåå¸Ç´Ç≈Ç»Ç¢Ç∆Ç´     */
            } else {
              /* Ç©Ç¬ìÏìåÇÃÉmÅ[ÉhÇÃï‡êîMAPílÇ™ÅAçXêVó\íËílÇÊÇËëÂÇ´Ç¢èÍçá */
              qY = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                1] + 18U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              if (row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                  > (int)qY) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = col_num_node_temp[(row->data[idx] + ((col->data[idx] - 1) <<
                  5)) - 1] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                row_num_node_temp[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] = (unsigned short)qY;

                /* ï‡êîMAPçXêV(èdÇ›Ç√ÇØÇ†ÇË) */
                qY = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 18U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1] =
                  (unsigned short)qY;

                /* à⁄ìÆï˚å¸MAPçXêV */
                if (g_d_direction.South_East <= 7) {
                  row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                    = (unsigned char)(1 << g_d_direction.South_East);
                } else {
                  row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                    = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬ìÏìåÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 18U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                    1] == (int)qY) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  if (g_d_direction.South_East <= 7) {
                    i168 = (unsigned char)(1 << g_d_direction.South_East);
                  } else {
                    i168 = 0;
                  }

                  row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                    = (unsigned char)(row_dir_node[(row->data[idx] + 33 *
                    (col->data[idx] - 1)) - 1] | i168);
                }
              }
            }
          }
        }

        /* ìÏë§ÇÕíå */
        /* ìÏêºë§ */
        /* ï«Ç™ñ≥Ç¢ & íTçıçœÇ›Ç≈Ç†ÇÈÇ∆Ç´ */
        a = maze_wall[(row->data[idx] + ((col->data[idx] - 2) << 5)) - 1];
        if (g_direction.South <= 7) {
          i160 = (unsigned char)(1 << g_direction.South);
        } else {
          i160 = 0;
        }

        if (((a & i160) != 0) == wall->contents.nowall) {
          a = maze_wall_search[(row->data[idx] + ((col->data[idx] - 2) << 5)) -
            1];
          if (g_direction.South <= 7) {
            i162 = (unsigned char)(1 << g_direction.South);
          } else {
            i162 = 0;
          }

          if (((a & i162) != 0) == search->contents.known) {
            /* Ç©Ç¬êiçsï˚å¸Ç™ìÏêºå¸Ç´Ç≈Ç†ÇÈéû */
            if (g_d_direction.South_West <= 7) {
              i164 = (unsigned char)(1 << g_d_direction.South_West);
            } else {
              i164 = 0;
            }

            if ((col_dir_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 1]
                 & i164) != 0) {
              /* Ç©Ç¬ìÏêºÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇÊÇËÇ‡ëÂÇ´Ç»ílÇÃèÍçá */
              qY = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                1] + 4U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              if (row_num_node[(row->data[idx] + 33 * (col->data[idx] - 2)) - 1]
                  > (int)qY) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = col_num_node_temp[(row->data[idx] + ((col->data[idx] - 1) <<
                  5)) - 1] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                row_num_node_temp[(row->data[idx] + 33 * (col->data[idx] - 2)) -
                  1] = (unsigned short)qY;

                /* ï‡êîMAPçXêV */
                qY = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 4U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                row_num_node[(row->data[idx] + 33 * (col->data[idx] - 2)) - 1] =
                  (unsigned short)qY;

                /* à⁄ìÆï˚å¸MAPçXêV */
                if (g_d_direction.South_West <= 7) {
                  row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 2)) - 1]
                    = (unsigned char)(1 << g_d_direction.South_West);
                } else {
                  row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 2)) - 1]
                    = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬ìÏêºÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 4U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (row_num_node[(row->data[idx] + 33 * (col->data[idx] - 2)) -
                    1] == (int)qY) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  a = row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 2))
                    - 1];
                  if (g_d_direction.South_West <= 7) {
                    i176 = (unsigned char)(1 << g_d_direction.South_West);
                  } else {
                    i176 = 0;
                  }

                  row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 2)) - 1]
                    = (unsigned char)(a | i176);
                }
              }

              /* Ç©Ç¬êiçsï˚å¸Ç™ìÏêºå¸Ç´Ç≈Ç»Ç¢Ç∆Ç´     */
            } else {
              /* Ç©Ç¬ìÏêºÇÃÉmÅ[ÉhÇÃï‡êîMAPílÇ™ÅAçXêVó\íËílÇÊÇËëÂÇ´Ç¢èÍçá */
              qY = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                1] + 18U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              if (row_num_node[(row->data[idx] + 33 * (col->data[idx] - 2)) - 1]
                  > (int)qY) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = col_num_node_temp[(row->data[idx] + ((col->data[idx] - 1) <<
                  5)) - 1] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                row_num_node_temp[(row->data[idx] + 33 * (col->data[idx] - 2)) -
                  1] = (unsigned short)qY;

                /* ï‡êîMAPçXêV(èdÇ›Ç√ÇØÇ†ÇË) */
                qY = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 18U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                row_num_node[(row->data[idx] + 33 * (col->data[idx] - 2)) - 1] =
                  (unsigned short)qY;

                /* à⁄ìÆï˚å¸MAPçXêV */
                if (g_d_direction.South_West <= 7) {
                  row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 2)) - 1]
                    = (unsigned char)(1 << g_d_direction.South_West);
                } else {
                  row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 2)) - 1]
                    = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬ìÏêºÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 18U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (row_num_node[(row->data[idx] + 33 * (col->data[idx] - 2)) -
                    1] == (int)qY) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  a = row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 2))
                    - 1];
                  if (g_d_direction.South_West <= 7) {
                    i175 = (unsigned char)(1 << g_d_direction.South_West);
                  } else {
                    i175 = 0;
                  }

                  row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 2)) - 1]
                    = (unsigned char)(a | i175);
                }
              }
            }
          }
        }

        /* êºë§ */
        /* ï«Ç™ñ≥Ç¢ & íTçıçœÇ›Ç≈Ç†ÇÈÇ∆Ç´ */
        a = maze_wall[(row->data[idx] + ((col->data[idx] - 2) << 5)) - 1];
        if (g_direction.West <= 7) {
          i163 = (unsigned char)(1 << g_direction.West);
        } else {
          i163 = 0;
        }

        if (((a & i163) != 0) == wall->contents.nowall) {
          a = maze_wall_search[(row->data[idx] + ((col->data[idx] - 2) << 5)) -
            1];
          if (g_direction.West <= 7) {
            i165 = (unsigned char)(1 << g_direction.West);
          } else {
            i165 = 0;
          }

          if (((a & i165) != 0) == search->contents.known) {
            /* Ç©Ç¬êiçsï˚å¸Ç™êºå¸Ç´Ç≈Ç†ÇÈéû */
            if (g_d_direction.West <= 7) {
              i171 = (unsigned char)(1 << g_d_direction.West);
            } else {
              i171 = 0;
            }

            if ((col_dir_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 1]
                 & i171) != 0) {
              /* Ç©Ç¬êºÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇÊÇËÇ‡ëÂÇ´Ç»ílÇÃèÍçá */
              qY = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                1] + 6U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              if (col_num_node[(row->data[idx] + ((col->data[idx] - 2) << 5)) -
                  1] > (int)qY) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = col_num_node_temp[(row->data[idx] + ((col->data[idx] - 1) <<
                  5)) - 1] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                col_num_node_temp[(row->data[idx] + ((col->data[idx] - 2) << 5))
                  - 1] = (unsigned short)qY;

                /* ï‡êîMAPçXêV */
                qY = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 6U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                col_num_node[(row->data[idx] + ((col->data[idx] - 2) << 5)) - 1]
                  = (unsigned short)qY;

                /* à⁄ìÆï˚å¸MAPçXêV */
                if (g_d_direction.West <= 7) {
                  col_dir_node[(row->data[idx] + ((col->data[idx] - 2) << 5)) -
                    1] = (unsigned char)(1 << g_d_direction.West);
                } else {
                  col_dir_node[(row->data[idx] + ((col->data[idx] - 2) << 5)) -
                    1] = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬êºÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 6U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (col_num_node[(row->data[idx] + ((col->data[idx] - 2) << 5))
                    - 1] == (int)qY) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  a = col_dir_node[(row->data[idx] + ((col->data[idx] - 2) << 5))
                    - 1];
                  if (g_d_direction.West <= 7) {
                    i179 = (unsigned char)(1 << g_d_direction.West);
                  } else {
                    i179 = 0;
                  }

                  col_dir_node[(row->data[idx] + ((col->data[idx] - 2) << 5)) -
                    1] = (unsigned char)(a | i179);
                }
              }

              /* Ç©Ç¬êiçsï˚å¸Ç™êºå¸Ç´Ç≈Ç»Ç¢Ç∆Ç´     */
            } else {
              /* Ç©Ç¬êºÇÃÉmÅ[ÉhÇÃï‡êîMAPílÇ™ÅAçXêVó\íËílÇÊÇËëÂÇ´Ç¢èÍçá */
              qY = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                1] + 18U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              if (col_num_node[(row->data[idx] + ((col->data[idx] - 2) << 5)) -
                  1] > (int)qY) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = col_num_node_temp[(row->data[idx] + ((col->data[idx] - 1) <<
                  5)) - 1] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                col_num_node_temp[(row->data[idx] + ((col->data[idx] - 2) << 5))
                  - 1] = (unsigned short)qY;

                /* ï‡êîMAPçXêV(èdÇ›Ç√ÇØÇ†ÇË) */
                qY = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 18U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                col_num_node[(row->data[idx] + ((col->data[idx] - 2) << 5)) - 1]
                  = (unsigned short)qY;

                /* à⁄ìÆï˚å¸MAPçXêV */
                if (g_d_direction.West <= 7) {
                  col_dir_node[(row->data[idx] + ((col->data[idx] - 2) << 5)) -
                    1] = (unsigned char)(1 << g_d_direction.West);
                } else {
                  col_dir_node[(row->data[idx] + ((col->data[idx] - 2) << 5)) -
                    1] = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬êºÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 18U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (col_num_node[(row->data[idx] + ((col->data[idx] - 2) << 5))
                    - 1] == (int)qY) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  a = col_dir_node[(row->data[idx] + ((col->data[idx] - 2) << 5))
                    - 1];
                  if (g_d_direction.West <= 7) {
                    i178 = (unsigned char)(1 << g_d_direction.West);
                  } else {
                    i178 = 0;
                  }

                  col_dir_node[(row->data[idx] + ((col->data[idx] - 2) << 5)) -
                    1] = (unsigned char)(a | i178);
                }
              }
            }
          }
        }

        /* ñkêºë§ */
        /* ï«Ç™ñ≥Ç¢ & íTçıçœÇ›Ç≈Ç†ÇÈÇ∆Ç´ */
        a = maze_wall[(row->data[idx] + ((col->data[idx] - 2) << 5)) - 1];
        if (g_direction.North <= 7) {
          i170 = (unsigned char)(1 << g_direction.North);
        } else {
          i170 = 0;
        }

        if (((a & i170) != 0) == wall->contents.nowall) {
          a = maze_wall_search[(row->data[idx] + ((col->data[idx] - 2) << 5)) -
            1];
          if (g_direction.North <= 7) {
            i174 = (unsigned char)(1 << g_direction.North);
          } else {
            i174 = 0;
          }

          if (((a & i174) != 0) == search->contents.known) {
            /* Ç©Ç¬êiçsï˚å¸Ç™ñkêºå¸Ç´Ç≈Ç†ÇÈéû */
            if (g_d_direction.North_West <= 7) {
              i177 = (unsigned char)(1 << g_d_direction.North_West);
            } else {
              i177 = 0;
            }

            if ((col_dir_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 1]
                 & i177) != 0) {
              /* Ç©Ç¬ñkêºÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇÊÇËÇ‡ëÂÇ´Ç»ílÇÃèÍçá */
              qY = row->data[idx] + 1U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              u9 = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                1] + 4U;
              if (u9 > 65535U) {
                u9 = 65535U;
              }

              if (row_num_node[((int)qY + 33 * (col->data[idx] - 2)) - 1] > (int)
                  u9) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u9 = col_num_node_temp[(row->data[idx] + ((col->data[idx] - 1) <<
                  5)) - 1] + 1U;
                if (u9 > 65535U) {
                  u9 = 65535U;
                }

                row_num_node_temp[((int)qY + 33 * (col->data[idx] - 2)) - 1] =
                  (unsigned short)u9;

                /* ï‡êîMAPçXêV */
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u9 = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 4U;
                if (u9 > 65535U) {
                  u9 = 65535U;
                }

                row_num_node[((int)qY + 33 * (col->data[idx] - 2)) - 1] =
                  (unsigned short)u9;

                /* à⁄ìÆï˚å¸MAPçXêV */
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (g_d_direction.North_West <= 7) {
                  row_dir_node[((int)qY + 33 * (col->data[idx] - 2)) - 1] =
                    (unsigned char)(1 << g_d_direction.North_West);
                } else {
                  row_dir_node[((int)qY + 33 * (col->data[idx] - 2)) - 1] = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬ñkêºÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u9 = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 4U;
                if (u9 > 65535U) {
                  u9 = 65535U;
                }

                if (row_num_node[((int)qY + 33 * (col->data[idx] - 2)) - 1] ==
                    (int)u9) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  qY = row->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  a = row_dir_node[((int)qY + 33 * (col->data[idx] - 2)) - 1];
                  qY = row->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  if (g_d_direction.North_West <= 7) {
                    i181 = (unsigned char)(1 << g_d_direction.North_West);
                  } else {
                    i181 = 0;
                  }

                  row_dir_node[((int)qY + 33 * (col->data[idx] - 2)) - 1] =
                    (unsigned char)(a | i181);
                }
              }

              /* Ç©Ç¬êiçsï˚å¸Ç™ñkêºå¸Ç´Ç≈Ç»Ç¢Ç∆Ç´     */
            } else {
              /* Ç©Ç¬ñkêºÇÃÉmÅ[ÉhÇÃï‡êîMAPílÇ™ÅAçXêVó\íËílÇÊÇËëÂÇ´Ç¢èÍçá */
              qY = row->data[idx] + 1U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              u9 = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                1] + 18U;
              if (u9 > 65535U) {
                u9 = 65535U;
              }

              if (row_num_node[((int)qY + 33 * (col->data[idx] - 2)) - 1] > (int)
                  u9) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u9 = col_num_node_temp[(row->data[idx] + ((col->data[idx] - 1) <<
                  5)) - 1] + 1U;
                if (u9 > 65535U) {
                  u9 = 65535U;
                }

                row_num_node_temp[((int)qY + 33 * (col->data[idx] - 2)) - 1] =
                  (unsigned short)u9;

                /* ï‡êîMAPçXêV(èdÇ›Ç√ÇØÇ†ÇË) */
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u9 = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 18U;
                if (u9 > 65535U) {
                  u9 = 65535U;
                }

                row_num_node[((int)qY + 33 * (col->data[idx] - 2)) - 1] =
                  (unsigned short)u9;

                /* à⁄ìÆï˚å¸MAPçXêV */
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (g_d_direction.North_West <= 7) {
                  row_dir_node[((int)qY + 33 * (col->data[idx] - 2)) - 1] =
                    (unsigned char)(1 << g_d_direction.North_West);
                } else {
                  row_dir_node[((int)qY + 33 * (col->data[idx] - 2)) - 1] = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬ñkêºÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u9 = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 18U;
                if (u9 > 65535U) {
                  u9 = 65535U;
                }

                if (row_num_node[((int)qY + 33 * (col->data[idx] - 2)) - 1] ==
                    (int)u9) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  qY = row->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  a = row_dir_node[((int)qY + 33 * (col->data[idx] - 2)) - 1];
                  qY = row->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  if (g_d_direction.North_West <= 7) {
                    i180 = (unsigned char)(1 << g_d_direction.North_West);
                  } else {
                    i180 = 0;
                  }

                  row_dir_node[((int)qY + 33 * (col->data[idx] - 2)) - 1] =
                    (unsigned char)(a | i180);
                }
              }
            }
          }
        }
      }
    }

    /* çXêVÇ™Ç»ÇØÇÍÇŒèIóπ(ÉXÉ^Å[Égínì_ÇÃï‡êîÉ}ÉbÉvÇçXêV)     */
  } while (!(change_flag == 0));

  emxFree_uint16_T(&b_num_temp);
  emxFree_uint16_T(&col);
  emxFree_uint16_T(&row);
  qY = row_num_node[1] + 3U;
  if (qY > 65535U) {
    qY = 65535U;
  }

  *start_num = (unsigned short)qY;
}

/*
 * ì¸óÕÅ@åªç›à íux,y,åªç›ï˚å¸,ñ¿òHçsï˚å¸ÉTÉCÉY,ñ¿òHóÒï˚å¸ÉTÉCÉY,ñ¿òHï«èÓïÒ,ñ¿òHï«ÇÃíTçıèÓïÒ,ÉSÅ[Éãç¿ïW
 * èoóÕ  åªç›à íux,y,åªç›ï˚å¸,ï«èÓïÒ,íTçıèÓïÒ
 * Arguments    : const coder_internal_ref_5 *wall
 *                coder_internal_ref *wall_flg
 *                const coder_internal_ref_4 *search
 *                const coder_internal_ref_1 *maze_goal
 *                coder_internal_ref_3 *num_temp
 *                unsigned char *current_x
 *                unsigned char *current_y
 *                unsigned char *current_dir
 *                unsigned char maze_row_size
 *                unsigned char maze_col_size
 *                unsigned char maze_wall[1024]
 *                unsigned char maze_wall_search[1024]
 *                const unsigned char exploration_goal[18]
 *                unsigned char *start_flg
 *                unsigned char goal_after_flg
 *                unsigned short contour_map[1024]
 * Return Type  : void
 */
static void b_search_adachi(const coder_internal_ref_5 *wall, coder_internal_ref
  *wall_flg, const coder_internal_ref_4 *search, const coder_internal_ref_1
  *maze_goal, coder_internal_ref_3 *num_temp, unsigned char *current_x, unsigned
  char *current_y, unsigned char *current_dir, unsigned char maze_row_size,
  unsigned char maze_col_size, unsigned char maze_wall[1024], unsigned char
  maze_wall_search[1024], const unsigned char exploration_goal[18], unsigned
  char *start_flg, unsigned char goal_after_flg, unsigned short contour_map[1024])
{
  unsigned char goal_flg;
  int exitg1;
  unsigned char next_dir;
  int q0;
  unsigned int qY;

  /*  search_adachi ë´óßñ@Ç≈ÇÃíTçı */
  /* localïœêîêÈåæ */
  goal_flg = 0U;

  /* ÉSÅ[ÉãîªíËÉtÉâÉO */
  /*      search_start_x = current_x %íTçıäJénéûx */
  /*      search_start_y = current_y %íTçıäJénéûy */
  do {
    exitg1 = 0;

    /* ï«èÓïÒéÊìæ */
    /* ÉSÅ[Éãíºå„ÇÕï«èÓïÒÇçXêVÇµÇ»Ç¢ */
    if (goal_after_flg != 1) {
      wall_set(wall, wall_flg, search, maze_goal, maze_row_size, maze_col_size, *
               current_x, *current_y, *current_dir, maze_wall, maze_wall_search);
    } else {
      /* ÉSÅ[Éãíºå„ÇÃÇ∆Ç´ */
      goal_after_flg = 0U;

      /* ÉSÅ[Éãíºå„ÉtÉâÉOÇÉNÉäÉA */
    }

    /*  ìôçÇê¸MAPê∂ê¨ */
    /*  [contour_map,max_length] = make_map2(maze_row_size,maze_col_size,maze_goal,maze_wall); */
    make_map_find(num_temp, wall, exploration_goal, 1U, maze_wall, contour_map);

    /* åªç›à íuÇ™ÉSÅ[ÉãÇ©îªíË */
    if ((*current_x == exploration_goal[0]) && (*current_y == exploration_goal[9]))
    {
      goal_flg = 1U;
    }

    /* ÉSÅ[Éãéûèàóù */
    if (goal_flg == 1) {
      exitg1 = 1;
    } else {
      /*  êiçsï˚å¸ëIíË */
      /* óDêÊèáà Å@ñkÅÀìåÅÀìÏÅÀêº */
      next_dir = get_nextdir2(*current_x, *current_y, maze_wall, contour_map);

      /*  åªç›ï˚å¸Ç∆êiçsï˚å¸Ç…âûÇ∂ÇΩèàóù */
      q0 = (int)(4U + next_dir);
      if ((unsigned int)q0 > 255U) {
        q0 = 255;
      }

      qY = (unsigned int)q0 - *current_dir;
      if (qY > (unsigned int)q0) {
        qY = 0U;
      }

      next_dir = b_rem((unsigned char)qY);
      if (l_direction.front == next_dir) {
        q0 = 0;
      } else if (l_direction.right == next_dir) {
        q0 = 1;
      } else if (l_direction.back == next_dir) {
        q0 = 2;
      } else if (l_direction.left == next_dir) {
        q0 = 3;
      } else {
        q0 = -1;
      }

      switch (q0) {
       case 0:
        move_step(current_x, current_y, *current_dir);

        /* disp("front") */
        m_move_front(*start_flg, wall_flg->contents, move_dir_property.straight);

        /* ÉXÉ^Å[Égíºå„ÉtÉâÉOÇÉNÉäÉA */
        *start_flg = 0U;

        /* ï«ÉtÉâÉOÇÉNÉäÉA */
        wall_flg->contents = 0U;
        break;

       case 1:
        turn_clk_90deg(current_dir);
        move_step(current_x, current_y, *current_dir);

        /* disp("right") */
        m_move_right(*start_flg, wall_flg->contents, move_dir_property.straight);

        /* ÉXÉ^Å[Égíºå„ÉtÉâÉOÇÉNÉäÉA */
        *start_flg = 0U;

        /* ï«ÉtÉâÉOÇÉNÉäÉA */
        wall_flg->contents = 0U;
        break;

       case 2:
        turn_180deg(current_dir);
        move_step(current_x, current_y, *current_dir);

        /* disp("back") */
        m_move_back(*start_flg, wall_flg->contents, move_dir_property.straight);

        /* ÉXÉ^Å[Égíºå„ÉtÉâÉOÇÉNÉäÉA */
        *start_flg = 0U;

        /* ï«ÉtÉâÉOÇÉNÉäÉA */
        wall_flg->contents = 0U;
        break;

       case 3:
        turn_conclk_90deg(current_dir);
        move_step(current_x, current_y, *current_dir);

        /* disp("left") */
        m_move_left(*start_flg, wall_flg->contents, move_dir_property.straight);

        /* ÉXÉ^Å[Égíºå„ÉtÉâÉOÇÉNÉäÉA */
        *start_flg = 0U;

        /* ï«ÉtÉâÉOÇÉNÉäÉA */
        wall_flg->contents = 0U;
        break;
      }

      /* for code generation */
    }
  } while (exitg1 == 0);

  /* ÉSÅ[Éãéûí‚é~ÉtÉâÉOÇ™óßÇ¡ÇƒÇ¢Ç»ÇØÇÍÇŒÅAìÆçÏÇ≥ÇπÇΩÇ‹Ç‹èIóπ */
  /*           */
  /*      if coder.target('MATLAB') */
  /*          %for MATLAB     */
  /*          %íTçıèIóπéû,É}Å[ÉJÅ[ÇÇ«Ç±Ç©âìÇ≠Ç… */
  /*          %m = makehgtform('translate',50*9,50*9,0); */
  /*          %h.Matrix = m; */
  /*          %ï ÇÃéÌóﬁÇÃÉ}Å[ÉJÅ[ÇâºíuÇ´ */
  /*          hold on */
  /*          plot(current_x * 9 -4.5,current_y * 9 -4.5,'-ob'); */
  /*          hold off */
  /*          %íTçıèÛãµÉvÉçÉbÉgÇìßñæâª */
  /*          serface_transparency(search_surf); */
  /*          drawnow */
  /*      else */
  /*          %for code generation */
  /*      end */
}

/*
 * ÉXÉ^Å[ÉgÉmÅ[Éh,ï˚å¸Çê›íË
 * Arguments    : const unsigned char maze_goal[18]
 *                unsigned char goal_size
 *                const unsigned short row_num_node[1056]
 *                const unsigned short col_num_node[1056]
 *                unsigned char goal_node[2]
 *                unsigned char *goal_matrix_dir
 *                unsigned char *goal_dir
 * Return Type  : void
 */
static void decide_goal_node_dir(const unsigned char maze_goal[18], unsigned
  char goal_size, const unsigned short row_num_node[1056], const unsigned short
  col_num_node[1056], unsigned char goal_node[2], unsigned char *goal_matrix_dir,
  unsigned char *goal_dir)
{
  unsigned char next_matrix_dir;
  unsigned char next_node_idx_0;
  unsigned char next_node_idx_1;
  unsigned short map_min;
  int i110;
  int exitg1;
  unsigned char goal_flag;
  int i;
  bool guard1 = false;
  int i111;
  bool guard2 = false;
  bool guard3 = false;
  bool guard4 = false;
  unsigned int qY;
  unsigned short u7;

  /*  decide_goal_node_dir ÉSÅ[ÉãÉmÅ[ÉhÅAÇ®ÇÊÇ—ï˚å¸ÇÃämíË */
  /*  éŒÇﬂÇÃÉRÉìÉ^Å[É}ÉbÉvÇ©ÇÁÅAÉSÅ[ÉãÇ∆Ç»ÇÈÉmÅ[ÉhÇ∆ÅAÉSÅ[ÉãéûÇÃêiì¸äpìxÇämíËÇ∑ÇÈÅB */
  *goal_matrix_dir = matrix_dir.Row;

  /* ÉXÉ^Å[ÉgÉmÅ[ÉhÇÕçsï˚å¸ */
  /* ÉXÉ^Å[ÉgÉ}ÉXÇÃñkÇÃÉmÅ[Éh */
  next_matrix_dir = matrix_dir.Row;

  /* êiçsï˚å¸êÊÇÃÉmÅ[Éhï˚å¸ÅiâºÅj */
  goal_node[0] = 2U;
  next_node_idx_0 = 2U;
  goal_node[1] = 1U;
  next_node_idx_1 = 1U;

  /* êiçsï˚å¸êÊÇÃÉmÅ[Éhç¿ïW */
  *goal_dir = g_d_direction.North;

  /* êiçsï˚å¸Åiç≈èâÇÃâºÇÃílÇÕñkå¸Ç´Åj */
  map_min = MAX_uint16_T;
  i110 = goal_size;
  do {
    exitg1 = 0;
    goal_flag = 0U;
    for (i = 0; i < i110; i++) {
      /* åªç›ÇÃÉmÅ[ÉhÇ™çsï˚å¸ÇÃéû */
      if (*goal_matrix_dir == matrix_dir.Row) {
        /*  %x */
        if (maze_goal[i] == goal_node[1]) {
          guard1 = false;
          if (maze_goal[i + 9] == goal_node[0]) {
            guard1 = true;
          } else {
            i111 = (int)(maze_goal[i + 9] + 1U);
            if ((unsigned int)i111 > 255U) {
              i111 = 255;
            }

            if (i111 == goal_node[0]) {
              guard1 = true;
            }
          }

          if (guard1) {
            /* yç¿ïWÇÃàÍív */
            /* êiçsï˚å¸êÊÇ…ï«Ç™Ç†ÇÍÇŒ(É}ÉbÉvílÇ™65535Ç≈Ç†ÇÍÇŒ)ÅAêiçsï˚å¸ÇïœçXÇ∑ÇÈÅiéŒÇﬂêNì¸éûÅj */
            /* ñkìå */
            guard2 = false;
            guard3 = false;
            guard4 = false;
            if (*goal_dir == g_d_direction.North_East) {
              i111 = (int)(goal_node[1] + 1U);
              if ((unsigned int)i111 > 255U) {
                i111 = 255;
              }

              if (col_num_node[(goal_node[0] + ((i111 - 1) << 5)) - 1] == 65535)
              {
                *goal_dir = g_d_direction.North;

                /* ìÏìå */
              } else {
                guard4 = true;
              }
            } else {
              guard4 = true;
            }

            if (guard4) {
              if (*goal_dir == g_d_direction.South_East) {
                qY = goal_node[0] - 1U;
                if (qY > goal_node[0]) {
                  qY = 0U;
                }

                i111 = (int)(goal_node[1] + 1U);
                if ((unsigned int)i111 > 255U) {
                  i111 = 255;
                }

                if (col_num_node[((int)qY + ((i111 - 1) << 5)) - 1] == 65535) {
                  *goal_dir = g_d_direction.South;

                  /* ìÏêº */
                } else {
                  guard3 = true;
                }
              } else {
                guard3 = true;
              }
            }

            if (guard3) {
              if (*goal_dir == g_d_direction.South_West) {
                qY = goal_node[0] - 1U;
                if (qY > goal_node[0]) {
                  qY = 0U;
                }

                if (col_num_node[((int)qY + ((goal_node[1] - 1) << 5)) - 1] ==
                    65535) {
                  *goal_dir = g_d_direction.South;

                  /* ñkêº */
                } else {
                  guard2 = true;
                }
              } else {
                guard2 = true;
              }
            }

            if (guard2 && ((*goal_dir == g_d_direction.North_West) &&
                           (col_num_node[(goal_node[0] + ((goal_node[1] - 1) <<
                    5)) - 1] == 65535))) {
              *goal_dir = g_d_direction.North;
            }

            /* ÉtÉâÉO */
            goal_flag = 1U;
          }
        }

        /* åªç›ÇÃÉmÅ[ÉhÇ™óÒï˚å¸ÇÃéû */
      } else {
        /*  %x */
        guard1 = false;
        if (maze_goal[i] == goal_node[1]) {
          guard1 = true;
        } else {
          i111 = (int)(maze_goal[i] + 1U);
          if ((unsigned int)i111 > 255U) {
            i111 = 255;
          }

          if (i111 == goal_node[1]) {
            guard1 = true;
          }
        }

        if (guard1 && (maze_goal[i + 9] == goal_node[0])) {
          /* yç¿ïWÇÃàÍív */
          /* êiçsï˚å¸êÊÇ…ï«Ç™Ç†ÇÍÇŒ(É}ÉbÉvílÇ™65535Ç≈Ç†ÇÍÇŒ)ÅAêiçsï˚å¸ÇïœçXÇ∑ÇÈÅiéŒÇﬂêNì¸éûÅj */
          /* ñkìå */
          guard2 = false;
          guard3 = false;
          if (*goal_dir == g_d_direction.North_East) {
            i111 = (int)(goal_node[0] + 1U);
            if ((unsigned int)i111 > 255U) {
              i111 = 255;
            }

            if (row_num_node[(i111 + 33 * (goal_node[1] - 1)) - 1] == 65535) {
              *goal_dir = g_d_direction.East;

              /* ìÏìå */
            } else {
              guard3 = true;
            }
          } else {
            guard3 = true;
          }

          if (guard3) {
            if ((*goal_dir == g_d_direction.South_East) && (row_num_node
                 [(goal_node[0] + 33 * (goal_node[1] - 1)) - 1] == 65535)) {
              *goal_dir = g_d_direction.East;

              /* ìÏêº */
            } else if (*goal_dir == g_d_direction.South_West) {
              qY = goal_node[1] - 1U;
              if (qY > goal_node[1]) {
                qY = 0U;
              }

              if (row_num_node[(goal_node[0] + 33 * ((int)qY - 1)) - 1] == 65535)
              {
                *goal_dir = g_d_direction.West;

                /* ñkêº */
              } else {
                guard2 = true;
              }
            } else {
              guard2 = true;
            }
          }

          if (guard2 && (*goal_dir == g_d_direction.North_West)) {
            i111 = (int)(goal_node[0] + 1U);
            if ((unsigned int)i111 > 255U) {
              i111 = 255;
            }

            qY = goal_node[1] - 1U;
            if (qY > goal_node[1]) {
              qY = 0U;
            }

            if (row_num_node[(i111 + 33 * ((int)qY - 1)) - 1] == 65535) {
              *goal_dir = g_d_direction.West;
            }
          }

          /* ÉtÉâÉO */
          goal_flag = 1U;
        }
      }
    }

    /*              disp("current_node") */
    /*              disp(current_node) */
    /*              disp("current_matrix_dir") */
    /*              disp(current_matrix_dir) */
    /*              disp("current_dir_dgnd") */
    /*              disp(current_dir_dgnd) */
    /* ÉSÅ[ÉãÉmÅ[ÉhîªíËÇÃéû */
    /* åªç›ÇÃÉmÅ[ÉhÇÉSÅ[ÉãÉmÅ[ÉhÇ∆ÇµÅA */
    /* åªç›ÇÃï˚å¸ÇÉSÅ[ÉãéûÇÃï˚å¸Ç∆Ç∑ÇÈÅB */
    if (goal_flag == 1) {
      exitg1 = 1;
    } else {
      /* åªç›ÇÃÉmÅ[ÉhÇÃï˚å¸Ç©ÇÁóDêÊìIÇ…êiçsï˚å¸ÇämíË */
      for (i = 0; i < 8; i++) {
        i111 = *goal_dir + i;
        if (i111 > 255) {
          i111 = 255;
        }

        goal_flag = (unsigned char)(i111 % 8);

        /* åªç›ÇÃÉmÅ[ÉhÇ™çsï˚å¸ÇÃéû */
        if (*goal_matrix_dir == matrix_dir.Row) {
          if (goal_flag == g_d_direction.North) {
            i111 = (int)(goal_node[0] + 1U);
            if ((unsigned int)i111 > 255U) {
              i111 = 255;
            }

            if (row_num_node[(i111 + 33 * (goal_node[1] - 1)) - 1] < map_min) {
              /* ç≈è¨ílÇçXêV */
              i111 = (int)(goal_node[0] + 1U);
              if ((unsigned int)i111 > 255U) {
                i111 = 255;
              }

              map_min = row_num_node[(i111 + 33 * (goal_node[1] - 1)) - 1];

              /* åªç›ÉmÅ[ÉhÇÃêiçsï˚å¸Çñkå¸Ç´Ç… */
              *goal_dir = g_d_direction.North;

              /* êiçsï˚å¸êÊÇÃç¿ïWÅAçsóÒÇÃï˚å¸ÇçXêV */
              next_matrix_dir = matrix_dir.Row;
              i111 = (int)(goal_node[0] + 1U);
              if ((unsigned int)i111 > 255U) {
                i111 = 255;
              }

              next_node_idx_0 = (unsigned char)i111;
              next_node_idx_1 = goal_node[1];
            }
          } else if (goal_flag == g_d_direction.North_East) {
            i111 = (int)(goal_node[1] + 1U);
            if ((unsigned int)i111 > 255U) {
              i111 = 255;
            }

            if (col_num_node[(goal_node[0] + ((i111 - 1) << 5)) - 1] < map_min)
            {
              /* ç≈è¨ílÇçXêV */
              i111 = (int)(goal_node[1] + 1U);
              if ((unsigned int)i111 > 255U) {
                i111 = 255;
              }

              map_min = col_num_node[(goal_node[0] + ((i111 - 1) << 5)) - 1];

              /* åªç›ÉmÅ[ÉhÇÃêiçsï˚å¸Çñkå¸Ç´Ç… */
              *goal_dir = g_d_direction.North_East;

              /* êiçsï˚å¸êÊÇÃç¿ïWÅAçsóÒÇÃï˚å¸ÇçXêV */
              next_matrix_dir = matrix_dir.Col;
              next_node_idx_0 = goal_node[0];
              i111 = (int)(goal_node[1] + 1U);
              if ((unsigned int)i111 > 255U) {
                i111 = 255;
              }

              next_node_idx_1 = (unsigned char)i111;
            }
          } else if (goal_flag != g_d_direction.East) {
            if (goal_flag == g_d_direction.South_East) {
              qY = goal_node[0] - 1U;
              if (qY > goal_node[0]) {
                qY = 0U;
              }

              i111 = (int)(goal_node[1] + 1U);
              if ((unsigned int)i111 > 255U) {
                i111 = 255;
              }

              if (col_num_node[((int)qY + ((i111 - 1) << 5)) - 1] < map_min) {
                /* ç≈è¨ílÇçXêV */
                qY = goal_node[0] - 1U;
                if (qY > goal_node[0]) {
                  qY = 0U;
                }

                i111 = (int)(goal_node[1] + 1U);
                if ((unsigned int)i111 > 255U) {
                  i111 = 255;
                }

                map_min = col_num_node[((int)qY + ((i111 - 1) << 5)) - 1];

                /* åªç›ÉmÅ[ÉhÇÃêiçsï˚å¸Çñkå¸Ç´Ç… */
                *goal_dir = g_d_direction.South_East;

                /* êiçsï˚å¸êÊÇÃç¿ïWÅAçsóÒÇÃï˚å¸ÇçXêV */
                next_matrix_dir = matrix_dir.Col;
                qY = goal_node[0] - 1U;
                if (qY > goal_node[0]) {
                  qY = 0U;
                }

                next_node_idx_0 = (unsigned char)qY;
                i111 = (int)(goal_node[1] + 1U);
                if ((unsigned int)i111 > 255U) {
                  i111 = 255;
                }

                next_node_idx_1 = (unsigned char)i111;
              }
            } else if (goal_flag == g_d_direction.South) {
              qY = goal_node[0] - 1U;
              if (qY > goal_node[0]) {
                qY = 0U;
              }

              if (row_num_node[((int)qY + 33 * (goal_node[1] - 1)) - 1] <
                  map_min) {
                /* ç≈è¨ílÇçXêV */
                qY = goal_node[0] - 1U;
                if (qY > goal_node[0]) {
                  qY = 0U;
                }

                map_min = row_num_node[((int)qY + 33 * (goal_node[1] - 1)) - 1];

                /* åªç›ÉmÅ[ÉhÇÃêiçsï˚å¸Çñkå¸Ç´Ç… */
                *goal_dir = g_d_direction.South;

                /* êiçsï˚å¸êÊÇÃç¿ïWÅAçsóÒÇÃï˚å¸ÇçXêV */
                next_matrix_dir = matrix_dir.Row;
                qY = goal_node[0] - 1U;
                if (qY > goal_node[0]) {
                  qY = 0U;
                }

                next_node_idx_0 = (unsigned char)qY;
                next_node_idx_1 = goal_node[1];
              }
            } else if (goal_flag == g_d_direction.South_West) {
              qY = goal_node[0] - 1U;
              if (qY > goal_node[0]) {
                qY = 0U;
              }

              if (col_num_node[((int)qY + ((goal_node[1] - 1) << 5)) - 1] <
                  map_min) {
                /* ç≈è¨ílÇçXêV */
                qY = goal_node[0] - 1U;
                if (qY > goal_node[0]) {
                  qY = 0U;
                }

                map_min = col_num_node[((int)qY + ((goal_node[1] - 1) << 5)) - 1];

                /* åªç›ÉmÅ[ÉhÇÃêiçsï˚å¸Çñkå¸Ç´Ç… */
                *goal_dir = g_d_direction.South_West;

                /* êiçsï˚å¸êÊÇÃç¿ïWÅAçsóÒÇÃï˚å¸ÇçXêV */
                next_matrix_dir = matrix_dir.Col;
                qY = goal_node[0] - 1U;
                if (qY > goal_node[0]) {
                  qY = 0U;
                }

                next_node_idx_0 = (unsigned char)qY;
                next_node_idx_1 = goal_node[1];
              }
            } else if ((goal_flag != g_d_direction.West) && (goal_flag ==
                        g_d_direction.North_West) && (col_num_node[(goal_node[0]
              + ((goal_node[1] - 1) << 5)) - 1] < map_min)) {
              /* ç≈è¨ílÇçXêV */
              map_min = col_num_node[(goal_node[0] + ((goal_node[1] - 1) << 5))
                - 1];

              /* åªç›ÉmÅ[ÉhÇÃêiçsï˚å¸Çñkå¸Ç´Ç… */
              *goal_dir = g_d_direction.North_West;

              /* êiçsï˚å¸êÊÇÃç¿ïWÅAçsóÒÇÃï˚å¸ÇçXêV */
              next_matrix_dir = matrix_dir.Col;
              next_node_idx_0 = goal_node[0];
              next_node_idx_1 = goal_node[1];
            } else {
              /* íå */
            }
          } else {
            /* íå */
          }

          /* åªç›ÇÃÉmÅ[ÉhÇ™óÒï˚å¸ÇÃéû         */
        } else if (goal_flag != g_d_direction.North) {
          if (goal_flag == g_d_direction.North_East) {
            i111 = (int)(goal_node[0] + 1U);
            if ((unsigned int)i111 > 255U) {
              i111 = 255;
            }

            if (row_num_node[(i111 + 33 * (goal_node[1] - 1)) - 1] < map_min) {
              /* ç≈è¨ílÇçXêV */
              i111 = (int)(goal_node[0] + 1U);
              if ((unsigned int)i111 > 255U) {
                i111 = 255;
              }

              map_min = row_num_node[(i111 + 33 * (goal_node[1] - 1)) - 1];

              /* åªç›ÉmÅ[ÉhÇÃêiçsï˚å¸Çñkìåå¸Ç´Ç… */
              *goal_dir = g_d_direction.North_East;

              /* êiçsï˚å¸êÊÇÃç¿ïWÅAçsóÒÇÃï˚å¸ÇçXêV */
              next_matrix_dir = matrix_dir.Row;
              i111 = (int)(goal_node[0] + 1U);
              if ((unsigned int)i111 > 255U) {
                i111 = 255;
              }

              next_node_idx_0 = (unsigned char)i111;
              next_node_idx_1 = goal_node[1];
            }
          } else if (goal_flag == g_d_direction.East) {
            i111 = (int)(goal_node[1] + 1U);
            if ((unsigned int)i111 > 255U) {
              i111 = 255;
            }

            if (col_num_node[(goal_node[0] + ((i111 - 1) << 5)) - 1] < map_min)
            {
              /* ç≈è¨ílÇçXêV */
              i111 = (int)(goal_node[1] + 1U);
              if ((unsigned int)i111 > 255U) {
                i111 = 255;
              }

              map_min = col_num_node[(goal_node[0] + ((i111 - 1) << 5)) - 1];

              /* åªç›ÉmÅ[ÉhÇÃêiçsï˚å¸Çìåå¸Ç´Ç… */
              *goal_dir = g_d_direction.East;

              /* êiçsï˚å¸êÊÇÃç¿ïWÅAçsóÒÇÃï˚å¸ÇçXêV */
              next_matrix_dir = matrix_dir.Col;
              next_node_idx_0 = goal_node[0];
              i111 = (int)(goal_node[1] + 1U);
              if ((unsigned int)i111 > 255U) {
                i111 = 255;
              }

              next_node_idx_1 = (unsigned char)i111;
            }
          } else if (goal_flag == g_d_direction.South_East) {
            u7 = row_num_node[(goal_node[0] + 33 * (goal_node[1] - 1)) - 1];
            if (u7 < map_min) {
              /* ç≈è¨ílÇçXêV */
              map_min = u7;

              /* åªç›ÉmÅ[ÉhÇÃêiçsï˚å¸ÇìÏìåå¸Ç´Ç… */
              *goal_dir = g_d_direction.South_East;

              /* êiçsï˚å¸êÊÇÃç¿ïWÅAçsóÒÇÃï˚å¸ÇçXêV */
              next_matrix_dir = matrix_dir.Row;
              next_node_idx_0 = goal_node[0];
              next_node_idx_1 = goal_node[1];
            }
          } else if (goal_flag != g_d_direction.South) {
            if (goal_flag == g_d_direction.South_West) {
              qY = goal_node[1] - 1U;
              if (qY > goal_node[1]) {
                qY = 0U;
              }

              if (row_num_node[(goal_node[0] + 33 * ((int)qY - 1)) - 1] <
                  map_min) {
                /* ç≈è¨ílÇçXêV */
                qY = goal_node[1] - 1U;
                if (qY > goal_node[1]) {
                  qY = 0U;
                }

                map_min = row_num_node[(goal_node[0] + 33 * ((int)qY - 1)) - 1];

                /* åªç›ÉmÅ[ÉhÇÃêiçsï˚å¸ÇìÏêºå¸Ç´Ç… */
                *goal_dir = g_d_direction.South_West;

                /* êiçsï˚å¸êÊÇÃç¿ïWÅAçsóÒÇÃï˚å¸ÇçXêV */
                next_matrix_dir = matrix_dir.Row;
                next_node_idx_0 = goal_node[0];
                qY = goal_node[1] - 1U;
                if (qY > goal_node[1]) {
                  qY = 0U;
                }

                next_node_idx_1 = (unsigned char)qY;
              }
            } else if (goal_flag == g_d_direction.West) {
              qY = goal_node[1] - 1U;
              if (qY > goal_node[1]) {
                qY = 0U;
              }

              if (col_num_node[(goal_node[0] + (((int)qY - 1) << 5)) - 1] <
                  map_min) {
                /* ç≈è¨ílÇçXêV */
                qY = goal_node[1] - 1U;
                if (qY > goal_node[1]) {
                  qY = 0U;
                }

                map_min = col_num_node[(goal_node[0] + (((int)qY - 1) << 5)) - 1];

                /* åªç›ÉmÅ[ÉhÇÃêiçsï˚å¸Çêºå¸Ç´Ç… */
                *goal_dir = g_d_direction.West;

                /* êiçsï˚å¸êÊÇÃç¿ïWÅAçsóÒÇÃï˚å¸ÇçXêV */
                next_matrix_dir = matrix_dir.Col;
                next_node_idx_0 = goal_node[0];
                qY = goal_node[1] - 1U;
                if (qY > goal_node[1]) {
                  qY = 0U;
                }

                next_node_idx_1 = (unsigned char)qY;
              }
            } else {
              if (goal_flag == g_d_direction.North_West) {
                i111 = (int)(goal_node[0] + 1U);
                if ((unsigned int)i111 > 255U) {
                  i111 = 255;
                }

                qY = goal_node[1] - 1U;
                if (qY > goal_node[1]) {
                  qY = 0U;
                }

                if (row_num_node[(i111 + 33 * ((int)qY - 1)) - 1] < map_min) {
                  /* ç≈è¨ílÇçXêV */
                  i111 = (int)(goal_node[0] + 1U);
                  if ((unsigned int)i111 > 255U) {
                    i111 = 255;
                  }

                  qY = goal_node[1] - 1U;
                  if (qY > goal_node[1]) {
                    qY = 0U;
                  }

                  map_min = row_num_node[(i111 + 33 * ((int)qY - 1)) - 1];

                  /* åªç›ÉmÅ[ÉhÇÃêiçsï˚å¸Çñkêºå¸Ç´Ç… */
                  *goal_dir = g_d_direction.North_West;

                  /* êiçsï˚å¸êÊÇÃç¿ïWÅAçsóÒÇÃï˚å¸ÇçXêV */
                  next_matrix_dir = matrix_dir.Row;
                  i111 = (int)(goal_node[0] + 1U);
                  if ((unsigned int)i111 > 255U) {
                    i111 = 255;
                  }

                  next_node_idx_0 = (unsigned char)i111;
                  qY = goal_node[1] - 1U;
                  if (qY > goal_node[1]) {
                    qY = 0U;
                  }

                  next_node_idx_1 = (unsigned char)qY;
                }
              }
            }
          } else {
            /* íå */
          }
        } else {
          /* íå */
        }
      }

      goal_node[0] = next_node_idx_0;
      goal_node[1] = next_node_idx_1;
      *goal_matrix_dir = next_matrix_dir;
    }
  } while (exitg1 == 0);

  /*  */
}

/*
 * Arguments    : const unsigned char maze_goal[18]
 *                const unsigned char goal_node[2]
 *                unsigned char goal_matrix_dir
 *                unsigned char goal_dir
 *                unsigned char goal_section[2]
 *                unsigned char goal_node2[2]
 *                unsigned char *goal_matrix_dir2
 * Return Type  : void
 */
static void decide_goal_section(const unsigned char maze_goal[18], const
  unsigned char goal_node[2], unsigned char goal_matrix_dir, unsigned char
  goal_dir, unsigned char goal_section[2], unsigned char goal_node2[2], unsigned
  char *goal_matrix_dir2)
{
  int i112;
  int ex;
  unsigned int qY;
  int k;
  unsigned int b_qY;
  unsigned char uv0[18];
  bool temp1[18];
  signed char varargin_1[9];

  /*  decide_goal_section ÉSÅ[ÉãÉ}ÉXÇÃämíË */
  /*  ämíËÇ≥ÇÍÇΩÉSÅ[ÉãÇÃÉmÅ[ÉhÇ∆ÅAÉSÅ[ÉãéûÇÃêiì¸äpìxÇ©ÇÁÅA */
  /*  ÉSÅ[ÉãÉ}ÉXÇämíËÇ∑ÇÈÅB */
  /* (y,x) */
  goal_section[0] = 1U;
  goal_node2[0] = 1U;
  goal_section[1] = 1U;
  goal_node2[1] = 1U;
  *goal_matrix_dir2 = matrix_dir.Row;
  if (goal_dir == g_d_direction.North) {
    if (goal_matrix_dir == matrix_dir.Row) {
      i112 = (int)(goal_node[0] + 1U);
      ex = i112;
      if ((unsigned int)i112 > 255U) {
        ex = 255;
      }

      if (goal_judge(maze_goal, goal_node[1], (unsigned char)ex) != 0.0) {
        if ((unsigned int)i112 > 255U) {
          i112 = 255;
        }

        goal_section[0] = (unsigned char)i112;
        goal_section[1] = goal_node[1];

        /* (y,x) */
        goal_node2[0] = (unsigned char)i112;
        goal_node2[1] = goal_node[1];
      } else {
        goal_section[0] = goal_node[0];
        goal_section[1] = goal_node[1];

        /* (y,x) */
        goal_node2[0] = goal_node[0];
        goal_node2[1] = goal_node[1];
      }
    }

    /* óÒï˚å¸ÇÕíåÇ»ÇÃÇ≈Ç»Çµ */
  } else if (goal_dir == g_d_direction.North_East) {
    if (goal_matrix_dir == matrix_dir.Row) {
      i112 = (int)(goal_node[1] + 1U);
      if ((unsigned int)i112 > 255U) {
        i112 = 255;
      }

      ex = (int)(goal_node[0] + 1U);
      if ((unsigned int)ex > 255U) {
        ex = 255;
      }

      if (goal_judge(maze_goal, (unsigned char)i112, (unsigned char)ex) != 0.0)
      {
        i112 = (int)(goal_node[0] + 1U);
        if ((unsigned int)i112 > 255U) {
          i112 = 255;
        }

        goal_section[0] = (unsigned char)i112;
        i112 = (int)(goal_node[1] + 1U);
        if ((unsigned int)i112 > 255U) {
          i112 = 255;
        }

        goal_section[1] = (unsigned char)i112;

        /* (y,x) */
        i112 = (int)(goal_node[0] + 1U);
        if ((unsigned int)i112 > 255U) {
          i112 = 255;
        }

        goal_node2[0] = (unsigned char)i112;
        i112 = (int)(goal_node[1] + 1U);
        if ((unsigned int)i112 > 255U) {
          i112 = 255;
        }

        goal_node2[1] = (unsigned char)i112;
      } else {
        i112 = (int)(goal_node[1] + 1U);
        if ((unsigned int)i112 > 255U) {
          i112 = 255;
        }

        if (goal_judge(maze_goal, (unsigned char)i112, goal_node[0]) != 0.0) {
          goal_section[0] = goal_node[0];
          i112 = (int)(goal_node[1] + 1U);
          if ((unsigned int)i112 > 255U) {
            i112 = 255;
          }

          goal_section[1] = (unsigned char)i112;

          /* (y,x) */
          goal_node2[0] = goal_node[0];
          i112 = (int)(goal_node[1] + 1U);
          if ((unsigned int)i112 > 255U) {
            i112 = 255;
          }

          goal_node2[1] = (unsigned char)i112;
          *goal_matrix_dir2 = matrix_dir.Col;
        } else {
          i112 = (int)(goal_node[0] + 1U);
          if ((unsigned int)i112 > 255U) {
            i112 = 255;
          }

          if (goal_judge(maze_goal, goal_node[1], (unsigned char)i112) != 0.0) {
            i112 = (int)(goal_node[0] + 1U);
            if ((unsigned int)i112 > 255U) {
              i112 = 255;
            }

            goal_section[0] = (unsigned char)i112;
            goal_section[1] = goal_node[1];

            /* (y,x) */
            i112 = (int)(goal_node[0] + 1U);
            if ((unsigned int)i112 > 255U) {
              i112 = 255;
            }

            goal_node2[0] = (unsigned char)i112;
            goal_node2[1] = goal_node[1];
          } else {
            goal_section[0] = goal_node[0];
            goal_section[1] = goal_node[1];

            /* (y,x) */
            goal_node2[0] = goal_node[0];
            goal_node2[1] = goal_node[1];
          }
        }
      }
    } else {
      i112 = (int)(goal_node[1] + 1U);
      ex = i112;
      if ((unsigned int)i112 > 255U) {
        ex = 255;
      }

      k = (int)(goal_node[0] + 1U);
      if ((unsigned int)k > 255U) {
        k = 255;
      }

      if (goal_judge(maze_goal, (unsigned char)ex, (unsigned char)k) != 0.0) {
        ex = (int)(goal_node[0] + 1U);
        if ((unsigned int)ex > 255U) {
          ex = 255;
        }

        goal_section[0] = (unsigned char)ex;
        if ((unsigned int)i112 > 255U) {
          i112 = 255;
        }

        goal_section[1] = (unsigned char)i112;

        /* (y,x) */
        goal_node2[0] = (unsigned char)ex;
        goal_node2[1] = (unsigned char)i112;
        *goal_matrix_dir2 = matrix_dir.Col;
      } else {
        ex = (int)(goal_node[0] + 1U);
        if ((unsigned int)ex > 255U) {
          ex = 255;
        }

        if (goal_judge(maze_goal, goal_node[1], (unsigned char)ex) != 0.0) {
          i112 = (int)(goal_node[0] + 1U);
          if ((unsigned int)i112 > 255U) {
            i112 = 255;
          }

          goal_section[0] = (unsigned char)i112;
          goal_section[1] = goal_node[1];

          /* (y,x) */
          i112 = (int)(goal_node[0] + 1U);
          if ((unsigned int)i112 > 255U) {
            i112 = 255;
          }

          goal_node2[0] = (unsigned char)i112;
          goal_node2[1] = goal_node[1];
        } else {
          ex = i112;
          if ((unsigned int)i112 > 255U) {
            ex = 255;
          }

          if (goal_judge(maze_goal, (unsigned char)ex, goal_node[0]) != 0.0) {
            goal_section[0] = goal_node[0];
            ex = i112;
            if ((unsigned int)i112 > 255U) {
              ex = 255;
            }

            goal_section[1] = (unsigned char)ex;

            /* (y,x) */
            goal_node2[0] = goal_node[0];
            if ((unsigned int)i112 > 255U) {
              i112 = 255;
            }

            goal_node2[1] = (unsigned char)i112;
            *goal_matrix_dir2 = matrix_dir.Col;
          } else {
            goal_section[0] = goal_node[0];
            goal_section[1] = goal_node[1];

            /* (y,x) */
            goal_node2[0] = goal_node[0];
            goal_node2[1] = goal_node[1];
            *goal_matrix_dir2 = matrix_dir.Col;
          }
        }
      }
    }
  } else if (goal_dir == g_d_direction.East) {
    /* çsï˚å¸ÇÕíåÇ»ÇÃÇ≈Ç»Çµ */
    if (goal_matrix_dir == matrix_dir.Col) {
      i112 = (int)(goal_node[1] + 1U);
      if ((unsigned int)i112 > 255U) {
        i112 = 255;
      }

      if (goal_judge(maze_goal, (unsigned char)i112, goal_node[0]) != 0.0) {
        goal_section[0] = goal_node[0];
        i112 = (int)(goal_node[1] + 1U);
        if ((unsigned int)i112 > 255U) {
          i112 = 255;
        }

        goal_section[1] = (unsigned char)i112;

        /* (y,x) */
        goal_node2[0] = goal_node[0];
        goal_node2[1] = (unsigned char)i112;
        *goal_matrix_dir2 = matrix_dir.Col;
      } else {
        goal_section[0] = goal_node[0];
        goal_section[1] = goal_node[1];

        /* (y,x) */
        goal_node2[0] = goal_node[0];
        goal_node2[1] = goal_node[1];
        *goal_matrix_dir2 = matrix_dir.Col;
      }
    }
  } else if (goal_dir == g_d_direction.South_East) {
    if (goal_matrix_dir == matrix_dir.Row) {
      i112 = (int)(goal_node[1] + 1U);
      if ((unsigned int)i112 > 255U) {
        i112 = 255;
      }

      qY = goal_node[0] - 2U;
      if (qY > goal_node[0]) {
        qY = 0U;
      }

      if (goal_judge(maze_goal, (unsigned char)i112, (unsigned char)qY) != 0.0)
      {
        qY = goal_node[0] - 2U;
        if (qY > goal_node[0]) {
          qY = 0U;
        }

        goal_section[0] = (unsigned char)qY;
        i112 = (int)(goal_node[1] + 1U);
        if ((unsigned int)i112 > 255U) {
          i112 = 255;
        }

        goal_section[1] = (unsigned char)i112;

        /* (y,x) */
        qY = goal_node[0] - 1U;
        if (qY > goal_node[0]) {
          qY = 0U;
        }

        goal_node2[0] = (unsigned char)qY;
        i112 = (int)(goal_node[1] + 1U);
        if ((unsigned int)i112 > 255U) {
          i112 = 255;
        }

        goal_node2[1] = (unsigned char)i112;
      } else {
        i112 = (int)(goal_node[1] + 1U);
        if ((unsigned int)i112 > 255U) {
          i112 = 255;
        }

        qY = goal_node[0] - 1U;
        if (qY > goal_node[0]) {
          qY = 0U;
        }

        if (goal_judge(maze_goal, (unsigned char)i112, (unsigned char)qY) != 0.0)
        {
          qY = goal_node[0] - 1U;
          if (qY > goal_node[0]) {
            qY = 0U;
          }

          goal_section[0] = (unsigned char)qY;
          i112 = (int)(goal_node[1] + 1U);
          if ((unsigned int)i112 > 255U) {
            i112 = 255;
          }

          goal_section[1] = (unsigned char)i112;

          /* (y,x) */
          qY = goal_node[0] - 1U;
          if (qY > goal_node[0]) {
            qY = 0U;
          }

          goal_node2[0] = (unsigned char)qY;
          i112 = (int)(goal_node[1] + 1U);
          if ((unsigned int)i112 > 255U) {
            i112 = 255;
          }

          goal_node2[1] = (unsigned char)i112;
          *goal_matrix_dir2 = matrix_dir.Col;
        } else {
          qY = goal_node[0] - 2U;
          if (qY > goal_node[0]) {
            qY = 0U;
          }

          if (goal_judge(maze_goal, goal_node[1], (unsigned char)qY) != 0.0) {
            qY = goal_node[0] - 1U;
            if (qY > goal_node[0]) {
              qY = 0U;
            }

            goal_section[0] = (unsigned char)qY;
            goal_section[1] = goal_node[1];

            /* (y,x) */
            qY = goal_node[0] - 1U;
            if (qY > goal_node[0]) {
              qY = 0U;
            }

            goal_node2[0] = (unsigned char)qY;
            goal_node2[1] = goal_node[1];
          } else {
            qY = goal_node[0] - 1U;
            if (qY > goal_node[0]) {
              qY = 0U;
            }

            goal_section[0] = (unsigned char)qY;
            goal_section[1] = goal_node[1];

            /* (y,x) */
            goal_node2[0] = goal_node[0];
            goal_node2[1] = goal_node[1];
          }
        }
      }
    } else {
      i112 = (int)(goal_node[1] + 1U);
      if ((unsigned int)i112 > 255U) {
        i112 = 255;
      }

      qY = goal_node[0] - 1U;
      if (qY > goal_node[0]) {
        qY = 0U;
      }

      if (goal_judge(maze_goal, (unsigned char)i112, (unsigned char)qY) != 0.0)
      {
        qY = goal_node[0] - 1U;
        if (qY > goal_node[0]) {
          qY = 0U;
        }

        goal_section[0] = (unsigned char)qY;
        i112 = (int)(goal_node[1] + 1U);
        if ((unsigned int)i112 > 255U) {
          i112 = 255;
        }

        goal_section[1] = (unsigned char)i112;

        /* (y,x) */
        goal_node2[0] = (unsigned char)qY;
        goal_node2[1] = (unsigned char)i112;
        *goal_matrix_dir2 = matrix_dir.Col;
      } else {
        qY = goal_node[0] - 1U;
        if (qY > goal_node[0]) {
          qY = 0U;
        }

        if (goal_judge(maze_goal, goal_node[1], (unsigned char)qY) != 0.0) {
          qY = goal_node[0] - 1U;
          if (qY > goal_node[0]) {
            qY = 0U;
          }

          goal_section[0] = (unsigned char)qY;
          goal_section[1] = goal_node[1];

          /* (y,x) */
          goal_node2[0] = goal_node[0];
          goal_node2[1] = goal_node[1];
        } else {
          i112 = (int)(goal_node[1] + 1U);
          if ((unsigned int)i112 > 255U) {
            i112 = 255;
          }

          if (goal_judge(maze_goal, (unsigned char)i112, goal_node[0]) != 0.0) {
            goal_section[0] = goal_node[0];
            i112 = (int)(goal_node[1] + 1U);
            if ((unsigned int)i112 > 255U) {
              i112 = 255;
            }

            goal_section[1] = (unsigned char)i112;

            /* (y,x) */
            goal_node2[0] = goal_node[0];
            i112 = (int)(goal_node[1] + 1U);
            if ((unsigned int)i112 > 255U) {
              i112 = 255;
            }

            goal_node2[1] = (unsigned char)i112;
            *goal_matrix_dir2 = matrix_dir.Col;
          } else {
            goal_section[0] = goal_node[0];
            goal_section[1] = goal_node[1];

            /* (y,x) */
            goal_node2[0] = goal_node[0];
            goal_node2[1] = goal_node[1];
            *goal_matrix_dir2 = matrix_dir.Col;
          }
        }
      }
    }
  } else if (goal_dir == g_d_direction.South) {
    if (goal_matrix_dir == matrix_dir.Row) {
      qY = goal_node[0] - 2U;
      if (qY > goal_node[0]) {
        qY = 0U;
      }

      if (goal_judge(maze_goal, goal_node[1], (unsigned char)qY) != 0.0) {
        qY = goal_node[0] - 2U;
        if (qY > goal_node[0]) {
          qY = 0U;
        }

        goal_section[0] = (unsigned char)qY;
        goal_section[1] = goal_node[1];

        /* (y,x) */
        qY = goal_node[0] - 1U;
        if (qY > goal_node[0]) {
          qY = 0U;
        }

        goal_node2[0] = (unsigned char)qY;
        goal_node2[1] = goal_node[1];
      } else {
        qY = goal_node[0] - 1U;
        if (qY > goal_node[0]) {
          qY = 0U;
        }

        goal_section[0] = (unsigned char)qY;
        goal_section[1] = goal_node[1];

        /* (y,x) */
        goal_node2[0] = goal_node[0];
        goal_node2[1] = goal_node[1];
      }
    }
  } else if (goal_dir == g_d_direction.South_West) {
    if (goal_matrix_dir == matrix_dir.Row) {
      qY = goal_node[1] - 1U;
      if (qY > goal_node[1]) {
        qY = 0U;
      }

      b_qY = goal_node[0] - 2U;
      if (b_qY > goal_node[0]) {
        b_qY = 0U;
      }

      if (goal_judge(maze_goal, (unsigned char)qY, (unsigned char)b_qY) != 0.0)
      {
        qY = goal_node[0] - 2U;
        if (qY > goal_node[0]) {
          qY = 0U;
        }

        goal_section[0] = (unsigned char)qY;
        qY = goal_node[1] - 1U;
        if (qY > goal_node[1]) {
          qY = 0U;
        }

        goal_section[1] = (unsigned char)qY;

        /* (y,x) */
        qY = goal_node[0] - 1U;
        if (qY > goal_node[0]) {
          qY = 0U;
        }

        goal_node2[0] = (unsigned char)qY;
        qY = goal_node[1] - 1U;
        if (qY > goal_node[1]) {
          qY = 0U;
        }

        goal_node2[1] = (unsigned char)qY;
      } else {
        qY = goal_node[1] - 1U;
        if (qY > goal_node[1]) {
          qY = 0U;
        }

        b_qY = goal_node[0] - 1U;
        if (b_qY > goal_node[0]) {
          b_qY = 0U;
        }

        if (goal_judge(maze_goal, (unsigned char)qY, (unsigned char)b_qY) != 0.0)
        {
          qY = goal_node[0] - 1U;
          if (qY > goal_node[0]) {
            qY = 0U;
          }

          goal_section[0] = (unsigned char)qY;
          qY = goal_node[1] - 1U;
          if (qY > goal_node[1]) {
            qY = 0U;
          }

          goal_section[1] = (unsigned char)qY;

          /* (y,x) */
          qY = goal_node[0] - 1U;
          if (qY > goal_node[0]) {
            qY = 0U;
          }

          goal_node2[0] = (unsigned char)qY;
          goal_node2[1] = goal_node[1];
          *goal_matrix_dir2 = matrix_dir.Col;
        } else {
          qY = goal_node[0] - 2U;
          if (qY > goal_node[0]) {
            qY = 0U;
          }

          if (goal_judge(maze_goal, goal_node[1], (unsigned char)qY) != 0.0) {
            qY = goal_node[0] - 2U;
            if (qY > goal_node[0]) {
              qY = 0U;
            }

            goal_section[0] = (unsigned char)qY;
            goal_section[1] = goal_node[1];

            /* (y,x) */
            qY = goal_node[0] - 1U;
            if (qY > goal_node[0]) {
              qY = 0U;
            }

            goal_node2[0] = (unsigned char)qY;
            goal_node2[1] = goal_node[1];
          } else {
            qY = goal_node[0] - 1U;
            if (qY > goal_node[0]) {
              qY = 0U;
            }

            goal_section[0] = (unsigned char)qY;
            goal_section[1] = goal_node[1];

            /* (y,x) */
            goal_node2[0] = goal_node[0];
            goal_node2[1] = goal_node[1];
          }
        }
      }
    } else {
      qY = goal_node[1] - 1U;
      if (qY > goal_node[1]) {
        qY = 0U;
      }

      b_qY = goal_node[0] - 2U;
      if (b_qY > goal_node[0]) {
        b_qY = 0U;
      }

      if (goal_judge(maze_goal, (unsigned char)qY, (unsigned char)b_qY) != 0.0)
      {
        qY = goal_node[0] - 2U;
        if (qY > goal_node[0]) {
          qY = 0U;
        }

        goal_section[0] = (unsigned char)qY;
        qY = goal_node[1] - 1U;
        if (qY > goal_node[1]) {
          qY = 0U;
        }

        goal_section[1] = (unsigned char)qY;

        /* (y,x) */
        qY = goal_node[0] - 1U;
        if (qY > goal_node[0]) {
          qY = 0U;
        }

        goal_node2[0] = (unsigned char)qY;
        qY = goal_node[1] - 1U;
        if (qY > goal_node[1]) {
          qY = 0U;
        }

        goal_node2[1] = (unsigned char)qY;
        *goal_matrix_dir2 = matrix_dir.Col;
      } else {
        qY = goal_node[1] - 1U;
        if (qY > goal_node[1]) {
          qY = 0U;
        }

        b_qY = goal_node[0] - 1U;
        if (b_qY > goal_node[0]) {
          b_qY = 0U;
        }

        if (goal_judge(maze_goal, (unsigned char)qY, (unsigned char)b_qY) != 0.0)
        {
          qY = goal_node[0] - 1U;
          if (qY > goal_node[0]) {
            qY = 0U;
          }

          goal_section[0] = (unsigned char)qY;
          qY = goal_node[1] - 1U;
          if (qY > goal_node[1]) {
            qY = 0U;
          }

          goal_section[1] = (unsigned char)qY;

          /* (y,x) */
          goal_node2[0] = goal_node[0];
          qY = goal_node[1] - 1U;
          if (qY > goal_node[1]) {
            qY = 0U;
          }

          goal_node2[1] = (unsigned char)qY;
        } else {
          qY = goal_node[1] - 2U;
          if (qY > goal_node[1]) {
            qY = 0U;
          }

          if (goal_judge(maze_goal, (unsigned char)qY, goal_node[0]) != 0.0) {
            goal_section[0] = goal_node[0];
            qY = goal_node[1] - 2U;
            if (qY > goal_node[1]) {
              qY = 0U;
            }

            goal_section[1] = (unsigned char)qY;

            /* (y,x) */
            goal_node2[0] = goal_node[0];
            qY = goal_node[1] - 1U;
            if (qY > goal_node[1]) {
              qY = 0U;
            }

            goal_node2[1] = (unsigned char)qY;
            *goal_matrix_dir2 = matrix_dir.Col;
          } else {
            goal_section[0] = goal_node[0];
            qY = goal_node[1] - 1U;
            if (qY > goal_node[1]) {
              qY = 0U;
            }

            goal_section[1] = (unsigned char)qY;

            /* (y,x) */
            goal_node2[0] = goal_node[0];
            goal_node2[1] = goal_node[1];
            *goal_matrix_dir2 = matrix_dir.Col;
          }
        }
      }
    }
  } else if (goal_dir == g_d_direction.West) {
    /* çsï˚å¸ÇÕíåÇ»ÇÃÇ≈Ç»Çµ */
    if (goal_matrix_dir == matrix_dir.Col) {
      qY = goal_node[1] - 2U;
      if (qY > goal_node[1]) {
        qY = 0U;
      }

      if (goal_judge(maze_goal, (unsigned char)qY, goal_node[0]) != 0.0) {
        goal_section[0] = goal_node[0];
        qY = goal_node[1] - 2U;
        if (qY > goal_node[1]) {
          qY = 0U;
        }

        goal_section[1] = (unsigned char)qY;

        /* (y,x) */
        goal_node2[0] = goal_node[0];
        qY = goal_node[1] - 1U;
        if (qY > goal_node[1]) {
          qY = 0U;
        }

        goal_node2[1] = (unsigned char)qY;
        *goal_matrix_dir2 = matrix_dir.Col;
      } else {
        goal_section[0] = goal_node[0];
        qY = goal_node[1] - 1U;
        if (qY > goal_node[1]) {
          qY = 0U;
        }

        goal_section[1] = (unsigned char)qY;

        /* (y,x) */
        goal_node2[0] = goal_node[0];
        goal_node2[1] = goal_node[1];
        *goal_matrix_dir2 = matrix_dir.Col;
      }
    }
  } else {
    if (goal_dir == g_d_direction.North_West) {
      if (goal_matrix_dir == matrix_dir.Row) {
        qY = goal_node[1] - 1U;
        if (qY > goal_node[1]) {
          qY = 0U;
        }

        i112 = (int)(goal_node[0] + 1U);
        if ((unsigned int)i112 > 255U) {
          i112 = 255;
        }

        if (goal_judge(maze_goal, (unsigned char)qY, (unsigned char)i112) != 0.0)
        {
          i112 = (int)(goal_node[0] + 1U);
          if ((unsigned int)i112 > 255U) {
            i112 = 255;
          }

          goal_section[0] = (unsigned char)i112;
          qY = goal_node[1] - 1U;
          if (qY > goal_node[1]) {
            qY = 0U;
          }

          goal_section[1] = (unsigned char)qY;

          /* (y,x) */
          goal_node2[0] = (unsigned char)i112;
          goal_node2[1] = (unsigned char)qY;
        } else {
          qY = goal_node[1] - 1U;
          if (qY > goal_node[1]) {
            qY = 0U;
          }

          if (goal_judge(maze_goal, (unsigned char)qY, goal_node[0]) != 0.0) {
            goal_section[0] = goal_node[0];
            qY = goal_node[1] - 1U;
            if (qY > goal_node[1]) {
              qY = 0U;
            }

            goal_section[1] = (unsigned char)qY;

            /* (y,x) */
            goal_node2[0] = goal_node[0];
            goal_node2[1] = goal_node[1];
            *goal_matrix_dir2 = matrix_dir.Col;
          } else {
            i112 = (int)(goal_node[0] + 1U);
            if ((unsigned int)i112 > 255U) {
              i112 = 255;
            }

            if (goal_judge(maze_goal, goal_node[1], (unsigned char)i112) != 0.0)
            {
              i112 = (int)(goal_node[0] + 1U);
              if ((unsigned int)i112 > 255U) {
                i112 = 255;
              }

              goal_section[0] = (unsigned char)i112;
              goal_section[1] = goal_node[1];

              /* (y,x) */
              i112 = (int)(goal_node[0] + 1U);
              if ((unsigned int)i112 > 255U) {
                i112 = 255;
              }

              goal_node2[0] = (unsigned char)i112;
              goal_node2[1] = goal_node[1];
            } else {
              goal_section[0] = goal_node[0];
              goal_section[1] = goal_node[1];

              /* (y,x) */
              goal_node2[0] = goal_node[0];
              goal_node2[1] = goal_node[1];
            }
          }
        }
      } else {
        qY = goal_node[1] - 2U;
        if (qY > goal_node[1]) {
          qY = 0U;
        }

        i112 = (int)(goal_node[0] + 1U);
        if ((unsigned int)i112 > 255U) {
          i112 = 255;
        }

        if (goal_judge(maze_goal, (unsigned char)qY, (unsigned char)i112) != 0.0)
        {
          i112 = (int)(goal_node[0] + 1U);
          if ((unsigned int)i112 > 255U) {
            i112 = 255;
          }

          goal_section[0] = (unsigned char)i112;
          qY = goal_node[1] - 2U;
          if (qY > goal_node[1]) {
            qY = 0U;
          }

          goal_section[1] = (unsigned char)qY;

          /* (y,x) */
          i112 = (int)(goal_node[0] + 1U);
          if ((unsigned int)i112 > 255U) {
            i112 = 255;
          }

          goal_node2[0] = (unsigned char)i112;
          qY = goal_node[1] - 1U;
          if (qY > goal_node[1]) {
            qY = 0U;
          }

          goal_node2[1] = (unsigned char)qY;
          *goal_matrix_dir2 = matrix_dir.Col;
        } else {
          qY = goal_node[1] - 1U;
          if (qY > goal_node[1]) {
            qY = 0U;
          }

          i112 = (int)(goal_node[0] + 1U);
          if ((unsigned int)i112 > 255U) {
            i112 = 255;
          }

          if (goal_judge(maze_goal, (unsigned char)qY, (unsigned char)i112) !=
              0.0) {
            i112 = (int)(goal_node[0] + 1U);
            if ((unsigned int)i112 > 255U) {
              i112 = 255;
            }

            goal_section[0] = (unsigned char)i112;
            qY = goal_node[1] - 1U;
            if (qY > goal_node[1]) {
              qY = 0U;
            }

            goal_section[1] = (unsigned char)qY;

            /* (y,x) */
            i112 = (int)(goal_node[0] + 1U);
            if ((unsigned int)i112 > 255U) {
              i112 = 255;
            }

            goal_node2[0] = (unsigned char)i112;
            qY = goal_node[1] - 1U;
            if (qY > goal_node[1]) {
              qY = 0U;
            }

            goal_node2[1] = (unsigned char)qY;
          } else {
            qY = goal_node[1] - 2U;
            if (qY > goal_node[1]) {
              qY = 0U;
            }

            /* ì¸óÕç¿ïWÇÃîzóÒÇçÏê¨ */
            /* ÉSÅ[ÉãîªíËä÷êî */
            /* ÉSÅ[Éãç¿ïWÇ∆î‰är */
            for (i112 = 0; i112 < 9; i112++) {
              uv0[i112] = (unsigned char)qY;
              uv0[9 + i112] = goal_node[0];
            }

            for (i112 = 0; i112 < 18; i112++) {
              temp1[i112] = (maze_goal[i112] == uv0[i112]);
            }

            /* x,yÇ∆Ç‡Ç…àÍívÇ∑ÇÈÇ©ämîFÅAàÍívÇ»ÇÁ1Çï‘Ç∑ */
            for (i112 = 0; i112 < 9; i112++) {
              varargin_1[i112] = (signed char)(temp1[i112] * temp1[9 + i112]);
            }

            ex = varargin_1[0];
            for (k = 0; k < 8; k++) {
              i112 = varargin_1[k + 1];
              if (ex < i112) {
                ex = i112;
              }
            }

            if (ex != 0) {
              goal_section[0] = goal_node[0];
              qY = goal_node[1] - 2U;
              if (qY > goal_node[1]) {
                qY = 0U;
              }

              goal_section[1] = (unsigned char)qY;

              /* (y,x) */
              goal_node2[0] = goal_node[0];
              qY = goal_node[1] - 1U;
              if (qY > goal_node[1]) {
                qY = 0U;
              }

              goal_node2[1] = (unsigned char)qY;
              *goal_matrix_dir2 = matrix_dir.Col;
            } else {
              goal_section[0] = goal_node[0];
              qY = goal_node[1] - 1U;
              if (qY > goal_node[1]) {
                qY = 0U;
              }

              goal_section[1] = (unsigned char)qY;

              /* (y,x) */
              goal_node2[0] = goal_node[0];
              goal_node2[1] = goal_node[1];
              *goal_matrix_dir2 = matrix_dir.Col;
            }
          }
        }
      }
    }
  }
}

/*
 * ì¸óÕÅ@ï«èÓïÒ,ï«íTçıèÓïÒ,ìôçÇê¸MAP,ÉSÅ[Éãç¿ïW,ç≈ëÂåoòHí∑
 * èoóÕ
 * Arguments    : coder_internal_ref *current_x
 *                coder_internal_ref *current_y
 *                coder_internal_ref *current_dir
 *                const coder_internal_ref *goal_size
 *                const coder_internal_ref_5 *wall
 *                const unsigned char maze_wall[1024]
 *                const unsigned short contour_map[1024]
 *                const unsigned char maze_goal[18]
 *                unsigned short max_length
 * Return Type  : void
 */
static void fust_run(coder_internal_ref *current_x, coder_internal_ref
                     *current_y, coder_internal_ref *current_dir, const
                     coder_internal_ref *goal_size, const coder_internal_ref_5
                     *wall, const unsigned char maze_wall[1024], const unsigned
                     short contour_map[1024], const unsigned char maze_goal[18],
                     unsigned short max_length)
{
  unsigned char goal_flag;
  unsigned short little;
  unsigned char next_dir;
  int exitg1;
  unsigned char a;
  int q0;
  int tempi;
  int i31;
  int i32;
  int i33;
  unsigned int qY;
  int i34;
  unsigned char u4;
  unsigned char b_current_dir;

  /*  fust_run ç≈íZåoòHì±èo */
  /* localïœêîêÈåæ */
  goal_flag = 0U;

  /* ÉSÅ[ÉãîªíËÉtÉâÉO */
  little = max_length;

  /* êiçsï˚å¸ëIíËópËáíl */
  /* É}ÉEÉXà íuï\é¶ópÉIÉuÉWÉFÉNÉg */
  /* É}ÉEÉXÇÃèâä˙à íuê›íË */
  current_x->contents = 1U;
  current_y->contents = 1U;
  current_dir->contents = g_direction.North;
  next_dir = g_direction.North;

  /* íTçıäJénéûx */
  /* íTçıäJénéûy */
  /* íTçıäJénà íuÉvÉçÉbÉg */
  /*      %ë´ê’ÉvÉçÉbÉg */
  /*      hold on */
  /*      plot(double(current_x) * 9 -4.5,double(current_y) * 9 -4.5,'.r'); */
  /*      hold off */
  /*      drawnow limitrate nocallbacks */
  do {
    exitg1 = 0;

    /* åªç›à íuÇ™ÉSÅ[ÉãÇ©îªíË */
    a = goal_size->contents;
    q0 = a;
    for (tempi = 0; tempi < q0; tempi++) {
      if ((current_x->contents == maze_goal[tempi]) && (current_y->contents ==
           maze_goal[tempi + 9])) {
        goal_flag = 1U;
      }
    }

    if (goal_flag == 1) {
      exitg1 = 1;
    } else {
      /*             %%êiçsï˚å¸ëIíË */
      /* óDêÊèáà Å@ñkÅÀìåÅÀìÏÅÀêº */
      /* ñkë§ÇÃï«ÇÃÇ†ÇËÇ»Çµ */
      a = maze_wall[(current_y->contents + ((current_x->contents - 1) << 5)) - 1];
      if (g_direction.North <= 7) {
        i31 = (unsigned char)(1 << g_direction.North);
      } else {
        i31 = 0;
      }

      if ((a & i31) == wall->contents.nowall) {
        /* ñkë§ÇÃìôçÇê¸mapÇ™ËáílÇÊÇËí·ÇØÇÍÇŒÅA */
        q0 = (int)(current_y->contents + 1U);
        if ((unsigned int)q0 > 255U) {
          q0 = 255;
        }

        if (contour_map[(q0 + ((current_x->contents - 1) << 5)) - 1] < little) {
          /* ËáílÇñkë§ÇÃìôçÇmapílÇ…ïœçX */
          q0 = (int)(current_y->contents + 1U);
          if ((unsigned int)q0 > 255U) {
            q0 = 255;
          }

          little = contour_map[(q0 + ((current_x->contents - 1) << 5)) - 1];

          /* ñkë§Çêiçsï˚å¸Ç…ïœçXy */
          next_dir = g_direction.North;
        }
      }

      /* ìåë§ */
      a = maze_wall[(current_y->contents + ((current_x->contents - 1) << 5)) - 1];
      if (g_direction.East <= 7) {
        i32 = (unsigned char)(1 << g_direction.East);
      } else {
        i32 = 0;
      }

      if ((a & i32) == wall->contents.nowall) {
        q0 = (int)(current_x->contents + 1U);
        if ((unsigned int)q0 > 255U) {
          q0 = 255;
        }

        if (contour_map[(current_y->contents + ((q0 - 1) << 5)) - 1] < little) {
          q0 = (int)(current_x->contents + 1U);
          if ((unsigned int)q0 > 255U) {
            q0 = 255;
          }

          little = contour_map[(current_y->contents + ((q0 - 1) << 5)) - 1];
          next_dir = g_direction.East;
        }
      }

      /* ìÏë§ */
      a = maze_wall[(current_y->contents + ((current_x->contents - 1) << 5)) - 1];
      if (g_direction.South <= 7) {
        i33 = (unsigned char)(1 << g_direction.South);
      } else {
        i33 = 0;
      }

      if ((a & i33) == wall->contents.nowall) {
        q0 = current_y->contents;
        qY = q0 - 1U;
        if (qY > (unsigned int)q0) {
          qY = 0U;
        }

        if (contour_map[((int)qY + ((current_x->contents - 1) << 5)) - 1] <
            little) {
          q0 = current_y->contents;
          qY = q0 - 1U;
          if (qY > (unsigned int)q0) {
            qY = 0U;
          }

          little = contour_map[((int)qY + ((current_x->contents - 1) << 5)) - 1];
          next_dir = g_direction.South;
        }
      }

      /* êºë§ */
      a = maze_wall[(current_y->contents + ((current_x->contents - 1) << 5)) - 1];
      if (g_direction.West <= 7) {
        i34 = (unsigned char)(1 << g_direction.West);
      } else {
        i34 = 0;
      }

      if ((a & i34) == wall->contents.nowall) {
        q0 = current_x->contents;
        qY = q0 - 1U;
        if (qY > (unsigned int)q0) {
          qY = 0U;
        }

        if (contour_map[(current_y->contents + (((int)qY - 1) << 5)) - 1] <
            little) {
          q0 = current_x->contents;
          qY = q0 - 1U;
          if (qY > (unsigned int)q0) {
            qY = 0U;
          }

          little = contour_map[(current_y->contents + (((int)qY - 1) << 5)) - 1];
          next_dir = g_direction.West;
        }
      }

      /*             %%åªç›ï˚å¸Ç∆êiçsï˚å¸Ç…âûÇ∂ÇΩèàóù */
      q0 = (int)(4U + next_dir);
      if ((unsigned int)q0 > 255U) {
        q0 = 255;
      }

      qY = (unsigned int)q0 - current_dir->contents;
      if (qY > (unsigned int)q0) {
        qY = 0U;
      }

      a = (unsigned char)((unsigned char)qY % 4);
      if (l_direction.front == a) {
        q0 = 0;
      } else if (l_direction.right == a) {
        q0 = 1;
      } else if (l_direction.back == a) {
        q0 = 2;
      } else if (l_direction.left == a) {
        q0 = 3;
      } else {
        q0 = -1;
      }

      switch (q0) {
       case 0:
        a = current_x->contents;
        u4 = current_y->contents;
        b_current_dir = current_dir->contents;

        /* ì¸óÕ åªç›à íux,y,åªç›ï˚å¸ */
        /* èoóÕ åªç›à íux,y */
        /*  move_step àÍÉ}ÉXëOêiÇ∑ÇÈä÷êî */
        /* ñkÇ…àÍÉ}ÉX */
        if (b_current_dir == g_direction.North) {
          q0 = (int)(u4 + 1U);
          if ((unsigned int)q0 > 255U) {
            q0 = 255;
          }

          u4 = (unsigned char)q0;

          /* disp("north_step") */
        }

        /* ìåÇ…àÍÉ}ÉX */
        if (b_current_dir == g_direction.East) {
          q0 = (int)(a + 1U);
          if ((unsigned int)q0 > 255U) {
            q0 = 255;
          }

          a = (unsigned char)q0;

          /* disp("east_step") */
        }

        /* ìÏÇ…àÍÉ}ÉX */
        if (b_current_dir == g_direction.South) {
          qY = u4 - 1U;
          if (qY > u4) {
            qY = 0U;
          }

          u4 = (unsigned char)qY;

          /* disp("south_step") */
        }

        /* êºÇ…àÍÉ}ÉX */
        if (b_current_dir == g_direction.West) {
          qY = a - 1U;
          if (qY > a) {
            qY = 0U;
          }

          a = (unsigned char)qY;

          /* disp("west_step") */
        }

        current_x->contents = a;
        current_y->contents = u4;

        /* disp("front") */
        break;

       case 1:
        a = current_dir->contents;

        /* ì¸óÕ åªç›ï˚å¸ */
        /* èoóÕ åªç›ï˚å¸ */
        /*  turn_clk_90deg éûåvé¸ÇËÇ…90ìxÉ^Å[ÉìÇ∑ÇÈä÷êî  */
        q0 = (int)(4U + a);
        if ((unsigned int)q0 > 255U) {
          q0 = 255;
        }

        q0++;
        if ((unsigned int)q0 > 255U) {
          q0 = 255;
        }

        current_dir->contents = (unsigned char)(q0 % 4);
        a = current_x->contents;
        u4 = current_y->contents;
        b_current_dir = current_dir->contents;

        /* ì¸óÕ åªç›à íux,y,åªç›ï˚å¸ */
        /* èoóÕ åªç›à íux,y */
        /*  move_step àÍÉ}ÉXëOêiÇ∑ÇÈä÷êî */
        /* ñkÇ…àÍÉ}ÉX */
        if (b_current_dir == g_direction.North) {
          q0 = (int)(u4 + 1U);
          if ((unsigned int)q0 > 255U) {
            q0 = 255;
          }

          u4 = (unsigned char)q0;

          /* disp("north_step") */
        }

        /* ìåÇ…àÍÉ}ÉX */
        if (b_current_dir == g_direction.East) {
          q0 = (int)(a + 1U);
          if ((unsigned int)q0 > 255U) {
            q0 = 255;
          }

          a = (unsigned char)q0;

          /* disp("east_step") */
        }

        /* ìÏÇ…àÍÉ}ÉX */
        if (b_current_dir == g_direction.South) {
          qY = u4 - 1U;
          if (qY > u4) {
            qY = 0U;
          }

          u4 = (unsigned char)qY;

          /* disp("south_step") */
        }

        /* êºÇ…àÍÉ}ÉX */
        if (b_current_dir == g_direction.West) {
          qY = a - 1U;
          if (qY > a) {
            qY = 0U;
          }

          a = (unsigned char)qY;

          /* disp("west_step") */
        }

        current_x->contents = a;
        current_y->contents = u4;

        /* disp("right") */
        break;

       case 2:
        a = current_dir->contents;

        /* ì¸óÕ åªç›ï˚å¸ */
        /* èoóÕ åªç›ï˚å¸ */
        /*  turn_180deg 180ìxÉ^Å[ÉìÇ∑ÇÈä÷êî */
        q0 = (int)(4U + a);
        if ((unsigned int)q0 > 255U) {
          q0 = 255;
        }

        current_dir->contents = (unsigned char)((q0 - 2) % 4);
        a = current_x->contents;
        u4 = current_y->contents;
        b_current_dir = current_dir->contents;

        /* ì¸óÕ åªç›à íux,y,åªç›ï˚å¸ */
        /* èoóÕ åªç›à íux,y */
        /*  move_step àÍÉ}ÉXëOêiÇ∑ÇÈä÷êî */
        /* ñkÇ…àÍÉ}ÉX */
        if (b_current_dir == g_direction.North) {
          q0 = (int)(u4 + 1U);
          if ((unsigned int)q0 > 255U) {
            q0 = 255;
          }

          u4 = (unsigned char)q0;

          /* disp("north_step") */
        }

        /* ìåÇ…àÍÉ}ÉX */
        if (b_current_dir == g_direction.East) {
          q0 = (int)(a + 1U);
          if ((unsigned int)q0 > 255U) {
            q0 = 255;
          }

          a = (unsigned char)q0;

          /* disp("east_step") */
        }

        /* ìÏÇ…àÍÉ}ÉX */
        if (b_current_dir == g_direction.South) {
          qY = u4 - 1U;
          if (qY > u4) {
            qY = 0U;
          }

          u4 = (unsigned char)qY;

          /* disp("south_step") */
        }

        /* êºÇ…àÍÉ}ÉX */
        if (b_current_dir == g_direction.West) {
          qY = a - 1U;
          if (qY > a) {
            qY = 0U;
          }

          a = (unsigned char)qY;

          /* disp("west_step") */
        }

        current_x->contents = a;
        current_y->contents = u4;

        /* disp("back") */
        break;

       case 3:
        a = current_dir->contents;

        /* ì¸óÕÅ@åªç›ï˚å¸ */
        /* èoóÕÅ@åªç›ï˚å¸ */
        /*  turn_conclk_90deg îΩéûåvé¸ÇËÇ…90ìxâÒÇÈä÷êî  */
        q0 = (int)(4U + a);
        if ((unsigned int)q0 > 255U) {
          q0 = 255;
        }

        current_dir->contents = (unsigned char)((q0 - 1) % 4);
        a = current_x->contents;
        u4 = current_y->contents;
        b_current_dir = current_dir->contents;

        /* ì¸óÕ åªç›à íux,y,åªç›ï˚å¸ */
        /* èoóÕ åªç›à íux,y */
        /*  move_step àÍÉ}ÉXëOêiÇ∑ÇÈä÷êî */
        /* ñkÇ…àÍÉ}ÉX */
        if (b_current_dir == g_direction.North) {
          q0 = (int)(u4 + 1U);
          if ((unsigned int)q0 > 255U) {
            q0 = 255;
          }

          u4 = (unsigned char)q0;

          /* disp("north_step") */
        }

        /* ìåÇ…àÍÉ}ÉX */
        if (b_current_dir == g_direction.East) {
          q0 = (int)(a + 1U);
          if ((unsigned int)q0 > 255U) {
            q0 = 255;
          }

          a = (unsigned char)q0;

          /* disp("east_step") */
        }

        /* ìÏÇ…àÍÉ}ÉX */
        if (b_current_dir == g_direction.South) {
          qY = u4 - 1U;
          if (qY > u4) {
            qY = 0U;
          }

          u4 = (unsigned char)qY;

          /* disp("south_step") */
        }

        /* êºÇ…àÍÉ}ÉX */
        if (b_current_dir == g_direction.West) {
          qY = a - 1U;
          if (qY > a) {
            qY = 0U;
          }

          a = (unsigned char)qY;

          /* disp("west_step") */
        }

        current_x->contents = a;
        current_y->contents = u4;

        /* disp("left") */
        break;
      }

      /* for code generation */
    }
  } while (exitg1 == 0);
}

/*
 * èoóÕïœêîíËã`
 * Arguments    : const unsigned short row_num_node[1056]
 *                const unsigned short col_num_node[1056]
 *                unsigned char current_move_dir
 *                const unsigned char current_node[2]
 *                unsigned char current_matrix_dir
 *                const unsigned char goal_node2[2]
 *                unsigned char goal_matrix_dir2
 *                const unsigned char goal_section[2]
 *                unsigned char *next_dir
 *                unsigned char next_node[2]
 *                unsigned char *next_node_property
 * Return Type  : void
 */
static void get_next_dir_diagonal(const unsigned short row_num_node[1056], const
  unsigned short col_num_node[1056], unsigned char current_move_dir, const
  unsigned char current_node[2], unsigned char current_matrix_dir, const
  unsigned char goal_node2[2], unsigned char goal_matrix_dir2, const unsigned
  char goal_section[2], unsigned char *next_dir, unsigned char next_node[2],
  unsigned char *next_node_property)
{
  bool p;
  bool b_p;
  int k;
  bool exitg1;
  unsigned short map_min;
  unsigned int qY;
  int i182;
  unsigned char temp;
  int i183;
  unsigned short u10;

  /*  get_next_dir_diagonal éŒÇﬂóLÇ≈ÇÃêiçsï˚å¸,çsêÊéÊìæ */
  *next_dir = g_d_direction.North;
  next_node[0] = 1U;
  next_node[1] = 1U;
  *next_node_property = matrix_dir.Row;

  /* åªç›ÇÃÉGÉbÉWÇÕÉSÅ[ÉãÉmÅ[ÉhÇ© */
  p = false;
  b_p = true;
  k = 0;
  exitg1 = false;
  while ((!exitg1) && (k < 2)) {
    if (current_node[k] != goal_node2[k]) {
      b_p = false;
      exitg1 = true;
    } else {
      k++;
    }
  }

  if (b_p) {
    p = true;
  }

  if (p && (current_matrix_dir == goal_matrix_dir2)) {
    /* ÉSÅ[ÉãÉmÅ[ÉhÇÃèÍçá */
    /* ÉSÅ[ÉãÉmÅ[ÉhÇ™çsï˚å¸ÇÃèÍçá */
    if (goal_matrix_dir2 == matrix_dir.Row) {
      if ((goal_section[1] == goal_node2[0]) && (goal_section[0] == goal_node2[1]))
      {
        next_node[0] = goal_node2[0];
        next_node[1] = goal_node2[1];
        *next_node_property = matrix_dir.section;
      } else {
        *next_dir = g_d_direction.South;
        qY = goal_node2[0] - 1U;
        if (qY > goal_node2[0]) {
          qY = 0U;
        }

        next_node[0] = (unsigned char)qY;
        next_node[1] = goal_node2[1];
        *next_node_property = matrix_dir.section;
      }
    } else {
      /* ÉSÅ[ÉãÉmÅ[ÉhÇ™óÒï˚å¸ÇÃèÍçá */
      if ((goal_section[1] == goal_node2[0]) && (goal_section[0] == goal_node2[1]))
      {
        *next_dir = g_d_direction.East;
        next_node[0] = goal_node2[0];
        next_node[1] = goal_node2[1];
        *next_node_property = matrix_dir.section;
      } else {
        *next_dir = g_d_direction.West;
        next_node[0] = goal_node2[0];
        qY = goal_node2[1] - 1U;
        if (qY > goal_node2[1]) {
          qY = 0U;
        }

        next_node[1] = (unsigned char)qY;
        *next_node_property = matrix_dir.section;
      }
    }
  } else {
    /* ÉSÅ[ÉãÉmÅ[ÉhÇ≈Ç»Ç¢èÍçá */
    /* ËáílÇíËã` */
    map_min = MAX_uint16_T;

    /* åªç›ÇÃÉmÅ[ÉhÇÃï˚å¸Ç©ÇÁóDêÊìIÇ…êiçsï˚å¸ÇämíË */
    for (k = 0; k < 8; k++) {
      i182 = current_move_dir + k;
      if (i182 > 255) {
        i182 = 255;
      }

      temp = (unsigned char)(i182 % 8);

      /* åªç›ÇÃÉmÅ[ÉhÇ™çsï˚å¸ÇÃéû */
      if (current_matrix_dir == matrix_dir.Row) {
        if (temp == g_d_direction.North) {
          i182 = (int)(current_node[0] + 1U);
          i183 = i182;
          if ((unsigned int)i182 > 255U) {
            i183 = 255;
          }

          if (row_num_node[(i183 + 33 * (current_node[1] - 1)) - 1] < map_min) {
            /* ç≈è¨ílÇçXêV */
            i183 = i182;
            if ((unsigned int)i182 > 255U) {
              i183 = 255;
            }

            map_min = row_num_node[(i183 + 33 * (current_node[1] - 1)) - 1];

            /* åªç›ÉmÅ[ÉhÇÃêiçsï˚å¸Çñkå¸Ç´Ç… */
            *next_dir = g_d_direction.North;

            /* êiçsï˚å¸êÊÇÃç¿ïWÅAçsóÒÇÃï˚å¸ÇçXêV */
            *next_node_property = matrix_dir.Row;
            if ((unsigned int)i182 > 255U) {
              i182 = 255;
            }

            next_node[0] = (unsigned char)i182;
            next_node[1] = current_node[1];
          }
        } else if (temp == g_d_direction.North_East) {
          i182 = (int)(current_node[1] + 1U);
          i183 = i182;
          if ((unsigned int)i182 > 255U) {
            i183 = 255;
          }

          if (col_num_node[(current_node[0] + ((i183 - 1) << 5)) - 1] < map_min)
          {
            /* ç≈è¨ílÇçXêV */
            i183 = i182;
            if ((unsigned int)i182 > 255U) {
              i183 = 255;
            }

            map_min = col_num_node[(current_node[0] + ((i183 - 1) << 5)) - 1];

            /* åªç›ÉmÅ[ÉhÇÃêiçsï˚å¸Çìåñkå¸Ç´Ç… */
            *next_dir = g_d_direction.North_East;

            /* êiçsï˚å¸êÊÇÃç¿ïWÅAçsóÒÇÃï˚å¸ÇçXêV */
            *next_node_property = matrix_dir.Col;
            next_node[0] = current_node[0];
            if ((unsigned int)i182 > 255U) {
              i182 = 255;
            }

            next_node[1] = (unsigned char)i182;
          }
        } else if (temp != g_d_direction.East) {
          if (temp == g_d_direction.South_East) {
            qY = current_node[0] - 1U;
            if (qY > current_node[0]) {
              qY = 0U;
            }

            i182 = (int)(current_node[1] + 1U);
            if ((unsigned int)i182 > 255U) {
              i182 = 255;
            }

            if (col_num_node[((int)qY + ((i182 - 1) << 5)) - 1] < map_min) {
              /* ç≈è¨ílÇçXêV */
              qY = current_node[0] - 1U;
              if (qY > current_node[0]) {
                qY = 0U;
              }

              i182 = (int)(current_node[1] + 1U);
              if ((unsigned int)i182 > 255U) {
                i182 = 255;
              }

              map_min = col_num_node[((int)qY + ((i182 - 1) << 5)) - 1];

              /* åªç›ÉmÅ[ÉhÇÃêiçsï˚å¸ÇìÏìåå¸Ç´Ç… */
              *next_dir = g_d_direction.South_East;

              /* êiçsï˚å¸êÊÇÃç¿ïWÅAçsóÒÇÃï˚å¸ÇçXêV */
              *next_node_property = matrix_dir.Col;
              qY = current_node[0] - 1U;
              if (qY > current_node[0]) {
                qY = 0U;
              }

              next_node[0] = (unsigned char)qY;
              i182 = (int)(current_node[1] + 1U);
              if ((unsigned int)i182 > 255U) {
                i182 = 255;
              }

              next_node[1] = (unsigned char)i182;
            }
          } else if (temp == g_d_direction.South) {
            qY = current_node[0] - 1U;
            if (qY > current_node[0]) {
              qY = 0U;
            }

            if (row_num_node[((int)qY + 33 * (current_node[1] - 1)) - 1] <
                map_min) {
              /* ç≈è¨ílÇçXêV */
              qY = current_node[0] - 1U;
              if (qY > current_node[0]) {
                qY = 0U;
              }

              map_min = row_num_node[((int)qY + 33 * (current_node[1] - 1)) - 1];

              /* åªç›ÉmÅ[ÉhÇÃêiçsï˚å¸ÇìÏå¸Ç´Ç… */
              *next_dir = g_d_direction.South;

              /* êiçsï˚å¸êÊÇÃç¿ïWÅAçsóÒÇÃï˚å¸ÇçXêV */
              *next_node_property = matrix_dir.Row;
              qY = current_node[0] - 1U;
              if (qY > current_node[0]) {
                qY = 0U;
              }

              next_node[0] = (unsigned char)qY;
              next_node[1] = current_node[1];
            }
          } else if (temp == g_d_direction.South_West) {
            qY = current_node[0] - 1U;
            if (qY > current_node[0]) {
              qY = 0U;
            }

            if (col_num_node[((int)qY + ((current_node[1] - 1) << 5)) - 1] <
                map_min) {
              /* ç≈è¨ílÇçXêV */
              qY = current_node[0] - 1U;
              if (qY > current_node[0]) {
                qY = 0U;
              }

              map_min = col_num_node[((int)qY + ((current_node[1] - 1) << 5)) -
                1];

              /* åªç›ÉmÅ[ÉhÇÃêiçsï˚å¸ÇìÏêºå¸Ç´Ç… */
              *next_dir = g_d_direction.South_West;

              /* êiçsï˚å¸êÊÇÃç¿ïWÅAçsóÒÇÃï˚å¸ÇçXêV */
              *next_node_property = matrix_dir.Col;
              qY = current_node[0] - 1U;
              if (qY > current_node[0]) {
                qY = 0U;
              }

              next_node[0] = (unsigned char)qY;
              next_node[1] = current_node[1];
            }
          } else if ((temp != g_d_direction.West) && (temp ==
                      g_d_direction.North_West)) {
            u10 = col_num_node[(current_node[0] + ((current_node[1] - 1) << 5))
              - 1];
            if (u10 < map_min) {
              /* ç≈è¨ílÇçXêV */
              map_min = u10;

              /* åªç›ÉmÅ[ÉhÇÃêiçsï˚å¸Çñkêºå¸Ç´Ç… */
              *next_dir = g_d_direction.North_West;

              /* êiçsï˚å¸êÊÇÃç¿ïWÅAçsóÒÇÃï˚å¸ÇçXêV */
              *next_node_property = matrix_dir.Col;
              next_node[0] = current_node[0];
              next_node[1] = current_node[1];
            }
          } else {
            /* íå */
          }
        } else {
          /* íå */
        }

        /* åªç›ÇÃÉmÅ[ÉhÇ™çsï˚å¸ÇÃéû         */
      } else if (temp != g_d_direction.North) {
        if (temp == g_d_direction.North_East) {
          i182 = (int)(current_node[0] + 1U);
          if ((unsigned int)i182 > 255U) {
            i182 = 255;
          }

          if (row_num_node[(i182 + 33 * (current_node[1] - 1)) - 1] < map_min) {
            /* ç≈è¨ílÇçXêV */
            i182 = (int)(current_node[0] + 1U);
            if ((unsigned int)i182 > 255U) {
              i182 = 255;
            }

            map_min = row_num_node[(i182 + 33 * (current_node[1] - 1)) - 1];

            /* åªç›ÉmÅ[ÉhÇÃêiçsï˚å¸Çñkìåå¸Ç´Ç… */
            *next_dir = g_d_direction.North_East;

            /* êiçsï˚å¸êÊÇÃç¿ïWÅAçsóÒÇÃï˚å¸ÇçXêV */
            *next_node_property = matrix_dir.Row;
            i182 = (int)(current_node[0] + 1U);
            if ((unsigned int)i182 > 255U) {
              i182 = 255;
            }

            next_node[0] = (unsigned char)i182;
            next_node[1] = current_node[1];
          }
        } else if (temp == g_d_direction.East) {
          i182 = (int)(current_node[1] + 1U);
          if ((unsigned int)i182 > 255U) {
            i182 = 255;
          }

          if (col_num_node[(current_node[0] + ((i182 - 1) << 5)) - 1] < map_min)
          {
            /* ç≈è¨ílÇçXêV */
            i182 = (int)(current_node[1] + 1U);
            if ((unsigned int)i182 > 255U) {
              i182 = 255;
            }

            map_min = col_num_node[(current_node[0] + ((i182 - 1) << 5)) - 1];

            /* åªç›ÉmÅ[ÉhÇÃêiçsï˚å¸Çìåå¸Ç´Ç… */
            *next_dir = g_d_direction.East;

            /* êiçsï˚å¸êÊÇÃç¿ïWÅAçsóÒÇÃï˚å¸ÇçXêV */
            *next_node_property = matrix_dir.Col;
            next_node[0] = current_node[0];
            i182 = (int)(current_node[1] + 1U);
            if ((unsigned int)i182 > 255U) {
              i182 = 255;
            }

            next_node[1] = (unsigned char)i182;
          }
        } else if (temp == g_d_direction.South_East) {
          u10 = row_num_node[(current_node[0] + 33 * (current_node[1] - 1)) - 1];
          if (u10 < map_min) {
            /* ç≈è¨ílÇçXêV */
            map_min = u10;

            /* åªç›ÉmÅ[ÉhÇÃêiçsï˚å¸ÇìÏìåå¸Ç´Ç… */
            *next_dir = g_d_direction.South_East;

            /* êiçsï˚å¸êÊÇÃç¿ïWÅAçsóÒÇÃï˚å¸ÇçXêV */
            *next_node_property = matrix_dir.Row;
            next_node[0] = current_node[0];
            next_node[1] = current_node[1];
          }
        } else if (temp != g_d_direction.South) {
          if (temp == g_d_direction.South_West) {
            qY = current_node[1] - 1U;
            if (qY > current_node[1]) {
              qY = 0U;
            }

            if ((int)qY > 0) {
              qY = current_node[1] - 1U;
              if (qY > current_node[1]) {
                qY = 0U;
              }

              if (row_num_node[(current_node[0] + 33 * ((int)qY - 1)) - 1] <
                  map_min) {
                /* ç≈è¨ílÇçXêV */
                qY = current_node[1] - 1U;
                if (qY > current_node[1]) {
                  qY = 0U;
                }

                map_min = row_num_node[(current_node[0] + 33 * ((int)qY - 1)) -
                  1];

                /* åªç›ÉmÅ[ÉhÇÃêiçsï˚å¸ÇìÏêºå¸Ç´Ç… */
                *next_dir = g_d_direction.South_West;

                /* êiçsï˚å¸êÊÇÃç¿ïWÅAçsóÒÇÃï˚å¸ÇçXêV */
                *next_node_property = matrix_dir.Row;
                next_node[0] = current_node[0];
                qY = current_node[1] - 1U;
                if (qY > current_node[1]) {
                  qY = 0U;
                }

                next_node[1] = (unsigned char)qY;
              }
            }
          } else if (temp == g_d_direction.West) {
            qY = current_node[1] - 1U;
            if (qY > current_node[1]) {
              qY = 0U;
            }

            if ((int)qY > 0) {
              qY = current_node[1] - 1U;
              if (qY > current_node[1]) {
                qY = 0U;
              }

              if (col_num_node[(current_node[0] + (((int)qY - 1) << 5)) - 1] <
                  map_min) {
                /* ç≈è¨ílÇçXêV */
                qY = current_node[1] - 1U;
                if (qY > current_node[1]) {
                  qY = 0U;
                }

                map_min = col_num_node[(current_node[0] + (((int)qY - 1) << 5))
                  - 1];

                /* åªç›ÉmÅ[ÉhÇÃêiçsï˚å¸Çêºå¸Ç´Ç… */
                *next_dir = g_d_direction.West;

                /* êiçsï˚å¸êÊÇÃç¿ïWÅAçsóÒÇÃï˚å¸ÇçXêV */
                *next_node_property = matrix_dir.Col;
                next_node[0] = current_node[0];
                qY = current_node[1] - 1U;
                if (qY > current_node[1]) {
                  qY = 0U;
                }

                next_node[1] = (unsigned char)qY;
              }
            }
          } else {
            if (temp == g_d_direction.North_West) {
              qY = current_node[1] - 1U;
              if (qY > current_node[1]) {
                qY = 0U;
              }

              if ((int)qY > 0) {
                i182 = (int)(current_node[0] + 1U);
                if ((unsigned int)i182 > 255U) {
                  i182 = 255;
                }

                qY = current_node[1] - 1U;
                if (qY > current_node[1]) {
                  qY = 0U;
                }

                if (row_num_node[(i182 + 33 * ((int)qY - 1)) - 1] < map_min) {
                  /* ç≈è¨ílÇçXêV */
                  i182 = (int)(current_node[0] + 1U);
                  if ((unsigned int)i182 > 255U) {
                    i182 = 255;
                  }

                  qY = current_node[1] - 1U;
                  if (qY > current_node[1]) {
                    qY = 0U;
                  }

                  map_min = row_num_node[(i182 + 33 * ((int)qY - 1)) - 1];

                  /* åªç›ÉmÅ[ÉhÇÃêiçsï˚å¸Çñkêºå¸Ç´Ç… */
                  *next_dir = g_d_direction.North_West;

                  /* êiçsï˚å¸êÊÇÃç¿ïWÅAçsóÒÇÃï˚å¸ÇçXêV */
                  *next_node_property = matrix_dir.Row;
                  i182 = (int)(current_node[0] + 1U);
                  if ((unsigned int)i182 > 255U) {
                    i182 = 255;
                  }

                  next_node[0] = (unsigned char)i182;
                  qY = current_node[1] - 1U;
                  if (qY > current_node[1]) {
                    qY = 0U;
                  }

                  next_node[1] = (unsigned char)qY;
                }
              }
            }
          }
        } else {
          /* íå */
        }
      } else {
        /* íå */
      }
    }
  }
}

/*
 * ì¸óÕ åªç›ínx,y,ï«èÓïÒ,ìôçÇê¸map,ç≈ëÂåoòHí∑
 *  èoóÕ éüÇÃêiçsï˚äp
 * Arguments    : unsigned char current_x
 *                unsigned char current_y
 *                const unsigned char maze_wall[1024]
 *                const unsigned short contour_map[1024]
 * Return Type  : unsigned char
 */
static unsigned char get_nextdir2(unsigned char current_x, unsigned char
  current_y, const unsigned char maze_wall[1024], const unsigned short
  contour_map[1024])
{
  unsigned char next_dir;
  unsigned short little;
  int i7;
  int i8;
  int i9;
  int i10;
  unsigned short u2;
  int i11;
  int i12;

  /*  get_nextdir2 ìôçÇê¸mapÇ©ÇÁéüÇ…å¸Ç©Ç§ï˚å¸ÇëIë */
  /* èoóÕÇÃèâä˙âª */
  next_dir = 0U;
  little = MAX_uint16_T;

  /*             %%êiçsï˚å¸ëIíË */
  /* óDêÊèáà Å@ñkÅÀìåÅÀìÏÅÀêº */
  /* ñkë§ÇÃï«ÇÃÇ†ÇËÇ»ÇµîªíË */
  i7 = current_y + ((current_x - 1) << 5);
  i8 = maze_wall[i7 - 1];
  if (g_direction.North <= 7) {
    i9 = (unsigned char)(1 << g_direction.North);
  } else {
    i9 = 0;
  }

  if (((i8 & i9) == 0) && (contour_map[i7] < 65535)) {
    /* ñkë§ÇÃìôçÇê¸mapÇ™ËáílÇÊÇËí·ÇØÇÍÇŒÅA */
    /* ËáílÇñkë§ÇÃìôçÇmapílÇ…ïœçX */
    little = contour_map[current_y + ((current_x - 1) << 5)];

    /* ñkë§Çêiçsï˚å¸Ç…ïœçXy */
    next_dir = g_direction.North;
  }

  /* ìåë§ */
  if (g_direction.East <= 7) {
    i10 = (unsigned char)(1 << g_direction.East);
  } else {
    i10 = 0;
  }

  if ((i8 & i10) == 0) {
    u2 = contour_map[(current_y + (current_x << 5)) - 1];
    if (u2 < little) {
      little = u2;
      next_dir = g_direction.East;
    }
  }

  /* ìÏë§ */
  if (g_direction.South <= 7) {
    i11 = (unsigned char)(1 << g_direction.South);
  } else {
    i11 = 0;
  }

  if ((i8 & i11) == 0) {
    u2 = contour_map[i7 - 2];
    if (u2 < little) {
      little = u2;
      next_dir = g_direction.South;
    }
  }

  /* êºë§ */
  if (g_direction.West <= 7) {
    i12 = (unsigned char)(1 << g_direction.West);
  } else {
    i12 = 0;
  }

  if (((i8 & i12) == 0) && (contour_map[(current_y + ((current_x - 2) << 5)) - 1]
       < little)) {
    /*  little = contour_map(current_y,current_x-1); */
    next_dir = g_direction.West;
  }

  return next_dir;
}

/*
 * ê˘âÒÉpÉ^Å[Éìî‘çÜÇÃèâä˙âª
 * Arguments    : const double move_dir_buffer[3]
 *                unsigned char ref_move_mode
 * Return Type  : unsigned char
 */
static unsigned char get_turn_pattern_num(const double move_dir_buffer[3],
  unsigned char ref_move_mode)
{
  unsigned char turn_pattern_num;

  /* ÉpÉ^Å[ÉìÇîªíËÇ∑ÇÈä÷êî */
  turn_pattern_num = turn_pattern.b_default;

  /* íºêiéû */
  if (ref_move_mode == move_dir_property.straight) {
    /* éüÇ™45ìxÇ‹Ç™ÇÈÇ∆Ç´(âEê‹ÉpÉ^Å[Éì) */
    if (move_dir_buffer[0] == 1.0) {
      if (move_dir_buffer[1] == 1.0) {
        turn_pattern_num = turn_pattern.r_45;
      } else if (move_dir_buffer[1] == 2.0) {
        turn_pattern_num = turn_pattern.r_90;
      } else {
        if (move_dir_buffer[1] == 3.0) {
          if (move_dir_buffer[2] == 3.0) {
            turn_pattern_num = turn_pattern.r_135;
          } else {
            if (move_dir_buffer[2] == 4.0) {
              turn_pattern_num = turn_pattern.r_180;
            }
          }
        }
      }

      /* éüÇ™-45ìxÇ‹Ç™ÇÈÇ∆Ç´(ç∂ê‹ÉpÉ^Å[Éì)     */
    } else {
      if (move_dir_buffer[0] == 7.0) {
        if (move_dir_buffer[1] == 7.0) {
          turn_pattern_num = turn_pattern.l_45;
        } else if (move_dir_buffer[1] == 6.0) {
          turn_pattern_num = turn_pattern.l_90;
        } else {
          if (move_dir_buffer[1] == 5.0) {
            if (move_dir_buffer[2] == 5.0) {
              turn_pattern_num = turn_pattern.l_135;
            } else {
              if (move_dir_buffer[2] == 4.0) {
                turn_pattern_num = turn_pattern.l_180;
              }
            }
          }
        }
      }
    }

    /* éŒÇﬂÇÃéû */
  } else {
    if (ref_move_mode == move_dir_property.diagonal) {
      /* âEê‹ÉpÉ^Å[Éì */
      if (move_dir_buffer[0] == 1.0) {
        turn_pattern_num = turn_pattern.r_45;
      } else if (move_dir_buffer[0] == 2.0) {
        if (move_dir_buffer[1] == 2.0) {
          turn_pattern_num = turn_pattern.r_90;
        } else {
          if (move_dir_buffer[1] == 3.0) {
            turn_pattern_num = turn_pattern.r_135;
          }
        }

        /* ç∂ê‹ÉpÉ^Å[Éì     */
      } else if (move_dir_buffer[0] == 7.0) {
        turn_pattern_num = turn_pattern.l_45;
      } else {
        if (move_dir_buffer[0] == 6.0) {
          if (move_dir_buffer[1] == 6.0) {
            turn_pattern_num = turn_pattern.l_90;
          } else {
            if (move_dir_buffer[1] == 5.0) {
              turn_pattern_num = turn_pattern.l_135;
            }
          }
        }
      }
    }
  }

  return turn_pattern_num;
}

/*
 * ì¸óÕç¿ïWÇÃîzóÒÇçÏê¨
 * Arguments    : const unsigned char maze_goal[18]
 *                unsigned char x
 *                unsigned char y
 * Return Type  : double
 */
static double goal_judge(const unsigned char maze_goal[18], unsigned char x,
  unsigned char y)
{
  int i113;
  unsigned char uv1[18];
  bool temp1[18];
  int ex;
  signed char varargin_1[9];
  int k;

  /* ÉSÅ[ÉãîªíËä÷êî */
  /* ÉSÅ[Éãç¿ïWÇ∆î‰är */
  for (i113 = 0; i113 < 9; i113++) {
    uv1[i113] = x;
    uv1[9 + i113] = y;
  }

  for (i113 = 0; i113 < 18; i113++) {
    temp1[i113] = (maze_goal[i113] == uv1[i113]);
  }

  /* x,yÇ∆Ç‡Ç…àÍívÇ∑ÇÈÇ©ämîFÅAàÍívÇ»ÇÁ1Çï‘Ç∑ */
  for (i113 = 0; i113 < 9; i113++) {
    varargin_1[i113] = (signed char)(temp1[i113] * temp1[9 + i113]);
  }

  ex = varargin_1[0];
  for (k = 0; k < 8; k++) {
    i113 = varargin_1[k + 1];
    if (ex < i113) {
      ex = i113;
    }
  }

  return ex;
}

/*
 * ì¸óÕ ñ¿òHècÉTÉCÉY,ñ¿òHâ°ÉTÉCÉY,ÉSÅ[Éãç¿ïW,ñ¿òHèÓïÒ(16êiêî)
 * èoóÕ ìôçÇê¸map,ç≈ëÂåoòHí∑
 * Arguments    : coder_internal_ref_3 *num_temp
 *                const coder_internal_ref_5 *wall
 *                const unsigned char maze_goal[18]
 *                unsigned char l_goal_size
 *                const unsigned char maze_wall[1024]
 *                unsigned short contour_map[1024]
 * Return Type  : void
 */
static void make_map_find(coder_internal_ref_3 *num_temp, const
  coder_internal_ref_5 *wall, const unsigned char maze_goal[18], unsigned char
  l_goal_size, const unsigned char maze_wall[1024], unsigned short contour_map
  [1024])
{
  int i2;
  int idx;
  emxArray_uint8_T *row;
  emxArray_uint8_T *col;
  emxArray_uint16_T *r0;
  emxArray_uint16_T *b_num_temp;
  unsigned char change_flag;
  unsigned short tempi;
  bool exitg1;
  int ii;
  bool exitg2;
  short ii_data[1024];
  unsigned int qY;
  unsigned short u0;
  int i3;
  int i4;
  int i5;
  int i6;

  /*   make_map_find ï«èÓïÒÇ©ÇÁìôçÇê¸MAPÇê∂ê¨ */
  /*  ñ¿òHÉpÉâÉÅÅ[É^ê›íË */
  /* MAPÇÃèâä˙âª(Ç∑Ç◊ÇƒÇÃóvëfÇ…max_lengthÇì¸óÕ) */
  /* 32É}ÉXï™mapÇï€éù */
  /* 16bitÇ…Ç∑Ç◊Ç´ */
  for (i2 = 0; i2 < 1024; i2++) {
    contour_map[i2] = MAX_uint16_T;
  }

  /* ÉSÅ[Éãç¿ïWÇ…0Çì¸óÕ */
  i2 = l_goal_size;
  for (idx = 0; idx < i2; idx++) {
    contour_map[(maze_goal[idx + 9] + ((maze_goal[idx] - 1) << 5)) - 1] = 0U;
  }

  emxInit_uint8_T(&row, 1);
  emxInit_uint8_T(&col, 1);
  emxInit_uint16_T(&r0, 1);
  emxInit_uint16_T(&b_num_temp, 1);
  do {
    change_flag = 0U;

    /* mapçXêVämîFópÉtÉâÉO */
    tempi = 0U;
    exitg1 = false;
    while ((!exitg1) && (tempi < 65535)) {
      /* ï‡êîÉJÉEÉìÉgÇÕ0~max_length */
      /* ï‡êîÇ™ämíËÇµÇƒÇ¢ÇÈç¿ïWÇåüçı */
      /* ç≈èâÇÕ0,çXêVÇ≥ÇÍÅAëùâ¡ÇµÇΩÉ}ÉXÇéüÅXåüçıÇµÇƒÇ¢Ç≠ */
      idx = 0;
      ii = 0;
      exitg2 = false;
      while ((!exitg2) && (ii < 1024)) {
        if (contour_map[ii] == tempi) {
          idx++;
          ii_data[idx - 1] = (short)(ii + 1);
          if (idx >= 1024) {
            exitg2 = true;
          } else {
            ii++;
          }
        } else {
          ii++;
        }
      }

      if (1 > idx) {
        idx = 0;
      }

      i2 = num_temp->contents->size[0];
      num_temp->contents->size[0] = idx;
      emxEnsureCapacity_uint16_T(num_temp->contents, i2);
      for (i2 = 0; i2 < idx; i2++) {
        num_temp->contents->data[i2] = (unsigned short)ii_data[i2];
      }

      /* 32çsÇ»ÇÃÇ≈ÅAçsî‘çÜ:32Ç≈äÑÇ¡ÇΩÇ†Ç‹ÇË */
      i2 = b_num_temp->size[0];
      b_num_temp->size[0] = num_temp->contents->size[0];
      emxEnsureCapacity_uint16_T(b_num_temp, i2);
      idx = num_temp->contents->size[0];
      for (i2 = 0; i2 < idx; i2++) {
        ii = num_temp->contents->data[i2];
        qY = ii - 1U;
        if (qY > (unsigned int)ii) {
          qY = 0U;
        }

        b_num_temp->data[i2] = (unsigned short)qY;
      }

      c_rem(b_num_temp, r0);
      i2 = row->size[0];
      row->size[0] = r0->size[0];
      emxEnsureCapacity_uint8_T(row, i2);
      idx = r0->size[0];
      for (i2 = 0; i2 < idx; i2++) {
        qY = r0->data[i2] + 1U;
        if (qY > 65535U) {
          qY = 65535U;
        }

        u0 = (unsigned short)qY;
        if ((unsigned short)qY > 255) {
          u0 = 255U;
        }

        row->data[i2] = (unsigned char)u0;
      }

      /* óÒî‘çÜ:32Ç≈äÑÇ¡ÇΩÇ∆Ç´ÇÃè§ */
      i2 = b_num_temp->size[0];
      b_num_temp->size[0] = num_temp->contents->size[0];
      emxEnsureCapacity_uint16_T(b_num_temp, i2);
      idx = num_temp->contents->size[0];
      for (i2 = 0; i2 < idx; i2++) {
        ii = num_temp->contents->data[i2];
        qY = ii - 1U;
        if (qY > (unsigned int)ii) {
          qY = 0U;
        }

        b_num_temp->data[i2] = (unsigned short)qY;
      }

      idivide(b_num_temp, 32.0, r0);
      i2 = col->size[0];
      col->size[0] = r0->size[0];
      emxEnsureCapacity_uint8_T(col, i2);
      idx = r0->size[0];
      for (i2 = 0; i2 < idx; i2++) {
        qY = r0->data[i2] + 1U;
        if (qY > 65535U) {
          qY = 65535U;
        }

        u0 = (unsigned short)qY;
        if ((unsigned short)qY > 255) {
          u0 = 255U;
        }

        col->data[i2] = (unsigned char)u0;
      }

      /* å©Ç¬Ç©Ç¡ÇΩÉ}ÉXÇÃêî */
      i2 = row->size[0];
      if (i2 < 0) {
        i2 = 0;
      } else {
        if (i2 > 255) {
          i2 = 255;
        }
      }

      /* çXêVÉ}ÉXÇ™å©Ç¬Ç©ÇÁÇ»ÇØÇÍÇŒèIóπ */
      if ((unsigned char)i2 == 0) {
        exitg1 = true;
      } else {
        /* åüçıÇµÇΩç¿ïWÇ…ëŒÇµÅAï‡êîmapÇçXêV */
        i2 = (unsigned char)i2;
        for (idx = 0; idx < i2; idx++) {
          /* ñkë§ */
          if (g_direction.North <= 7) {
            i3 = (unsigned char)(1 << g_direction.North);
          } else {
            i3 = 0;
          }

          if ((maze_wall[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 1] &
               i3) == wall->contents.nowall) {
            /* ñkë§ÇÃMAPÇ™çXêVÇ≥ÇÍÇƒÇ¢ÇÈÇ©îªífÅAÇ≥ÇÍÇƒÇ¢Ç»ÇØÇÍÇŒèëÇ´çûÇ› */
            ii = (int)(row->data[idx] + 1U);
            if ((unsigned int)ii > 255U) {
              ii = 255;
            }

            if (contour_map[(ii + ((col->data[idx] - 1) << 5)) - 1] == 65535) {
              ii = (int)(row->data[idx] + 1U);
              if ((unsigned int)ii > 255U) {
                ii = 255;
              }

              contour_map[(ii + ((col->data[idx] - 1) << 5)) - 1] = (unsigned
                short)(tempi + 1);
              change_flag = 1U;
            }
          }

          /* ìåë§ */
          if (g_direction.East <= 7) {
            i4 = (unsigned char)(1 << g_direction.East);
          } else {
            i4 = 0;
          }

          if ((maze_wall[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 1] &
               i4) == wall->contents.nowall) {
            /* ìåë§ÇÃMAPÇ™çXêVÇ≥ÇÍÇƒÇ¢ÇÈÇ©îªífÅAÇ≥ÇÍÇƒÇ¢Ç»ÇØÇÍÇŒèëÇ´çûÇ› */
            ii = (int)(col->data[idx] + 1U);
            if ((unsigned int)ii > 255U) {
              ii = 255;
            }

            if (contour_map[(row->data[idx] + ((ii - 1) << 5)) - 1] == 65535) {
              ii = (int)(col->data[idx] + 1U);
              if ((unsigned int)ii > 255U) {
                ii = 255;
              }

              contour_map[(row->data[idx] + ((ii - 1) << 5)) - 1] = (unsigned
                short)(tempi + 1);
              change_flag = 1U;
            }
          }

          /* ìÏë§ */
          if (g_direction.South <= 7) {
            i5 = (unsigned char)(1 << g_direction.South);
          } else {
            i5 = 0;
          }

          if (((maze_wall[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 1] &
                i5) == wall->contents.nowall) && (contour_map[(row->data[idx] +
                ((col->data[idx] - 1) << 5)) - 2] == 65535)) {
            /* ìÏë§ÇÃMAPÇ™çXêVÇ≥ÇÍÇƒÇ¢ÇÈÇ©îªífÅAÇ≥ÇÍÇƒÇ¢Ç»ÇØÇÍÇŒèëÇ´çûÇ› */
            contour_map[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 2] =
              (unsigned short)(tempi + 1);
            change_flag = 1U;
          }

          /* êºë§ */
          if (g_direction.West <= 7) {
            i6 = (unsigned char)(1 << g_direction.West);
          } else {
            i6 = 0;
          }

          if (((maze_wall[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 1] &
                i6) == wall->contents.nowall) && (contour_map[(row->data[idx] +
                ((col->data[idx] - 2) << 5)) - 1] == 65535)) {
            /* êºë§ÇÃMAPÇ™çXêVÇ≥ÇÍÇƒÇ¢ÇÈÇ©îªífÅAÇ≥ÇÍÇƒÇ¢Ç»ÇØÇÍÇŒèëÇ´çûÇ› */
            contour_map[(row->data[idx] + ((col->data[idx] - 2) << 5)) - 1] =
              (unsigned short)(tempi + 1);
            change_flag = 1U;
          }
        }

        tempi++;
      }
    }

    /* çXêVÇ™Ç»ÇØÇÍÇŒèIóπ     */
  } while (!(change_flag == 0));

  emxFree_uint16_T(&b_num_temp);
  emxFree_uint16_T(&r0);
  emxFree_uint8_T(&col);
  emxFree_uint8_T(&row);
}

/*
 * ñ¢ímï«ÇÃóÃàÊÇÕâºëzï«ÇÇ®Ç¢ÇƒêNì¸ÇµÇ»Ç¢ÅB
 * ì¸óÕ ñ¿òHècÉTÉCÉY,ñ¿òHâ°ÉTÉCÉY,ÉSÅ[Éãç¿ïW,ñ¿òHèÓïÒ(16êiêî),ñ¿òHíTçıèÓïÒ(16êiêî)
 * èoóÕ ìôçÇê¸map,ç≈ëÂåoòHí∑
 * Arguments    : const coder_internal_ref *goal_size
 *                coder_internal_ref_3 *num_temp
 *                const coder_internal_ref_5 *wall
 *                const coder_internal_ref_4 *search
 *                const unsigned char maze_goal[18]
 *                const unsigned char maze_wall[1024]
 *                const unsigned char maze_wall_search[1024]
 *                unsigned short contour_map[1024]
 * Return Type  : void
 */
static void make_map_fustrun(const coder_internal_ref *goal_size,
  coder_internal_ref_3 *num_temp, const coder_internal_ref_5 *wall, const
  coder_internal_ref_4 *search, const unsigned char maze_goal[18], const
  unsigned char maze_wall[1024], const unsigned char maze_wall_search[1024],
  unsigned short contour_map[1024])
{
  int i13;
  unsigned char move_dir_map[1024];
  unsigned char change_flag;
  int idx;
  int contour_map_tmp;
  unsigned short contour_refine_map[1024];
  emxArray_uint8_T *row;
  emxArray_uint8_T *col;
  int i14;
  emxArray_uint16_T *r1;
  emxArray_uint16_T *b_num_temp;
  int i15;
  int i16;
  unsigned short tempi;
  int i17;
  bool exitg1;
  int i18;
  short ii_data[1024];
  unsigned int qY;
  unsigned short u3;
  int i19;
  int i20;
  int i21;
  int i22;
  int i23;
  int i24;
  int i25;
  int i26;
  int i27;
  int i28;
  int i29;
  int i30;

  /*  make_map_fustrun ç≈íZëñçsópìôçÇê¸MAPÇê∂ê¨ */
  /* ÉçÅ[ÉJÉãïœêîê›íË */
  /* ÉpÉâÉÅÅ[É^ê›íË */
  /*  ñ¿òHÉpÉâÉÅÅ[É^ê›íË */
  /* MAPÇÃèâä˙âª(Ç∑Ç◊ÇƒÇÃóvëfÇ…max_lengthÇì¸óÕ) */
  /* 32É}ÉXï™mapÇï€éù */
  /* êiçsï˚å¸ï‚äÆópïœêîíËã` */
  for (i13 = 0; i13 < 1024; i13++) {
    contour_map[i13] = MAX_uint16_T;
    move_dir_map[i13] = 0U;
  }

  /* ÉSÅ[Éãç¿ïWÇ… */
  /*  ï‡êîÉ}ÉbÉvÅF0Çì¸óÕ */
  /*  êiçsï˚å¸ : 1+2+4+8(ìåêºìÏñkÇ∑Ç◊Çƒ)=15 */
  /*  Çì¸óÕ */
  change_flag = goal_size->contents;
  i13 = change_flag;
  for (idx = 0; idx < i13; idx++) {
    contour_map_tmp = (maze_goal[idx + 9] + ((maze_goal[idx] - 1) << 5)) - 1;
    contour_map[contour_map_tmp] = 0U;
    if (g_direction.North <= 7) {
      i14 = (unsigned char)(1 << g_direction.North);
    } else {
      i14 = 0;
    }

    if (g_direction.East <= 7) {
      i15 = (unsigned char)(1 << g_direction.East);
    } else {
      i15 = 0;
    }

    i16 = (int)((unsigned int)i14 + i15);
    if ((unsigned int)i16 > 255U) {
      i16 = 255;
    }

    if (g_direction.South <= 7) {
      i17 = (unsigned char)(1 << g_direction.South);
    } else {
      i17 = 0;
    }

    i16 = (int)((unsigned int)i16 + i17);
    if ((unsigned int)i16 > 255U) {
      i16 = 255;
    }

    if (g_direction.West <= 7) {
      i18 = (unsigned char)(1 << g_direction.West);
    } else {
      i18 = 0;
    }

    i16 = (int)((unsigned int)i16 + i18);
    if ((unsigned int)i16 > 255U) {
      i16 = 255;
    }

    move_dir_map[contour_map_tmp] = (unsigned char)i16;
  }

  /* çXêVîªíËópïœêî(èdÇ›Ç√ÇØÇ»ÇµÇÃï‡êîÉ}ÉbÉv) */
  memcpy(&contour_refine_map[0], &contour_map[0], sizeof(unsigned short) << 10);
  emxInit_uint8_T(&row, 1);
  emxInit_uint8_T(&col, 1);
  emxInit_uint16_T(&r1, 1);
  emxInit_uint16_T(&b_num_temp, 1);
  do {
    change_flag = 0U;

    /* mapçXêVämîFópÉtÉâÉO */
    for (tempi = 0; tempi < MAX_uint16_T; tempi++) {
      /* çXêVämîFópÇÃï‡êîÉJÉEÉìÉgÇÕ0~max_length */
      /* ï‡êîÇ™ämíËÇµÇƒÇ¢ÇÈç¿ïWÇåüçı */
      /* ç≈èâÇÕ0,çXêVÇ≥ÇÍÅAëùâ¡ÇµÇΩÉ}ÉXÇéüÅXåüçıÇµÇƒÇ¢Ç≠ */
      idx = 0;
      contour_map_tmp = 0;
      exitg1 = false;
      while ((!exitg1) && (contour_map_tmp < 1024)) {
        if (contour_refine_map[contour_map_tmp] == tempi) {
          idx++;
          ii_data[idx - 1] = (short)(contour_map_tmp + 1);
          if (idx >= 1024) {
            exitg1 = true;
          } else {
            contour_map_tmp++;
          }
        } else {
          contour_map_tmp++;
        }
      }

      if (1 > idx) {
        idx = 0;
      }

      i13 = num_temp->contents->size[0];
      num_temp->contents->size[0] = idx;
      emxEnsureCapacity_uint16_T(num_temp->contents, i13);
      for (i13 = 0; i13 < idx; i13++) {
        num_temp->contents->data[i13] = (unsigned short)ii_data[i13];
      }

      /* 32çsÇ»ÇÃÇ≈ÅAçsî‘çÜ:32Ç≈äÑÇ¡ÇΩÇ†Ç‹ÇË */
      i13 = b_num_temp->size[0];
      b_num_temp->size[0] = num_temp->contents->size[0];
      emxEnsureCapacity_uint16_T(b_num_temp, i13);
      idx = num_temp->contents->size[0];
      for (i13 = 0; i13 < idx; i13++) {
        contour_map_tmp = num_temp->contents->data[i13];
        qY = contour_map_tmp - 1U;
        if (qY > (unsigned int)contour_map_tmp) {
          qY = 0U;
        }

        b_num_temp->data[i13] = (unsigned short)qY;
      }

      c_rem(b_num_temp, r1);
      i13 = row->size[0];
      row->size[0] = r1->size[0];
      emxEnsureCapacity_uint8_T(row, i13);
      idx = r1->size[0];
      for (i13 = 0; i13 < idx; i13++) {
        qY = r1->data[i13] + 1U;
        if (qY > 65535U) {
          qY = 65535U;
        }

        u3 = (unsigned short)qY;
        if ((unsigned short)qY > 255) {
          u3 = 255U;
        }

        row->data[i13] = (unsigned char)u3;
      }

      /* óÒî‘çÜ:32Ç≈äÑÇ¡ÇΩÇ∆Ç´ÇÃè§ */
      i13 = b_num_temp->size[0];
      b_num_temp->size[0] = num_temp->contents->size[0];
      emxEnsureCapacity_uint16_T(b_num_temp, i13);
      idx = num_temp->contents->size[0];
      for (i13 = 0; i13 < idx; i13++) {
        contour_map_tmp = num_temp->contents->data[i13];
        qY = contour_map_tmp - 1U;
        if (qY > (unsigned int)contour_map_tmp) {
          qY = 0U;
        }

        b_num_temp->data[i13] = (unsigned short)qY;
      }

      idivide(b_num_temp, 32.0, r1);
      i13 = col->size[0];
      col->size[0] = r1->size[0];
      emxEnsureCapacity_uint8_T(col, i13);
      idx = r1->size[0];
      for (i13 = 0; i13 < idx; i13++) {
        qY = r1->data[i13] + 1U;
        if (qY > 65535U) {
          qY = 65535U;
        }

        u3 = (unsigned short)qY;
        if ((unsigned short)qY > 255) {
          u3 = 255U;
        }

        col->data[i13] = (unsigned char)u3;
      }

      /* å©Ç¬Ç©Ç¡ÇΩÉ}ÉXÇÃêî */
      /* åüçıÇµÇΩç¿ïWÇ…ëŒÇµÅAï‡êîmapÇçXêV */
      i13 = row->size[0];
      if (i13 < 0) {
        i13 = 0;
      } else {
        if (i13 > 65535) {
          i13 = 65535;
        }
      }

      for (idx = 0; idx < i13; idx++) {
        /* ñkë§ */
        /* ï«Ç™ñ≥Ç¢ & íTçıçœÇ›Ç≈Ç†ÇÈÇ∆Ç´ */
        if (g_direction.North <= 7) {
          i19 = (unsigned char)(1 << g_direction.North);
        } else {
          i19 = 0;
        }

        if (((maze_wall[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 1] &
              i19) != 0) == wall->contents.nowall) {
          if (g_direction.North <= 7) {
            i20 = (unsigned char)(1 << g_direction.North);
          } else {
            i20 = 0;
          }

          if (((maze_wall_search[(row->data[idx] + ((col->data[idx] - 1) << 5))
                - 1] & i20) != 0) == search->contents.known) {
            /* Ç©Ç¬êiçsï˚å¸Ç™ñkå¸Ç´Ç≈Ç†ÇÈéû */
            if (g_direction.North <= 7) {
              i22 = (unsigned char)(1 << g_direction.North);
            } else {
              i22 = 0;
            }

            if ((move_dir_map[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 1]
                 & i22) != 0) {
              /* Ç©Ç¬ñkÇÃÉ}ÉXÇ™çXêVó\íËílÇÊÇËÇ‡ëÂÇ´Ç»ílÇÃèÍçá */
              i16 = (int)(row->data[idx] + 1U);
              if ((unsigned int)i16 > 255U) {
                i16 = 255;
              }

              qY = contour_map[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                1] + 1U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              if (contour_map[(i16 + ((col->data[idx] - 1) << 5)) - 1] > (int)qY)
              {
                /* çXêVämîFópÇÃMAPçXêV */
                i16 = (int)(row->data[idx] + 1U);
                if ((unsigned int)i16 > 255U) {
                  i16 = 255;
                }

                qY = contour_refine_map[(row->data[idx] + ((col->data[idx] - 1) <<
                  5)) - 1] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                contour_refine_map[(i16 + ((col->data[idx] - 1) << 5)) - 1] =
                  (unsigned short)qY;

                /* ï‡êîMAPçXêV */
                i16 = (int)(row->data[idx] + 1U);
                if ((unsigned int)i16 > 255U) {
                  i16 = 255;
                }

                qY = contour_map[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                contour_map[(i16 + ((col->data[idx] - 1) << 5)) - 1] = (unsigned
                  short)qY;

                /* à⁄ìÆï˚å¸MAPçXêV */
                i16 = (int)(row->data[idx] + 1U);
                if ((unsigned int)i16 > 255U) {
                  i16 = 255;
                }

                if (g_direction.North <= 7) {
                  move_dir_map[(i16 + ((col->data[idx] - 1) << 5)) - 1] =
                    (unsigned char)(1 << g_direction.North);
                } else {
                  move_dir_map[(i16 + ((col->data[idx] - 1) << 5)) - 1] = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;
              }

              /* Ç©Ç¬êiçsï˚å¸Ç™ñkå¸Ç´Ç≈Ç»Ç¢Ç∆Ç´     */
            } else {
              /* Ç©Ç¬ñkÇÃÉ}ÉXÇÃï‡êîMAPílÇ™ÅAçXêVó\íËílÇÊÇËëÂÇ´Ç¢èÍçá */
              i16 = (int)(row->data[idx] + 1U);
              if ((unsigned int)i16 > 255U) {
                i16 = 255;
              }

              qY = contour_map[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                1] + 5U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              if (contour_map[(i16 + ((col->data[idx] - 1) << 5)) - 1] > (int)qY)
              {
                /* çXêVämîFópÇÃMAPçXêV */
                i16 = (int)(row->data[idx] + 1U);
                if ((unsigned int)i16 > 255U) {
                  i16 = 255;
                }

                qY = contour_refine_map[(row->data[idx] + ((col->data[idx] - 1) <<
                  5)) - 1] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                contour_refine_map[(i16 + ((col->data[idx] - 1) << 5)) - 1] =
                  (unsigned short)qY;

                /* ï‡êîMAPçXêV(èdÇ›Ç√ÇØÇ†ÇË) */
                i16 = (int)(row->data[idx] + 1U);
                if ((unsigned int)i16 > 255U) {
                  i16 = 255;
                }

                qY = contour_map[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 5U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                contour_map[(i16 + ((col->data[idx] - 1) << 5)) - 1] = (unsigned
                  short)qY;

                /* à⁄ìÆï˚å¸MAPçXêV */
                i16 = (int)(row->data[idx] + 1U);
                if ((unsigned int)i16 > 255U) {
                  i16 = 255;
                }

                if (g_direction.North <= 7) {
                  move_dir_map[(i16 + ((col->data[idx] - 1) << 5)) - 1] =
                    (unsigned char)(1 << g_direction.North);
                } else {
                  move_dir_map[(i16 + ((col->data[idx] - 1) << 5)) - 1] = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;
              }
            }
          }
        }

        /* ìåë§ */
        /* ï«Ç™ñ≥Ç¢ & íTçıçœÇ›Ç≈Ç†ÇÈÇ∆Ç´ */
        if (g_direction.East <= 7) {
          i21 = (unsigned char)(1 << g_direction.East);
        } else {
          i21 = 0;
        }

        if (((maze_wall[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 1] &
              i21) != 0) == wall->contents.nowall) {
          if (g_direction.East <= 7) {
            i23 = (unsigned char)(1 << g_direction.East);
          } else {
            i23 = 0;
          }

          if (((maze_wall_search[(row->data[idx] + ((col->data[idx] - 1) << 5))
                - 1] & i23) != 0) == search->contents.known) {
            /* Ç©Ç¬êiçsï˚å¸Ç™ìåå¸Ç´Ç≈Ç†ÇÈéû */
            if (g_direction.East <= 7) {
              i25 = (unsigned char)(1 << g_direction.East);
            } else {
              i25 = 0;
            }

            if ((move_dir_map[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 1]
                 & i25) != 0) {
              /* Ç©Ç¬ìåÇÃÉ}ÉXÇ™çXêVó\íËílÇÊÇËÇ‡ëÂÇ´Ç»ílÇÃèÍçá */
              i16 = (int)(col->data[idx] + 1U);
              if ((unsigned int)i16 > 255U) {
                i16 = 255;
              }

              qY = contour_map[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                1] + 1U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              if (contour_map[(row->data[idx] + ((i16 - 1) << 5)) - 1] > (int)qY)
              {
                /* çXêVämîFópÇÃMAPçXêV */
                i16 = (int)(col->data[idx] + 1U);
                if ((unsigned int)i16 > 255U) {
                  i16 = 255;
                }

                qY = contour_refine_map[(row->data[idx] + ((col->data[idx] - 1) <<
                  5)) - 1] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                contour_refine_map[(row->data[idx] + ((i16 - 1) << 5)) - 1] =
                  (unsigned short)qY;

                /* ï‡êîMAPçXêV */
                i16 = (int)(col->data[idx] + 1U);
                if ((unsigned int)i16 > 255U) {
                  i16 = 255;
                }

                qY = contour_map[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                contour_map[(row->data[idx] + ((i16 - 1) << 5)) - 1] = (unsigned
                  short)qY;

                /* à⁄ìÆï˚å¸MAPçXêV */
                i16 = (int)(col->data[idx] + 1U);
                if ((unsigned int)i16 > 255U) {
                  i16 = 255;
                }

                if (g_direction.East <= 7) {
                  move_dir_map[(row->data[idx] + ((i16 - 1) << 5)) - 1] =
                    (unsigned char)(1 << g_direction.East);
                } else {
                  move_dir_map[(row->data[idx] + ((i16 - 1) << 5)) - 1] = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;
              }

              /* Ç©Ç¬êiçsï˚å¸Ç™ìåå¸Ç´Ç≈Ç»Ç¢Ç∆Ç´     */
            } else {
              /* Ç©Ç¬ìåÇÃÉ}ÉXÇÃï‡êîMAPílÇ™ÅAçXêVó\íËílÇÊÇËëÂÇ´Ç¢èÍçá */
              i16 = (int)(col->data[idx] + 1U);
              if ((unsigned int)i16 > 255U) {
                i16 = 255;
              }

              qY = contour_map[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                1] + 5U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              if (contour_map[(row->data[idx] + ((i16 - 1) << 5)) - 1] > (int)qY)
              {
                /* çXêVämîFópÇÃMAPçXêV */
                i16 = (int)(col->data[idx] + 1U);
                if ((unsigned int)i16 > 255U) {
                  i16 = 255;
                }

                qY = contour_refine_map[(row->data[idx] + ((col->data[idx] - 1) <<
                  5)) - 1] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                contour_refine_map[(row->data[idx] + ((i16 - 1) << 5)) - 1] =
                  (unsigned short)qY;

                /* ï‡êîMAPçXêV(èdÇ›Ç√ÇØÇ†ÇË) */
                i16 = (int)(col->data[idx] + 1U);
                if ((unsigned int)i16 > 255U) {
                  i16 = 255;
                }

                qY = contour_map[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 5U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                contour_map[(row->data[idx] + ((i16 - 1) << 5)) - 1] = (unsigned
                  short)qY;

                /* à⁄ìÆï˚å¸MAPçXêV */
                i16 = (int)(col->data[idx] + 1U);
                if ((unsigned int)i16 > 255U) {
                  i16 = 255;
                }

                if (g_direction.East <= 7) {
                  move_dir_map[(row->data[idx] + ((i16 - 1) << 5)) - 1] =
                    (unsigned char)(1 << g_direction.East);
                } else {
                  move_dir_map[(row->data[idx] + ((i16 - 1) << 5)) - 1] = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;
              }
            }
          }
        }

        /* ìÏë§ */
        /* ï«Ç™ñ≥Ç¢ & íTçıçœÇ›Ç≈Ç†ÇÈÇ∆Ç´ */
        if (g_direction.South <= 7) {
          i24 = (unsigned char)(1 << g_direction.South);
        } else {
          i24 = 0;
        }

        if (((maze_wall[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 1] &
              i24) != 0) == wall->contents.nowall) {
          if (g_direction.South <= 7) {
            i26 = (unsigned char)(1 << g_direction.South);
          } else {
            i26 = 0;
          }

          if (((maze_wall_search[(row->data[idx] + ((col->data[idx] - 1) << 5))
                - 1] & i26) != 0) == search->contents.known) {
            /* Ç©Ç¬êiçsï˚å¸Ç™ìÏå¸Ç´Ç≈Ç†ÇÈéû */
            if (g_direction.South <= 7) {
              i28 = (unsigned char)(1 << g_direction.South);
            } else {
              i28 = 0;
            }

            if ((move_dir_map[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 1]
                 & i28) != 0) {
              /* Ç©Ç¬ìÏÇÃÉ}ÉXÇ™çXêVó\íËílÇÊÇËÇ‡ëÂÇ´Ç»ílÇÃèÍçá */
              qY = contour_map[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                1] + 1U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              if (contour_map[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 2]
                  > (int)qY) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = contour_refine_map[(row->data[idx] + ((col->data[idx] - 1) <<
                  5)) - 1] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                contour_refine_map[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 2] = (unsigned short)qY;

                /* ï‡êîMAPçXêV */
                qY = contour_map[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                contour_map[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 2] =
                  (unsigned short)qY;

                /* à⁄ìÆï˚å¸MAPçXêV */
                if (g_direction.South <= 7) {
                  move_dir_map[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                    2] = (unsigned char)(1 << g_direction.South);
                } else {
                  move_dir_map[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                    2] = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;
              }

              /* Ç©Ç¬êiçsï˚å¸Ç™ìÏå¸Ç´Ç≈Ç»Ç¢Ç∆Ç´     */
            } else {
              /* Ç©Ç¬ìÏÇÃÉ}ÉXÇÃï‡êîMAPílÇ™ÅAçXêVó\íËílÇÊÇËëÂÇ´Ç¢èÍçá */
              qY = contour_map[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                1] + 5U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              if (contour_map[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 2]
                  > (int)qY) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = contour_refine_map[(row->data[idx] + ((col->data[idx] - 1) <<
                  5)) - 1] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                contour_refine_map[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 2] = (unsigned short)qY;

                /* ï‡êîMAPçXêV(èdÇ›Ç√ÇØÇ†ÇË) */
                qY = contour_map[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 5U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                contour_map[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 2] =
                  (unsigned short)qY;

                /* à⁄ìÆï˚å¸MAPçXêV */
                if (g_direction.South <= 7) {
                  move_dir_map[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                    2] = (unsigned char)(1 << g_direction.South);
                } else {
                  move_dir_map[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                    2] = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;
              }
            }
          }
        }

        /* êºë§ */
        /* ï«Ç™ñ≥Ç¢ & íTçıçœÇ›Ç≈Ç†ÇÈÇ∆Ç´ */
        if (g_direction.West <= 7) {
          i27 = (unsigned char)(1 << g_direction.West);
        } else {
          i27 = 0;
        }

        if (((maze_wall[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 1] &
              i27) != 0) == wall->contents.nowall) {
          if (g_direction.West <= 7) {
            i29 = (unsigned char)(1 << g_direction.West);
          } else {
            i29 = 0;
          }

          if (((maze_wall_search[(row->data[idx] + ((col->data[idx] - 1) << 5))
                - 1] & i29) != 0) == search->contents.known) {
            /* Ç©Ç¬êiçsï˚å¸Ç™êºå¸Ç´Ç≈Ç†ÇÈéû */
            if (g_direction.West <= 7) {
              i30 = (unsigned char)(1 << g_direction.West);
            } else {
              i30 = 0;
            }

            if ((move_dir_map[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 1]
                 & i30) != 0) {
              /* Ç©Ç¬ñkÇÃÉ}ÉXÇ™çXêVó\íËílÇÊÇËÇ‡ëÂÇ´Ç»ílÇÃèÍçá */
              qY = contour_map[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                1] + 1U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              if (contour_map[(row->data[idx] + ((col->data[idx] - 2) << 5)) - 1]
                  > (int)qY) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = contour_refine_map[(row->data[idx] + ((col->data[idx] - 1) <<
                  5)) - 1] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                contour_refine_map[(row->data[idx] + ((col->data[idx] - 2) << 5))
                  - 1] = (unsigned short)qY;

                /* ï‡êîMAPçXêV */
                qY = contour_map[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                contour_map[(row->data[idx] + ((col->data[idx] - 2) << 5)) - 1] =
                  (unsigned short)qY;

                /* à⁄ìÆï˚å¸MAPçXêV */
                if (g_direction.West <= 7) {
                  move_dir_map[(row->data[idx] + ((col->data[idx] - 2) << 5)) -
                    1] = (unsigned char)(1 << g_direction.West);
                } else {
                  move_dir_map[(row->data[idx] + ((col->data[idx] - 2) << 5)) -
                    1] = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;
              }

              /* Ç©Ç¬êiçsï˚å¸Ç™êºå¸Ç´Ç≈Ç»Ç¢Ç∆Ç´     */
            } else {
              /* Ç©Ç¬ñkÇÃÉ}ÉXÇÃï‡êîMAPílÇ™ÅAçXêVó\íËílÇÊÇËëÂÇ´Ç¢èÍçá */
              qY = contour_map[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                1] + 5U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              if (contour_map[(row->data[idx] + ((col->data[idx] - 2) << 5)) - 1]
                  > (int)qY) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = contour_refine_map[(row->data[idx] + ((col->data[idx] - 1) <<
                  5)) - 1] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                contour_refine_map[(row->data[idx] + ((col->data[idx] - 2) << 5))
                  - 1] = (unsigned short)qY;

                /* ï‡êîMAPçXêV(èdÇ›Ç√ÇØÇ†ÇË) */
                qY = contour_map[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 5U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                contour_map[(row->data[idx] + ((col->data[idx] - 2) << 5)) - 1] =
                  (unsigned short)qY;

                /* à⁄ìÆï˚å¸MAPçXêV */
                if (g_direction.West <= 7) {
                  move_dir_map[(row->data[idx] + ((col->data[idx] - 2) << 5)) -
                    1] = (unsigned char)(1 << g_direction.West);
                } else {
                  move_dir_map[(row->data[idx] + ((col->data[idx] - 2) << 5)) -
                    1] = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;
              }
            }
          }
        }
      }
    }

    /* çXêVÇ™Ç»ÇØÇÍÇŒèIóπ     */
  } while (!(change_flag == 0));

  emxFree_uint16_T(&b_num_temp);
  emxFree_uint16_T(&r1);
  emxFree_uint8_T(&col);
  emxFree_uint8_T(&row);
}

/*
 * ñ¢ímï«ÇÃóÃàÊÇÕâºëzï«ÇÇ®Ç¢ÇƒêNì¸ÇµÇ»Ç¢ÅB
 * ì¸óÕ ñ¿òHècÉTÉCÉY,ñ¿òHâ°ÉTÉCÉY,ÉSÅ[Éãç¿ïW,ñ¿òHèÓïÒ(16êiêî),ñ¿òHíTçıèÓïÒ(16êiêî)
 * èoóÕ ìôçÇê¸map,ç≈ëÂåoòHí∑
 * Arguments    : coder_internal_ref_2 *max_length
 *                coder_internal_ref_3 *num_temp
 *                const coder_internal_ref_5 *wall
 *                const coder_internal_ref_4 *search
 *                const unsigned char maze_goal[18]
 *                unsigned char goal_size
 *                const unsigned char maze_wall[1024]
 *                const unsigned char maze_wall_search[1024]
 *                unsigned short row_num_node[1056]
 *                unsigned short col_num_node[1056]
 *                unsigned short *start_num
 * Return Type  : void
 */
static void make_map_fustrun_diagonal(coder_internal_ref_2 *max_length,
  coder_internal_ref_3 *num_temp, const coder_internal_ref_5 *wall, const
  coder_internal_ref_4 *search, const unsigned char maze_goal[18], unsigned char
  goal_size, const unsigned char maze_wall[1024], const unsigned char
  maze_wall_search[1024], unsigned short row_num_node[1056], unsigned short
  col_num_node[1056], unsigned short *start_num)
{
  int i35;
  unsigned short row_num_node_temp[1056];
  unsigned short col_num_node_temp[1056];
  unsigned char row_dir_node[1056];
  int ii;
  unsigned char col_dir_node[1056];
  int idx;
  int i36;
  int i37;
  int i38;
  emxArray_uint16_T *row;
  int i39;
  emxArray_uint16_T *col;
  int i40;
  emxArray_uint16_T *b_num_temp;
  int row_num_node_tmp;
  unsigned char change_flag;
  int i41;
  int i42;
  int i43;
  unsigned int qY;
  int i44;
  unsigned short u5;
  unsigned short i;
  int i45;
  int i46;
  int i47;
  bool exitg1;
  int i48;
  int i49;
  short ii_data[1056];
  int i50;
  int i51;
  int i52;
  int i53;
  int i54;
  unsigned char a;
  int i55;
  int i56;
  unsigned int u6;
  int i57;
  int i58;
  int i59;
  int i60;
  int i61;
  int i62;
  int i63;
  int i64;
  int i65;
  int i66;
  int i67;
  int i68;
  int i69;
  int i70;
  int i71;
  int i72;
  int i73;
  int i74;
  int i75;
  int i76;
  int i77;
  int i78;
  int i79;
  int i80;
  int i81;
  int i82;
  int i83;
  int i84;
  int i85;
  int i86;
  int i87;
  int i88;
  int i89;
  int i90;
  int i91;
  int i92;
  int i93;
  int i94;
  int i95;
  int i96;
  int i97;
  int i98;
  int i99;
  int i100;
  int i101;
  int i102;
  int i103;
  int i104;
  int i105;
  int i106;
  int i107;
  int i108;
  int i109;

  /*  make_map_fustrun_diagonal ç≈íZëñçsópìôçÇê¸MAPÇê∂ê¨ */
  /* ÉçÅ[ÉJÉãïœêîê›íË */
  /* ÉpÉâÉÅÅ[É^ê›íË */
  /*  ñ¿òHÉpÉâÉÅÅ[É^ê›íË */
  max_length->contents = 1024U;

  /*  ÉãÅ[ÉgÇÃèdÇ›ê›íË */
  /* MAPÇÃèâä˙âª(Ç∑Ç◊ÇƒÇÃÉmÅ[ÉhÇ…max_lengthÇì¸óÕ) */
  /* ï‡êîMAP */
  /* çXêVópMAP */
  /* êiçsï˚å¸ï€éùópÉmÅ[ÉhçÏê¨ */
  for (i35 = 0; i35 < 1056; i35++) {
    row_num_node[i35] = MAX_uint16_T;
    col_num_node[i35] = MAX_uint16_T;
    row_num_node_temp[i35] = MAX_uint16_T;
    col_num_node_temp[i35] = MAX_uint16_T;
    row_dir_node[i35] = 0U;
    col_dir_node[i35] = 0U;
  }

  /* ÉSÅ[ÉãÉZÉNÉVÉáÉìÇ™ämíËÇµÇƒÇ¢ÇÈèÍçá */
  if (goal_size == 1) {
    /* ÉSÅ[ÉãÉ}ÉXÇ©ÇÁÅAìåêºìÏñkÇ…É}ÉbÉvÇìWäJ */
    /* ñkï« */
    i35 = maze_goal[0] - 1;
    ii = (maze_goal[9] + (i35 << 5)) - 1;
    if (g_direction.North <= 7) {
      i36 = (unsigned char)(1 << g_direction.North);
    } else {
      i36 = 0;
    }

    if ((maze_wall[ii] & i36) == 0) {
      /* ï‡êîçXêV */
      i37 = (int)(maze_goal[9] + 1U);
      i38 = i37;
      if ((unsigned int)i37 > 255U) {
        i38 = 255;
      }

      row_num_node_tmp = 33 * i35;
      row_num_node[(i38 + row_num_node_tmp) - 1] = 3U;

      /* ï˚å¸í«â¡ */
      i35 = i37;
      if ((unsigned int)i37 > 255U) {
        i35 = 255;
      }

      if (g_d_direction.North <= 7) {
        row_dir_node[(i35 + row_num_node_tmp) - 1] = (unsigned char)(1 <<
          g_d_direction.North);
      } else {
        row_dir_node[(i35 + row_num_node_tmp) - 1] = 0U;
      }

      /* çXêVópMAPçXêV */
      if ((unsigned int)i37 > 255U) {
        i37 = 255;
      }

      row_num_node_temp[(i37 + row_num_node_tmp) - 1] = 0U;
    }

    /* ìåï« */
    if (g_direction.East <= 7) {
      i39 = (unsigned char)(1 << g_direction.East);
    } else {
      i39 = 0;
    }

    if ((maze_wall[ii] & i39) == 0) {
      /* ï‡êîçXêV */
      i35 = (int)(maze_goal[0] + 1U);
      i37 = i35;
      if ((unsigned int)i35 > 255U) {
        i37 = 255;
      }

      col_num_node[(maze_goal[9] + ((i37 - 1) << 5)) - 1] = 3U;

      /* ï˚å¸í«â¡ */
      i37 = i35;
      if ((unsigned int)i35 > 255U) {
        i37 = 255;
      }

      if (g_d_direction.East <= 7) {
        col_dir_node[(maze_goal[9] + ((i37 - 1) << 5)) - 1] = (unsigned char)(1 <<
          g_d_direction.East);
      } else {
        col_dir_node[(maze_goal[9] + ((i37 - 1) << 5)) - 1] = 0U;
      }

      /* çXêVópMAPçXêV */
      if ((unsigned int)i35 > 255U) {
        i35 = 255;
      }

      col_num_node_temp[(maze_goal[9] + ((i35 - 1) << 5)) - 1] = 0U;
    }

    /* ìÏï« */
    if (g_direction.South <= 7) {
      i43 = (unsigned char)(1 << g_direction.South);
    } else {
      i43 = 0;
    }

    if ((maze_wall[ii] & i43) == 0) {
      /* ï‡êîçXêV */
      row_num_node_tmp = (maze_goal[9] + 33 * (maze_goal[0] - 1)) - 1;
      row_num_node[row_num_node_tmp] = 3U;

      /* ï˚å¸í«â¡ */
      if (g_d_direction.South <= 7) {
        i47 = (unsigned char)(1 << g_d_direction.South);
      } else {
        i47 = 0;
      }

      row_dir_node[row_num_node_tmp] = (unsigned char)
        (row_dir_node[row_num_node_tmp] | i47);

      /* çXêVópMAPçXêV */
      row_num_node_temp[row_num_node_tmp] = 0U;
    }

    /* êºï« */
    if (g_direction.West <= 7) {
      i45 = (unsigned char)(1 << g_direction.West);
    } else {
      i45 = 0;
    }

    if ((maze_wall[ii] & i45) == 0) {
      /* ï‡êîçXêV */
      col_num_node[ii] = 3U;

      /* ï˚å¸í«â¡ */
      if (g_d_direction.West <= 7) {
        i49 = (unsigned char)(1 << g_d_direction.West);
      } else {
        i49 = 0;
      }

      col_dir_node[ii] = (unsigned char)(col_dir_node[ii] | i49);

      /* çXêVópMAPçXêV */
      col_num_node_temp[ii] = 0U;
    }

    /* ÉSÅ[ÉãÉZÉNÉVÉáÉìÇ™ämíËÇµÇƒÇ¢Ç»Ç¢èÍçá     */
  } else {
    /* ÉSÅ[ÉãÉmÅ[ÉhÇ… */
    /*  ï‡êîÅF0Çì¸óÕ */
    /*  êiçsï˚å¸ : ï«Ç™Ç»ÇØÇÍÇŒëSï˚å¸=0b11111111=255 */
    /*  Çì¸óÕ */
    i35 = goal_size;
    for (idx = 0; idx < i35; idx++) {
      /* ñkï« */
      ii = maze_goal[idx] - 1;
      i37 = maze_goal[idx + 9];
      i38 = (i37 + (ii << 5)) - 1;
      if (g_direction.North <= 7) {
        i40 = (unsigned char)(1 << g_direction.North);
      } else {
        i40 = 0;
      }

      if ((maze_wall[i38] & i40) == 0) {
        /* ï‡êîçXêV */
        i41 = (int)(maze_goal[idx + 9] + 1U);
        i42 = i41;
        if ((unsigned int)i41 > 255U) {
          i42 = 255;
        }

        row_num_node_tmp = 33 * ii;
        row_num_node[(i42 + row_num_node_tmp) - 1] = 0U;

        /* ï˚å¸çXêV */
        if ((unsigned int)i41 > 255U) {
          i41 = 255;
        }

        row_dir_node[(i41 + row_num_node_tmp) - 1] = MAX_uint8_T;
      }

      /* ìåï« */
      if (g_direction.East <= 7) {
        i44 = (unsigned char)(1 << g_direction.East);
      } else {
        i44 = 0;
      }

      if ((maze_wall[i38] & i44) == 0) {
        /* ï‡êîçXêV */
        ii = (int)(maze_goal[idx] + 1U);
        i41 = ii;
        if ((unsigned int)ii > 255U) {
          i41 = 255;
        }

        col_num_node[(i37 + ((i41 - 1) << 5)) - 1] = 0U;

        /* ï˚å¸çXêV */
        if ((unsigned int)ii > 255U) {
          ii = 255;
        }

        col_dir_node[(i37 + ((ii - 1) << 5)) - 1] = MAX_uint8_T;
      }

      /* ìÏï« */
      if (g_direction.South <= 7) {
        i46 = (unsigned char)(1 << g_direction.South);
      } else {
        i46 = 0;
      }

      if ((maze_wall[i38] & i46) == 0) {
        /* ï‡êîçXêV */
        row_num_node_tmp = (i37 + 33 * (maze_goal[idx] - 1)) - 1;
        row_num_node[row_num_node_tmp] = 0U;

        /* ï˚å¸çXêV */
        row_dir_node[row_num_node_tmp] = MAX_uint8_T;
      }

      /* êºï« */
      if (g_direction.West <= 7) {
        i48 = (unsigned char)(1 << g_direction.West);
      } else {
        i48 = 0;
      }

      if ((maze_wall[i38] & i48) == 0) {
        /* ï‡êîçXêV */
        col_num_node[i38] = 0U;

        /* ï˚å¸çXêV */
        col_dir_node[i38] = MAX_uint8_T;
      }
    }

    /* çXêVîªíËópïœêî(èdÇ›Ç√ÇØÇ»ÇµÇÃï‡êîÉ}ÉbÉv) */
    memcpy(&row_num_node_temp[0], &row_num_node[0], 1056U * sizeof(unsigned
            short));
    memcpy(&col_num_node_temp[0], &col_num_node[0], 1056U * sizeof(unsigned
            short));
  }

  emxInit_uint16_T(&row, 1);
  emxInit_uint16_T(&col, 1);
  emxInit_uint16_T(&b_num_temp, 1);
  do {
    change_flag = 0U;

    /* mapçXêVämîFópÉtÉâÉO */
    idx = max_length->contents;
    qY = idx - 1U;
    if (qY > (unsigned int)idx) {
      qY = 0U;
    }

    u5 = (unsigned short)qY;
    for (i = 0; i <= u5; i++) {
      /* çXêVämîFópÇÃï‡êîÉJÉEÉìÉgÇÕ0~max_length */
      /* Row_EdgeÇÃèàóù[33çs,32óÒ] */
      /* ï‡êîÇ™ämíËÇµÇƒÇ¢ÇÈç¿ïWÇåüçı */
      /* ç≈èâÇÕ0,çXêVÇ≥ÇÍÅAëùâ¡ÇµÇΩÉ}ÉXÇéüÅXåüçıÇµÇƒÇ¢Ç≠ */
      idx = 0;
      ii = 0;
      exitg1 = false;
      while ((!exitg1) && (ii < 1056)) {
        if (row_num_node_temp[ii] == i) {
          idx++;
          ii_data[idx - 1] = (short)(ii + 1);
          if (idx >= 1056) {
            exitg1 = true;
          } else {
            ii++;
          }
        } else {
          ii++;
        }
      }

      if (1 > idx) {
        ii = 0;
      } else {
        ii = idx;
      }

      i35 = num_temp->contents->size[0];
      num_temp->contents->size[0] = ii;
      emxEnsureCapacity_uint16_T(num_temp->contents, i35);
      for (i35 = 0; i35 < ii; i35++) {
        num_temp->contents->data[i35] = (unsigned short)ii_data[i35];
      }

      /* 33çsÇ»ÇÃÇ≈ÅAçsî‘çÜ:33Ç≈äÑÇ¡ÇΩÇ†Ç‹ÇË */
      i35 = b_num_temp->size[0];
      b_num_temp->size[0] = num_temp->contents->size[0];
      emxEnsureCapacity_uint16_T(b_num_temp, i35);
      ii = num_temp->contents->size[0];
      for (i35 = 0; i35 < ii; i35++) {
        idx = num_temp->contents->data[i35];
        qY = idx - 1U;
        if (qY > (unsigned int)idx) {
          qY = 0U;
        }

        b_num_temp->data[i35] = (unsigned short)qY;
      }

      d_rem(b_num_temp, row);
      i35 = row->size[0];
      emxEnsureCapacity_uint16_T(row, i35);
      ii = row->size[0];
      for (i35 = 0; i35 < ii; i35++) {
        qY = row->data[i35] + 1U;
        if (qY > 65535U) {
          qY = 65535U;
        }

        row->data[i35] = (unsigned short)qY;
      }

      /* óÒî‘çÜ:33Ç≈äÑÇ¡ÇΩÇ∆Ç´ÇÃè§ */
      i35 = b_num_temp->size[0];
      b_num_temp->size[0] = num_temp->contents->size[0];
      emxEnsureCapacity_uint16_T(b_num_temp, i35);
      ii = num_temp->contents->size[0];
      for (i35 = 0; i35 < ii; i35++) {
        idx = num_temp->contents->data[i35];
        qY = idx - 1U;
        if (qY > (unsigned int)idx) {
          qY = 0U;
        }

        b_num_temp->data[i35] = (unsigned short)qY;
      }

      idivide(b_num_temp, 33.0, col);
      i35 = col->size[0];
      emxEnsureCapacity_uint16_T(col, i35);
      ii = col->size[0];
      for (i35 = 0; i35 < ii; i35++) {
        qY = col->data[i35] + 1U;
        if (qY > 65535U) {
          qY = 65535U;
        }

        col->data[i35] = (unsigned short)qY;
      }

      /* å©Ç¬Ç©Ç¡ÇΩÉ}ÉXÇÃêî */
      /* åüçıÇµÇΩç¿ïWÇ…ëŒÇµÅAï‡êîmapÇçXêV */
      i35 = row->size[0];
      if (i35 < 0) {
        i35 = 0;
      } else {
        if (i35 > 65535) {
          i35 = 65535;
        }
      }

      for (idx = 0; idx < i35; idx++) {
        /* ñkë§ */
        /* ï«Ç™ñ≥Ç¢ & íTçıçœÇ›Ç≈Ç†ÇÈÇ∆Ç´ */
        if (g_direction.North <= 7) {
          i50 = (unsigned char)(1 << g_direction.North);
        } else {
          i50 = 0;
        }

        if (((maze_wall[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 1] &
              i50) != 0) == wall->contents.nowall) {
          if (g_direction.North <= 7) {
            i51 = (unsigned char)(1 << g_direction.North);
          } else {
            i51 = 0;
          }

          if (((maze_wall_search[(row->data[idx] + ((col->data[idx] - 1) << 5))
                - 1] & i51) != 0) == search->contents.known) {
            /* Ç©Ç¬êiçsï˚å¸Ç™ñkå¸Ç´Ç≈Ç†ÇÈéû */
            if (g_d_direction.North <= 7) {
              i53 = (unsigned char)(1 << g_d_direction.North);
            } else {
              i53 = 0;
            }

            if ((row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                 & i53) != 0) {
              /* Ç©Ç¬ñkÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇÊÇËÇ‡ëÂÇ´Ç»ílÇÃèÍçá */
              qY = row->data[idx] + 1U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              u6 = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                + 6U;
              if (u6 > 65535U) {
                u6 = 65535U;
              }

              if (row_num_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] > (int)
                  u6) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u6 = row_num_node_temp[(row->data[idx] + 33 * (col->data[idx] -
                  1)) - 1] + 1U;
                if (u6 > 65535U) {
                  u6 = 65535U;
                }

                row_num_node_temp[((int)qY + 33 * (col->data[idx] - 1)) - 1] =
                  (unsigned short)u6;

                /* ï‡êîMAPçXêV */
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u6 = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 6U;
                if (u6 > 65535U) {
                  u6 = 65535U;
                }

                row_num_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] =
                  (unsigned short)u6;

                /* à⁄ìÆï˚å¸MAPçXêV */
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (g_d_direction.North <= 7) {
                  row_dir_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] =
                    (unsigned char)(1 << g_d_direction.North);
                } else {
                  row_dir_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬ñkÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u6 = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 6U;
                if (u6 > 65535U) {
                  u6 = 65535U;
                }

                if (row_num_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] ==
                    (int)u6) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  qY = row->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  a = row_dir_node[((int)qY + 33 * (col->data[idx] - 1)) - 1];
                  qY = row->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  if (g_d_direction.North <= 7) {
                    i64 = (unsigned char)(1 << g_d_direction.North);
                  } else {
                    i64 = 0;
                  }

                  row_dir_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] =
                    (unsigned char)(a | i64);
                }
              }

              /* Ç©Ç¬êiçsï˚å¸Ç™ñkå¸Ç´Ç≈Ç»Ç¢Ç∆Ç´     */
            } else {
              /* Ç©Ç¬ñkÇÃÉmÅ[ÉhÇÃï‡êîMAPílÇ™ÅAçXêVó\íËílÇÊÇËëÂÇ´Ç¢èÍçá */
              qY = row->data[idx] + 1U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              u6 = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                + 18U;
              if (u6 > 65535U) {
                u6 = 65535U;
              }

              if (row_num_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] > (int)
                  u6) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u6 = row_num_node_temp[(row->data[idx] + 33 * (col->data[idx] -
                  1)) - 1] + 1U;
                if (u6 > 65535U) {
                  u6 = 65535U;
                }

                row_num_node_temp[((int)qY + 33 * (col->data[idx] - 1)) - 1] =
                  (unsigned short)u6;

                /* ï‡êîMAPçXêV(èdÇ›Ç√ÇØÇ†ÇË) */
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u6 = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 18U;
                if (u6 > 65535U) {
                  u6 = 65535U;
                }

                row_num_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] =
                  (unsigned short)u6;

                /* à⁄ìÆï˚å¸MAPçXêV */
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (g_d_direction.North <= 7) {
                  row_dir_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] =
                    (unsigned char)(1 << g_d_direction.North);
                } else {
                  row_dir_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬ñkÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u6 = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 18U;
                if (u6 > 65535U) {
                  u6 = 65535U;
                }

                if (row_num_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] ==
                    (int)u6) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  qY = row->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  a = row_dir_node[((int)qY + 33 * (col->data[idx] - 1)) - 1];
                  qY = row->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  if (g_d_direction.North <= 7) {
                    i63 = (unsigned char)(1 << g_d_direction.North);
                  } else {
                    i63 = 0;
                  }

                  row_dir_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] =
                    (unsigned char)(a | i63);
                }
              }
            }
          }
        }

        /* ñkìåë§ */
        /* ï«Ç™ñ≥Ç¢ & íTçıçœÇ›Ç≈Ç†ÇÈÇ∆Ç´ */
        if (g_direction.East <= 7) {
          i52 = (unsigned char)(1 << g_direction.East);
        } else {
          i52 = 0;
        }

        if (((maze_wall[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 1] &
              i52) != 0) == wall->contents.nowall) {
          if (g_direction.East <= 7) {
            i54 = (unsigned char)(1 << g_direction.East);
          } else {
            i54 = 0;
          }

          if (((maze_wall_search[(row->data[idx] + ((col->data[idx] - 1) << 5))
                - 1] & i54) != 0) == search->contents.known) {
            /* Ç©Ç¬êiçsï˚å¸Ç™ñkìåå¸Ç´Ç≈Ç†ÇÈéû */
            if (g_d_direction.North_East <= 7) {
              i56 = (unsigned char)(1 << g_d_direction.North_East);
            } else {
              i56 = 0;
            }

            if ((row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                 & i56) != 0) {
              /* Ç©Ç¬ñkìåÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇÊÇËÇ‡ëÂÇ´Ç»ílÇÃèÍçá */
              qY = col->data[idx] + 1U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              u6 = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                + 4U;
              if (u6 > 65535U) {
                u6 = 65535U;
              }

              if (col_num_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] >
                  (int)u6) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u6 = row_num_node_temp[(row->data[idx] + 33 * (col->data[idx] -
                  1)) - 1] + 1U;
                if (u6 > 65535U) {
                  u6 = 65535U;
                }

                col_num_node_temp[(row->data[idx] + (((int)qY - 1) << 5)) - 1] =
                  (unsigned short)u6;

                /* ï‡êîMAPçXêV */
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u6 = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 4U;
                if (u6 > 65535U) {
                  u6 = 65535U;
                }

                col_num_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] =
                  (unsigned short)u6;

                /* à⁄ìÆï˚å¸MAPçXêV */
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (g_d_direction.North_East <= 7) {
                  col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] =
                    (unsigned char)(1 << g_d_direction.North_East);
                } else {
                  col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬ñkìåÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u6 = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 4U;
                if (u6 > 65535U) {
                  u6 = 65535U;
                }

                if (col_num_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] ==
                    (int)u6) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  qY = col->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  a = col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1];
                  qY = col->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  if (g_d_direction.North_East <= 7) {
                    i70 = (unsigned char)(1 << g_d_direction.North_East);
                  } else {
                    i70 = 0;
                  }

                  col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] =
                    (unsigned char)(a | i70);
                }
              }

              /* Ç©Ç¬êiçsï˚å¸Ç™ñkìåå¸Ç´Ç≈Ç»Ç¢Ç∆Ç´     */
            } else {
              /* Ç©Ç¬ñkìåÇÃÉmÅ[ÉhÇÃï‡êîMAPílÇ™ÅAçXêVó\íËílÇÊÇËëÂÇ´Ç¢èÍçá */
              qY = col->data[idx] + 1U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              u6 = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                + 18U;
              if (u6 > 65535U) {
                u6 = 65535U;
              }

              if (col_num_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] >
                  (int)u6) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u6 = row_num_node_temp[(row->data[idx] + 33 * (col->data[idx] -
                  1)) - 1] + 1U;
                if (u6 > 65535U) {
                  u6 = 65535U;
                }

                col_num_node_temp[(row->data[idx] + (((int)qY - 1) << 5)) - 1] =
                  (unsigned short)u6;

                /* ï‡êîMAPçXêV(èdÇ›Ç√ÇØÇ†ÇË) */
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u6 = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 18U;
                if (u6 > 65535U) {
                  u6 = 65535U;
                }

                col_num_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] =
                  (unsigned short)u6;

                /* à⁄ìÆï˚å¸MAPçXêV */
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (g_d_direction.North_East <= 7) {
                  col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] =
                    (unsigned char)(1 << g_d_direction.North_East);
                } else {
                  col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬ñkìåÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u6 = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 18U;
                if (u6 > 65535U) {
                  u6 = 65535U;
                }

                if (col_num_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] ==
                    (int)u6) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  qY = col->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  a = col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1];
                  qY = col->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  if (g_d_direction.North_East <= 7) {
                    i69 = (unsigned char)(1 << g_d_direction.North_East);
                  } else {
                    i69 = 0;
                  }

                  col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] =
                    (unsigned char)(a | i69);
                }
              }
            }
          }
        }

        /* ìåë§ÇÕíå */
        /* ìÏìåë§ */
        /* ï«Ç™ñ≥Ç¢ & íTçıçœÇ›Ç≈Ç†ÇÈÇ∆Ç´ */
        a = maze_wall[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 2];
        if (g_direction.East <= 7) {
          i55 = (unsigned char)(1 << g_direction.East);
        } else {
          i55 = 0;
        }

        if (((a & i55) != 0) == wall->contents.nowall) {
          a = maze_wall_search[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
            2];
          if (g_direction.East <= 7) {
            i57 = (unsigned char)(1 << g_direction.East);
          } else {
            i57 = 0;
          }

          if (((a & i57) != 0) == search->contents.known) {
            /* Ç©Ç¬êiçsï˚å¸Ç™ìÏìåå¸Ç´Ç≈Ç†ÇÈéû */
            if (g_d_direction.South_East <= 7) {
              i59 = (unsigned char)(1 << g_d_direction.South_East);
            } else {
              i59 = 0;
            }

            if ((row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                 & i59) != 0) {
              /* Ç©Ç¬ìÏìåÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇÊÇËÇ‡ëÂÇ´Ç»ílÇÃèÍçá */
              qY = col->data[idx] + 1U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              u6 = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                + 4U;
              if (u6 > 65535U) {
                u6 = 65535U;
              }

              if (col_num_node[(row->data[idx] + (((int)qY - 1) << 5)) - 2] >
                  (int)u6) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u6 = row_num_node_temp[(row->data[idx] + 33 * (col->data[idx] -
                  1)) - 1] + 1U;
                if (u6 > 65535U) {
                  u6 = 65535U;
                }

                col_num_node_temp[(row->data[idx] + (((int)qY - 1) << 5)) - 2] =
                  (unsigned short)u6;

                /* ï‡êîMAPçXêV */
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u6 = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 4U;
                if (u6 > 65535U) {
                  u6 = 65535U;
                }

                col_num_node[(row->data[idx] + (((int)qY - 1) << 5)) - 2] =
                  (unsigned short)u6;

                /* à⁄ìÆï˚å¸MAPçXêV */
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (g_d_direction.South_East <= 7) {
                  col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 2] =
                    (unsigned char)(1 << g_d_direction.South_East);
                } else {
                  col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 2] = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬ìÏìåÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u6 = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 4U;
                if (u6 > 65535U) {
                  u6 = 65535U;
                }

                if (col_num_node[(row->data[idx] + (((int)qY - 1) << 5)) - 2] ==
                    (int)u6) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  qY = col->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  a = col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 2];
                  qY = col->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  if (g_d_direction.South_East <= 7) {
                    i76 = (unsigned char)(1 << g_d_direction.South_East);
                  } else {
                    i76 = 0;
                  }

                  col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 2] =
                    (unsigned char)(a | i76);
                }
              }

              /* Ç©Ç¬êiçsï˚å¸Ç™ìÏìåå¸Ç´Ç≈Ç»Ç¢Ç∆Ç´     */
            } else {
              /* Ç©Ç¬ìÏìåÇÃÉmÅ[ÉhÇÃï‡êîMAPílÇ™ÅAçXêVó\íËílÇÊÇËëÂÇ´Ç¢èÍçá */
              qY = col->data[idx] + 1U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              u6 = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                + 18U;
              if (u6 > 65535U) {
                u6 = 65535U;
              }

              if (col_num_node[(row->data[idx] + (((int)qY - 1) << 5)) - 2] >
                  (int)u6) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u6 = row_num_node_temp[(row->data[idx] + 33 * (col->data[idx] -
                  1)) - 1] + 1U;
                if (u6 > 65535U) {
                  u6 = 65535U;
                }

                col_num_node_temp[(row->data[idx] + (((int)qY - 1) << 5)) - 2] =
                  (unsigned short)u6;

                /* ï‡êîMAPçXêV(èdÇ›Ç√ÇØÇ†ÇË) */
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u6 = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 18U;
                if (u6 > 65535U) {
                  u6 = 65535U;
                }

                col_num_node[(row->data[idx] + (((int)qY - 1) << 5)) - 2] =
                  (unsigned short)u6;

                /* à⁄ìÆï˚å¸MAPçXêV */
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (g_d_direction.South_East <= 7) {
                  col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 2] =
                    (unsigned char)(1 << g_d_direction.South_East);
                } else {
                  col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 2] = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬ìÏìåÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u6 = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 18U;
                if (u6 > 65535U) {
                  u6 = 65535U;
                }

                if (col_num_node[(row->data[idx] + (((int)qY - 1) << 5)) - 2] ==
                    (int)u6) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  qY = col->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  a = col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 2];
                  qY = col->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  if (g_d_direction.South_East <= 7) {
                    i75 = (unsigned char)(1 << g_d_direction.South_East);
                  } else {
                    i75 = 0;
                  }

                  col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 2] =
                    (unsigned char)(a | i75);
                }
              }
            }
          }
        }

        /* ìÏë§ */
        /* ï«Ç™ñ≥Ç¢ & íTçıçœÇ›Ç≈Ç†ÇÈÇ∆Ç´ */
        a = maze_wall[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 2];
        if (g_direction.South <= 7) {
          i58 = (unsigned char)(1 << g_direction.South);
        } else {
          i58 = 0;
        }

        if (((a & i58) != 0) == wall->contents.nowall) {
          a = maze_wall_search[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
            2];
          if (g_direction.South <= 7) {
            i60 = (unsigned char)(1 << g_direction.South);
          } else {
            i60 = 0;
          }

          if (((a & i60) != 0) == search->contents.known) {
            /* Ç©Ç¬êiçsï˚å¸Ç™ìÏå¸Ç´Ç≈Ç†ÇÈéû */
            if (g_d_direction.South <= 7) {
              i62 = (unsigned char)(1 << g_d_direction.South);
            } else {
              i62 = 0;
            }

            if ((row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                 & i62) != 0) {
              /* Ç©Ç¬ìÏÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇÊÇËÇ‡ëÂÇ´Ç»ílÇÃèÍçá */
              qY = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                + 6U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              if (row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 2]
                  > (int)qY) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = row_num_node_temp[(row->data[idx] + 33 * (col->data[idx] -
                  1)) - 1] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                row_num_node_temp[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  2] = (unsigned short)qY;

                /* ï‡êîMAPçXêV */
                qY = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 6U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 2] =
                  (unsigned short)qY;

                /* à⁄ìÆï˚å¸MAPçXêV */
                if (g_d_direction.South <= 7) {
                  row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 2]
                    = (unsigned char)(1 << g_d_direction.South);
                } else {
                  row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 2]
                    = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬ìÏÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 6U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                    2] == (int)qY) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  a = row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 1))
                    - 2];
                  if (g_d_direction.South <= 7) {
                    i73 = (unsigned char)(1 << g_d_direction.South);
                  } else {
                    i73 = 0;
                  }

                  row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 2]
                    = (unsigned char)(a | i73);
                }
              }

              /* Ç©Ç¬êiçsï˚å¸Ç™ìÏå¸Ç´Ç≈Ç»Ç¢Ç∆Ç´     */
            } else {
              /* Ç©Ç¬ìÏÇÃÉmÅ[ÉhÇÃï‡êîMAPílÇ™ÅAçXêVó\íËílÇÊÇËëÂÇ´Ç¢èÍçá */
              qY = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                + 18U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              if (row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 2]
                  > (int)qY) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = row_num_node_temp[(row->data[idx] + 33 * (col->data[idx] -
                  1)) - 1] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                row_num_node_temp[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  2] = (unsigned short)qY;

                /* ï‡êîMAPçXêV(èdÇ›Ç√ÇØÇ†ÇË) */
                qY = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 18U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 2] =
                  (unsigned short)qY;

                /* à⁄ìÆï˚å¸MAPçXêV */
                if (g_d_direction.South <= 7) {
                  row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 2]
                    = (unsigned char)(1 << g_d_direction.South);
                } else {
                  row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 2]
                    = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬ìÏÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 18U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                    2] == (int)qY) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  a = row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 1))
                    - 2];
                  if (g_d_direction.South <= 7) {
                    i72 = (unsigned char)(1 << g_d_direction.South);
                  } else {
                    i72 = 0;
                  }

                  row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 2]
                    = (unsigned char)(a | i72);
                }
              }
            }
          }
        }

        /* ìÏêºë§ */
        /* ï«Ç™ñ≥Ç¢ & íTçıçœÇ›Ç≈Ç†ÇÈÇ∆Ç´ */
        a = maze_wall[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 2];
        if (g_direction.West <= 7) {
          i61 = (unsigned char)(1 << g_direction.West);
        } else {
          i61 = 0;
        }

        if (((a & i61) != 0) == wall->contents.nowall) {
          a = maze_wall_search[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
            2];
          if (g_direction.West <= 7) {
            i65 = (unsigned char)(1 << g_direction.West);
          } else {
            i65 = 0;
          }

          if (((a & i65) != 0) == search->contents.known) {
            /* Ç©Ç¬êiçsï˚å¸Ç™ìÏêºå¸Ç´Ç≈Ç†ÇÈéû */
            if (g_d_direction.South_West <= 7) {
              i67 = (unsigned char)(1 << g_d_direction.South_West);
            } else {
              i67 = 0;
            }

            if ((row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                 & i67) != 0) {
              /* Ç©Ç¬ìÏêºÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇÊÇËÇ‡ëÂÇ´Ç»ílÇÃèÍçá */
              qY = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                + 4U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              if (col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                  2] > (int)qY) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = row_num_node_temp[(row->data[idx] + 33 * (col->data[idx] -
                  1)) - 1] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                col_num_node_temp[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 2] = (unsigned short)qY;

                /* ï‡êîMAPçXêV */
                qY = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 4U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 2]
                  = (unsigned short)qY;

                /* à⁄ìÆï˚å¸MAPçXêV */
                if (g_d_direction.South_West <= 7) {
                  col_dir_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                    2] = (unsigned char)(1 << g_d_direction.South_West);
                } else {
                  col_dir_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                    2] = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬ìÏêºÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 4U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                    - 2] == (int)qY) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  a = col_dir_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                    - 2];
                  if (g_d_direction.South_West <= 7) {
                    i79 = (unsigned char)(1 << g_d_direction.South_West);
                  } else {
                    i79 = 0;
                  }

                  col_dir_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                    2] = (unsigned char)(a | i79);
                }
              }

              /* Ç©Ç¬êiçsï˚å¸Ç™ìÏêºå¸Ç´Ç≈Ç»Ç¢Ç∆Ç´     */
            } else {
              /* Ç©Ç¬ìÏêºÇÃÉmÅ[ÉhÇÃï‡êîMAPílÇ™ÅAçXêVó\íËílÇÊÇËëÂÇ´Ç¢èÍçá */
              qY = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                + 18U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              if (col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                  2] > (int)qY) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = row_num_node_temp[(row->data[idx] + 33 * (col->data[idx] -
                  1)) - 1] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                col_num_node_temp[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 2] = (unsigned short)qY;

                /* ï‡êîMAPçXêV(èdÇ›Ç√ÇØÇ†ÇË) */
                qY = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 18U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 2]
                  = (unsigned short)qY;

                /* à⁄ìÆï˚å¸MAPçXêV */
                if (g_d_direction.South_West <= 7) {
                  col_dir_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                    2] = (unsigned char)(1 << g_d_direction.South_West);
                } else {
                  col_dir_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                    2] = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬ìÏêºÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 18U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                    - 2] == (int)qY) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  a = col_dir_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                    - 2];
                  if (g_d_direction.South_West <= 7) {
                    i78 = (unsigned char)(1 << g_d_direction.South_West);
                  } else {
                    i78 = 0;
                  }

                  col_dir_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                    2] = (unsigned char)(a | i78);
                }
              }
            }
          }
        }

        /* ñkêºë§ */
        /* ï«Ç™ñ≥Ç¢ & íTçıçœÇ›Ç≈Ç†ÇÈÇ∆Ç´ */
        if (g_direction.West <= 7) {
          i66 = (unsigned char)(1 << g_direction.West);
        } else {
          i66 = 0;
        }

        if (((maze_wall[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 1] &
              i66) != 0) == wall->contents.nowall) {
          if (g_direction.West <= 7) {
            i68 = (unsigned char)(1 << g_direction.West);
          } else {
            i68 = 0;
          }

          if (((maze_wall_search[(row->data[idx] + ((col->data[idx] - 1) << 5))
                - 1] & i68) != 0) == search->contents.known) {
            /* Ç©Ç¬êiçsï˚å¸Ç™ñkêºå¸Ç´Ç≈Ç†ÇÈéû */
            if (g_d_direction.North_West <= 7) {
              i71 = (unsigned char)(1 << g_d_direction.North_West);
            } else {
              i71 = 0;
            }

            if ((row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                 & i71) != 0) {
              /* Ç©Ç¬ñkêºÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇÊÇËÇ‡ëÂÇ´Ç»ílÇÃèÍçá */
              qY = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                + 4U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              if (col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                  1] > (int)qY) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = row_num_node_temp[(row->data[idx] + 33 * (col->data[idx] -
                  1)) - 1] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                col_num_node_temp[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] = (unsigned short)qY;

                /* ï‡êîMAPçXêV */
                qY = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 4U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 1]
                  = (unsigned short)qY;

                /* à⁄ìÆï˚å¸MAPçXêV */
                if (g_d_direction.North_West <= 7) {
                  col_dir_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                    1] = (unsigned char)(1 << g_d_direction.North_West);
                } else {
                  col_dir_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                    1] = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬ñkêºÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 4U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                    - 1] == (int)qY) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  if (g_d_direction.North_West <= 7) {
                    i84 = (unsigned char)(1 << g_d_direction.North_West);
                  } else {
                    i84 = 0;
                  }

                  col_dir_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                    1] = (unsigned char)(col_dir_node[(row->data[idx] +
                    ((col->data[idx] - 1) << 5)) - 1] | i84);
                }
              }

              /* Ç©Ç¬êiçsï˚å¸Ç™ñkêºå¸Ç´Ç≈Ç»Ç¢Ç∆Ç´     */
            } else {
              /* Ç©Ç¬ñkìåÇÃÉmÅ[ÉhÇÃï‡êîMAPílÇ™ÅAçXêVó\íËílÇÊÇËëÂÇ´Ç¢èÍçá */
              qY = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                + 18U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              if (col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                  1] > (int)qY) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = row_num_node_temp[(row->data[idx] + 33 * (col->data[idx] -
                  1)) - 1] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                col_num_node_temp[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] = (unsigned short)qY;

                /* ï‡êîMAPçXêV(èdÇ›Ç√ÇØÇ†ÇË) */
                qY = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 18U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 1]
                  = (unsigned short)qY;

                /* à⁄ìÆï˚å¸MAPçXêV */
                if (g_d_direction.North_West <= 7) {
                  col_dir_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                    1] = (unsigned char)(1 << g_d_direction.North_West);
                } else {
                  col_dir_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                    1] = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬ñkêºÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] + 18U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                    - 1] == (int)qY) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  if (g_d_direction.North_West <= 7) {
                    i83 = (unsigned char)(1 << g_d_direction.North_West);
                  } else {
                    i83 = 0;
                  }

                  col_dir_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                    1] = (unsigned char)(col_dir_node[(row->data[idx] +
                    ((col->data[idx] - 1) << 5)) - 1] | i83);
                }
              }
            }
          }
        }
      }

      /* Col_EdgeÇÃèàóù[32çs,33óÒ] */
      /* ï‡êîÇ™ämíËÇµÇƒÇ¢ÇÈç¿ïWÇåüçı */
      /* ç≈èâÇÕ0,çXêVÇ≥ÇÍÅAëùâ¡ÇµÇΩÉ}ÉXÇéüÅXåüçıÇµÇƒÇ¢Ç≠ */
      idx = 0;
      ii = 0;
      exitg1 = false;
      while ((!exitg1) && (ii < 1056)) {
        if (col_num_node_temp[ii] == i) {
          idx++;
          ii_data[idx - 1] = (short)(ii + 1);
          if (idx >= 1056) {
            exitg1 = true;
          } else {
            ii++;
          }
        } else {
          ii++;
        }
      }

      if (1 > idx) {
        ii = 0;
      } else {
        ii = idx;
      }

      i35 = num_temp->contents->size[0];
      num_temp->contents->size[0] = ii;
      emxEnsureCapacity_uint16_T(num_temp->contents, i35);
      for (i35 = 0; i35 < ii; i35++) {
        num_temp->contents->data[i35] = (unsigned short)ii_data[i35];
      }

      /* 32çsÇ»ÇÃÇ≈ÅAçsî‘çÜ:32Ç≈äÑÇ¡ÇΩÇ†Ç‹ÇË */
      i35 = b_num_temp->size[0];
      b_num_temp->size[0] = num_temp->contents->size[0];
      emxEnsureCapacity_uint16_T(b_num_temp, i35);
      ii = num_temp->contents->size[0];
      for (i35 = 0; i35 < ii; i35++) {
        idx = num_temp->contents->data[i35];
        qY = idx - 1U;
        if (qY > (unsigned int)idx) {
          qY = 0U;
        }

        b_num_temp->data[i35] = (unsigned short)qY;
      }

      c_rem(b_num_temp, row);
      i35 = row->size[0];
      emxEnsureCapacity_uint16_T(row, i35);
      ii = row->size[0];
      for (i35 = 0; i35 < ii; i35++) {
        qY = row->data[i35] + 1U;
        if (qY > 65535U) {
          qY = 65535U;
        }

        row->data[i35] = (unsigned short)qY;
      }

      /* óÒî‘çÜ:32Ç≈äÑÇ¡ÇΩÇ∆Ç´ÇÃè§ */
      i35 = b_num_temp->size[0];
      b_num_temp->size[0] = num_temp->contents->size[0];
      emxEnsureCapacity_uint16_T(b_num_temp, i35);
      ii = num_temp->contents->size[0];
      for (i35 = 0; i35 < ii; i35++) {
        idx = num_temp->contents->data[i35];
        qY = idx - 1U;
        if (qY > (unsigned int)idx) {
          qY = 0U;
        }

        b_num_temp->data[i35] = (unsigned short)qY;
      }

      idivide(b_num_temp, 32.0, col);
      i35 = col->size[0];
      emxEnsureCapacity_uint16_T(col, i35);
      ii = col->size[0];
      for (i35 = 0; i35 < ii; i35++) {
        qY = col->data[i35] + 1U;
        if (qY > 65535U) {
          qY = 65535U;
        }

        col->data[i35] = (unsigned short)qY;
      }

      /* å©Ç¬Ç©Ç¡ÇΩÉ}ÉXÇÃêî */
      /* åüçıÇµÇΩç¿ïWÇ…ëŒÇµÅAï‡êîmapÇçXêV */
      i35 = row->size[0];
      if (i35 < 0) {
        i35 = 0;
      } else {
        if (i35 > 65535) {
          i35 = 65535;
        }
      }

      for (idx = 0; idx < i35; idx++) {
        /* ñkë§ÇÕï« */
        /* ñkìåë§ */
        /* ï«Ç™ñ≥Ç¢ & íTçıçœÇ›Ç≈Ç†ÇÈÇ∆Ç´ */
        if (g_direction.North <= 7) {
          i74 = (unsigned char)(1 << g_direction.North);
        } else {
          i74 = 0;
        }

        if (((maze_wall[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 1] &
              i74) != 0) == wall->contents.nowall) {
          if (g_direction.North <= 7) {
            i77 = (unsigned char)(1 << g_direction.North);
          } else {
            i77 = 0;
          }

          if (((maze_wall_search[(row->data[idx] + ((col->data[idx] - 1) << 5))
                - 1] & i77) != 0) == search->contents.known) {
            /* Ç©Ç¬êiçsï˚å¸Ç™ñkìåå¸Ç´Ç≈Ç†ÇÈéû */
            if (g_d_direction.North_East <= 7) {
              i81 = (unsigned char)(1 << g_d_direction.North_East);
            } else {
              i81 = 0;
            }

            if ((col_dir_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 1]
                 & i81) != 0) {
              /* Ç©Ç¬ñkìåÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇÊÇËÇ‡ëÂÇ´Ç»ílÇÃèÍçá */
              qY = row->data[idx] + 1U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              u6 = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                1] + 4U;
              if (u6 > 65535U) {
                u6 = 65535U;
              }

              if (row_num_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] > (int)
                  u6) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u6 = col_num_node_temp[(row->data[idx] + ((col->data[idx] - 1) <<
                  5)) - 1] + 1U;
                if (u6 > 65535U) {
                  u6 = 65535U;
                }

                row_num_node_temp[((int)qY + 33 * (col->data[idx] - 1)) - 1] =
                  (unsigned short)u6;

                /* ï‡êîMAPçXêV */
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u6 = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 4U;
                if (u6 > 65535U) {
                  u6 = 65535U;
                }

                row_num_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] =
                  (unsigned short)u6;

                /* à⁄ìÆï˚å¸MAPçXêV */
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (g_d_direction.North_East <= 7) {
                  row_dir_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] =
                    (unsigned char)(1 << g_d_direction.North_East);
                } else {
                  row_dir_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬ñkìåÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u6 = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 4U;
                if (u6 > 65535U) {
                  u6 = 65535U;
                }

                if (row_num_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] ==
                    (int)u6) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  qY = row->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  a = row_dir_node[((int)qY + 33 * (col->data[idx] - 1)) - 1];
                  qY = row->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  if (g_d_direction.North_East <= 7) {
                    i95 = (unsigned char)(1 << g_d_direction.North_East);
                  } else {
                    i95 = 0;
                  }

                  row_dir_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] =
                    (unsigned char)(a | i95);
                }
              }

              /* Ç©Ç¬êiçsï˚å¸Ç™ñkìåå¸Ç´Ç≈Ç»Ç¢Ç∆Ç´     */
            } else {
              /* Ç©Ç¬ñkìåÇÃÉmÅ[ÉhÇÃï‡êîMAPílÇ™ÅAçXêVó\íËílÇÊÇËëÂÇ´Ç¢èÍçá */
              qY = row->data[idx] + 1U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              u6 = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                1] + 18U;
              if (u6 > 65535U) {
                u6 = 65535U;
              }

              if (row_num_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] > (int)
                  u6) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u6 = col_num_node_temp[(row->data[idx] + ((col->data[idx] - 1) <<
                  5)) - 1] + 1U;
                if (u6 > 65535U) {
                  u6 = 65535U;
                }

                row_num_node_temp[((int)qY + 33 * (col->data[idx] - 1)) - 1] =
                  (unsigned short)u6;

                /* ï‡êîMAPçXêV(èdÇ›Ç√ÇØÇ†ÇË) */
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u6 = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 18U;
                if (u6 > 65535U) {
                  u6 = 65535U;
                }

                row_num_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] =
                  (unsigned short)u6;

                /* à⁄ìÆï˚å¸MAPçXêV */
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (g_d_direction.North_East <= 7) {
                  row_dir_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] =
                    (unsigned char)(1 << g_d_direction.North_East);
                } else {
                  row_dir_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬ñkìåÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u6 = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 18U;
                if (u6 > 65535U) {
                  u6 = 65535U;
                }

                if (row_num_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] ==
                    (int)u6) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  qY = row->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  a = row_dir_node[((int)qY + 33 * (col->data[idx] - 1)) - 1];
                  qY = row->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  if (g_d_direction.North_East <= 7) {
                    i94 = (unsigned char)(1 << g_d_direction.North_East);
                  } else {
                    i94 = 0;
                  }

                  row_dir_node[((int)qY + 33 * (col->data[idx] - 1)) - 1] =
                    (unsigned char)(a | i94);
                }
              }
            }
          }
        }

        /* ìåë§ */
        /* ï«Ç™ñ≥Ç¢ & íTçıçœÇ›Ç≈Ç†ÇÈÇ∆Ç´ */
        if (g_direction.East <= 7) {
          i80 = (unsigned char)(1 << g_direction.East);
        } else {
          i80 = 0;
        }

        if (((maze_wall[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 1] &
              i80) != 0) == wall->contents.nowall) {
          if (g_direction.East <= 7) {
            i82 = (unsigned char)(1 << g_direction.East);
          } else {
            i82 = 0;
          }

          if (((maze_wall_search[(row->data[idx] + ((col->data[idx] - 1) << 5))
                - 1] & i82) != 0) == search->contents.known) {
            /* Ç©Ç¬êiçsï˚å¸Ç™ìåå¸Ç´Ç≈Ç†ÇÈéû */
            if (g_d_direction.East <= 7) {
              i86 = (unsigned char)(1 << g_d_direction.East);
            } else {
              i86 = 0;
            }

            if ((col_dir_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 1]
                 & i86) != 0) {
              /* Ç©Ç¬ìåÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇÊÇËÇ‡ëÂÇ´Ç»ílÇÃèÍçá */
              qY = col->data[idx] + 1U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              u6 = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                1] + 6U;
              if (u6 > 65535U) {
                u6 = 65535U;
              }

              if (col_num_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] >
                  (int)u6) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u6 = col_num_node_temp[(row->data[idx] + ((col->data[idx] - 1) <<
                  5)) - 1] + 1U;
                if (u6 > 65535U) {
                  u6 = 65535U;
                }

                col_num_node_temp[(row->data[idx] + (((int)qY - 1) << 5)) - 1] =
                  (unsigned short)u6;

                /* ï‡êîMAPçXêV */
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u6 = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 6U;
                if (u6 > 65535U) {
                  u6 = 65535U;
                }

                col_num_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] =
                  (unsigned short)u6;

                /* à⁄ìÆï˚å¸MAPçXêV */
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (g_d_direction.East <= 7) {
                  col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] =
                    (unsigned char)(1 << g_d_direction.East);
                } else {
                  col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬ìåÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u6 = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 6U;
                if (u6 > 65535U) {
                  u6 = 65535U;
                }

                if (col_num_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] ==
                    (int)u6) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  qY = col->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  a = col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1];
                  qY = col->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  if (g_d_direction.East <= 7) {
                    i101 = (unsigned char)(1 << g_d_direction.East);
                  } else {
                    i101 = 0;
                  }

                  col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] =
                    (unsigned char)(a | i101);
                }
              }

              /* Ç©Ç¬êiçsï˚å¸Ç™ìåå¸Ç´Ç≈Ç»Ç¢Ç∆Ç´     */
            } else {
              /* Ç©Ç¬ìåÇÃÉmÅ[ÉhÇÃï‡êîMAPílÇ™ÅAçXêVó\íËílÇÊÇËëÂÇ´Ç¢èÍçá */
              qY = col->data[idx] + 1U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              u6 = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                1] + 18U;
              if (u6 > 65535U) {
                u6 = 65535U;
              }

              if (col_num_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] >
                  (int)u6) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u6 = col_num_node_temp[(row->data[idx] + ((col->data[idx] - 1) <<
                  5)) - 1] + 1U;
                if (u6 > 65535U) {
                  u6 = 65535U;
                }

                col_num_node_temp[(row->data[idx] + (((int)qY - 1) << 5)) - 1] =
                  (unsigned short)u6;

                /* ï‡êîMAPçXêV(èdÇ›Ç√ÇØÇ†ÇË) */
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u6 = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 18U;
                if (u6 > 65535U) {
                  u6 = 65535U;
                }

                col_num_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] =
                  (unsigned short)u6;

                /* à⁄ìÆï˚å¸MAPçXêV */
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (g_d_direction.East <= 7) {
                  col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] =
                    (unsigned char)(1 << g_d_direction.East);
                } else {
                  col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬ìåÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = col->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u6 = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 18U;
                if (u6 > 65535U) {
                  u6 = 65535U;
                }

                if (col_num_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] ==
                    (int)u6) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  qY = col->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  a = col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1];
                  qY = col->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  if (g_d_direction.East <= 7) {
                    i100 = (unsigned char)(1 << g_d_direction.East);
                  } else {
                    i100 = 0;
                  }

                  col_dir_node[(row->data[idx] + (((int)qY - 1) << 5)) - 1] =
                    (unsigned char)(a | i100);
                }
              }
            }
          }
        }

        /* ìÏìåë§ */
        /* ï«Ç™ñ≥Ç¢ & íTçıçœÇ›Ç≈Ç†ÇÈÇ∆Ç´ */
        if (g_direction.South <= 7) {
          i85 = (unsigned char)(1 << g_direction.South);
        } else {
          i85 = 0;
        }

        if (((maze_wall[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 1] &
              i85) != 0) == wall->contents.nowall) {
          if (g_direction.South <= 7) {
            i87 = (unsigned char)(1 << g_direction.South);
          } else {
            i87 = 0;
          }

          if (((maze_wall_search[(row->data[idx] + ((col->data[idx] - 1) << 5))
                - 1] & i87) != 0) == search->contents.known) {
            /* Ç©Ç¬êiçsï˚å¸Ç™ìÏìåå¸Ç´Ç≈Ç†ÇÈéû */
            if (g_d_direction.South_East <= 7) {
              i89 = (unsigned char)(1 << g_d_direction.South_East);
            } else {
              i89 = 0;
            }

            if ((col_dir_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 1]
                 & i89) != 0) {
              /* Ç©Ç¬ìÏìåÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇÊÇËÇ‡ëÂÇ´Ç»ílÇÃèÍçá */
              qY = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                1] + 4U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              if (row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                  > (int)qY) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = col_num_node_temp[(row->data[idx] + ((col->data[idx] - 1) <<
                  5)) - 1] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                row_num_node_temp[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] = (unsigned short)qY;

                /* ï‡êîMAPçXêV */
                qY = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 4U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1] =
                  (unsigned short)qY;

                /* à⁄ìÆï˚å¸MAPçXêV */
                if (g_d_direction.South_East <= 7) {
                  row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                    = (unsigned char)(1 << g_d_direction.South_East);
                } else {
                  row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                    = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬ìÏìåÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 4U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                    1] == (int)qY) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  if (g_d_direction.South_East <= 7) {
                    i97 = (unsigned char)(1 << g_d_direction.South_East);
                  } else {
                    i97 = 0;
                  }

                  row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                    = (unsigned char)(row_dir_node[(row->data[idx] + 33 *
                    (col->data[idx] - 1)) - 1] | i97);
                }
              }

              /* Ç©Ç¬êiçsï˚å¸Ç™ìÏìåå¸Ç´Ç≈Ç»Ç¢Ç∆Ç´     */
            } else {
              /* Ç©Ç¬ìÏìåÇÃÉmÅ[ÉhÇÃï‡êîMAPílÇ™ÅAçXêVó\íËílÇÊÇËëÂÇ´Ç¢èÍçá */
              qY = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                1] + 18U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              if (row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                  > (int)qY) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = col_num_node_temp[(row->data[idx] + ((col->data[idx] - 1) <<
                  5)) - 1] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                row_num_node_temp[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                  1] = (unsigned short)qY;

                /* ï‡êîMAPçXêV(èdÇ›Ç√ÇØÇ†ÇË) */
                qY = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 18U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1] =
                  (unsigned short)qY;

                /* à⁄ìÆï˚å¸MAPçXêV */
                if (g_d_direction.South_East <= 7) {
                  row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                    = (unsigned char)(1 << g_d_direction.South_East);
                } else {
                  row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                    = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬ìÏìåÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 18U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (row_num_node[(row->data[idx] + 33 * (col->data[idx] - 1)) -
                    1] == (int)qY) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  if (g_d_direction.South_East <= 7) {
                    i96 = (unsigned char)(1 << g_d_direction.South_East);
                  } else {
                    i96 = 0;
                  }

                  row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 1)) - 1]
                    = (unsigned char)(row_dir_node[(row->data[idx] + 33 *
                    (col->data[idx] - 1)) - 1] | i96);
                }
              }
            }
          }
        }

        /* ìÏë§ÇÕíå */
        /* ìÏêºë§ */
        /* ï«Ç™ñ≥Ç¢ & íTçıçœÇ›Ç≈Ç†ÇÈÇ∆Ç´ */
        a = maze_wall[(row->data[idx] + ((col->data[idx] - 2) << 5)) - 1];
        if (g_direction.South <= 7) {
          i88 = (unsigned char)(1 << g_direction.South);
        } else {
          i88 = 0;
        }

        if (((a & i88) != 0) == wall->contents.nowall) {
          a = maze_wall_search[(row->data[idx] + ((col->data[idx] - 2) << 5)) -
            1];
          if (g_direction.South <= 7) {
            i90 = (unsigned char)(1 << g_direction.South);
          } else {
            i90 = 0;
          }

          if (((a & i90) != 0) == search->contents.known) {
            /* Ç©Ç¬êiçsï˚å¸Ç™ìÏêºå¸Ç´Ç≈Ç†ÇÈéû */
            if (g_d_direction.South_West <= 7) {
              i92 = (unsigned char)(1 << g_d_direction.South_West);
            } else {
              i92 = 0;
            }

            if ((col_dir_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 1]
                 & i92) != 0) {
              /* Ç©Ç¬ìÏêºÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇÊÇËÇ‡ëÂÇ´Ç»ílÇÃèÍçá */
              qY = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                1] + 4U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              if (row_num_node[(row->data[idx] + 33 * (col->data[idx] - 2)) - 1]
                  > (int)qY) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = col_num_node_temp[(row->data[idx] + ((col->data[idx] - 1) <<
                  5)) - 1] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                row_num_node_temp[(row->data[idx] + 33 * (col->data[idx] - 2)) -
                  1] = (unsigned short)qY;

                /* ï‡êîMAPçXêV */
                qY = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 4U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                row_num_node[(row->data[idx] + 33 * (col->data[idx] - 2)) - 1] =
                  (unsigned short)qY;

                /* à⁄ìÆï˚å¸MAPçXêV */
                if (g_d_direction.South_West <= 7) {
                  row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 2)) - 1]
                    = (unsigned char)(1 << g_d_direction.South_West);
                } else {
                  row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 2)) - 1]
                    = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬ìÏêºÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 4U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (row_num_node[(row->data[idx] + 33 * (col->data[idx] - 2)) -
                    1] == (int)qY) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  a = row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 2))
                    - 1];
                  if (g_d_direction.South_West <= 7) {
                    i104 = (unsigned char)(1 << g_d_direction.South_West);
                  } else {
                    i104 = 0;
                  }

                  row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 2)) - 1]
                    = (unsigned char)(a | i104);
                }
              }

              /* Ç©Ç¬êiçsï˚å¸Ç™ìÏêºå¸Ç´Ç≈Ç»Ç¢Ç∆Ç´     */
            } else {
              /* Ç©Ç¬ìÏêºÇÃÉmÅ[ÉhÇÃï‡êîMAPílÇ™ÅAçXêVó\íËílÇÊÇËëÂÇ´Ç¢èÍçá */
              qY = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                1] + 18U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              if (row_num_node[(row->data[idx] + 33 * (col->data[idx] - 2)) - 1]
                  > (int)qY) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = col_num_node_temp[(row->data[idx] + ((col->data[idx] - 1) <<
                  5)) - 1] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                row_num_node_temp[(row->data[idx] + 33 * (col->data[idx] - 2)) -
                  1] = (unsigned short)qY;

                /* ï‡êîMAPçXêV(èdÇ›Ç√ÇØÇ†ÇË) */
                qY = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 18U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                row_num_node[(row->data[idx] + 33 * (col->data[idx] - 2)) - 1] =
                  (unsigned short)qY;

                /* à⁄ìÆï˚å¸MAPçXêV */
                if (g_d_direction.South_West <= 7) {
                  row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 2)) - 1]
                    = (unsigned char)(1 << g_d_direction.South_West);
                } else {
                  row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 2)) - 1]
                    = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬ìÏêºÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 18U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (row_num_node[(row->data[idx] + 33 * (col->data[idx] - 2)) -
                    1] == (int)qY) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  a = row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 2))
                    - 1];
                  if (g_d_direction.South_West <= 7) {
                    i103 = (unsigned char)(1 << g_d_direction.South_West);
                  } else {
                    i103 = 0;
                  }

                  row_dir_node[(row->data[idx] + 33 * (col->data[idx] - 2)) - 1]
                    = (unsigned char)(a | i103);
                }
              }
            }
          }
        }

        /* êºë§ */
        /* ï«Ç™ñ≥Ç¢ & íTçıçœÇ›Ç≈Ç†ÇÈÇ∆Ç´ */
        a = maze_wall[(row->data[idx] + ((col->data[idx] - 2) << 5)) - 1];
        if (g_direction.West <= 7) {
          i91 = (unsigned char)(1 << g_direction.West);
        } else {
          i91 = 0;
        }

        if (((a & i91) != 0) == wall->contents.nowall) {
          a = maze_wall_search[(row->data[idx] + ((col->data[idx] - 2) << 5)) -
            1];
          if (g_direction.West <= 7) {
            i93 = (unsigned char)(1 << g_direction.West);
          } else {
            i93 = 0;
          }

          if (((a & i93) != 0) == search->contents.known) {
            /* Ç©Ç¬êiçsï˚å¸Ç™êºå¸Ç´Ç≈Ç†ÇÈéû */
            if (g_d_direction.West <= 7) {
              i99 = (unsigned char)(1 << g_d_direction.West);
            } else {
              i99 = 0;
            }

            if ((col_dir_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 1]
                 & i99) != 0) {
              /* Ç©Ç¬êºÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇÊÇËÇ‡ëÂÇ´Ç»ílÇÃèÍçá */
              qY = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                1] + 6U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              if (col_num_node[(row->data[idx] + ((col->data[idx] - 2) << 5)) -
                  1] > (int)qY) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = col_num_node_temp[(row->data[idx] + ((col->data[idx] - 1) <<
                  5)) - 1] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                col_num_node_temp[(row->data[idx] + ((col->data[idx] - 2) << 5))
                  - 1] = (unsigned short)qY;

                /* ï‡êîMAPçXêV */
                qY = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 6U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                col_num_node[(row->data[idx] + ((col->data[idx] - 2) << 5)) - 1]
                  = (unsigned short)qY;

                /* à⁄ìÆï˚å¸MAPçXêV */
                if (g_d_direction.West <= 7) {
                  col_dir_node[(row->data[idx] + ((col->data[idx] - 2) << 5)) -
                    1] = (unsigned char)(1 << g_d_direction.West);
                } else {
                  col_dir_node[(row->data[idx] + ((col->data[idx] - 2) << 5)) -
                    1] = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬êºÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 6U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (col_num_node[(row->data[idx] + ((col->data[idx] - 2) << 5))
                    - 1] == (int)qY) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  a = col_dir_node[(row->data[idx] + ((col->data[idx] - 2) << 5))
                    - 1];
                  if (g_d_direction.West <= 7) {
                    i107 = (unsigned char)(1 << g_d_direction.West);
                  } else {
                    i107 = 0;
                  }

                  col_dir_node[(row->data[idx] + ((col->data[idx] - 2) << 5)) -
                    1] = (unsigned char)(a | i107);
                }
              }

              /* Ç©Ç¬êiçsï˚å¸Ç™êºå¸Ç´Ç≈Ç»Ç¢Ç∆Ç´     */
            } else {
              /* Ç©Ç¬êºÇÃÉmÅ[ÉhÇÃï‡êîMAPílÇ™ÅAçXêVó\íËílÇÊÇËëÂÇ´Ç¢èÍçá */
              qY = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                1] + 18U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              if (col_num_node[(row->data[idx] + ((col->data[idx] - 2) << 5)) -
                  1] > (int)qY) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = col_num_node_temp[(row->data[idx] + ((col->data[idx] - 1) <<
                  5)) - 1] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                col_num_node_temp[(row->data[idx] + ((col->data[idx] - 2) << 5))
                  - 1] = (unsigned short)qY;

                /* ï‡êîMAPçXêV(èdÇ›Ç√ÇØÇ†ÇË) */
                qY = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 18U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                col_num_node[(row->data[idx] + ((col->data[idx] - 2) << 5)) - 1]
                  = (unsigned short)qY;

                /* à⁄ìÆï˚å¸MAPçXêV */
                if (g_d_direction.West <= 7) {
                  col_dir_node[(row->data[idx] + ((col->data[idx] - 2) << 5)) -
                    1] = (unsigned char)(1 << g_d_direction.West);
                } else {
                  col_dir_node[(row->data[idx] + ((col->data[idx] - 2) << 5)) -
                    1] = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬êºÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 18U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (col_num_node[(row->data[idx] + ((col->data[idx] - 2) << 5))
                    - 1] == (int)qY) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  a = col_dir_node[(row->data[idx] + ((col->data[idx] - 2) << 5))
                    - 1];
                  if (g_d_direction.West <= 7) {
                    i106 = (unsigned char)(1 << g_d_direction.West);
                  } else {
                    i106 = 0;
                  }

                  col_dir_node[(row->data[idx] + ((col->data[idx] - 2) << 5)) -
                    1] = (unsigned char)(a | i106);
                }
              }
            }
          }
        }

        /* ñkêºë§ */
        /* ï«Ç™ñ≥Ç¢ & íTçıçœÇ›Ç≈Ç†ÇÈÇ∆Ç´ */
        a = maze_wall[(row->data[idx] + ((col->data[idx] - 2) << 5)) - 1];
        if (g_direction.North <= 7) {
          i98 = (unsigned char)(1 << g_direction.North);
        } else {
          i98 = 0;
        }

        if (((a & i98) != 0) == wall->contents.nowall) {
          a = maze_wall_search[(row->data[idx] + ((col->data[idx] - 2) << 5)) -
            1];
          if (g_direction.North <= 7) {
            i102 = (unsigned char)(1 << g_direction.North);
          } else {
            i102 = 0;
          }

          if (((a & i102) != 0) == search->contents.known) {
            /* Ç©Ç¬êiçsï˚å¸Ç™ñkêºå¸Ç´Ç≈Ç†ÇÈéû */
            if (g_d_direction.North_West <= 7) {
              i105 = (unsigned char)(1 << g_d_direction.North_West);
            } else {
              i105 = 0;
            }

            if ((col_dir_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) - 1]
                 & i105) != 0) {
              /* Ç©Ç¬ñkêºÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇÊÇËÇ‡ëÂÇ´Ç»ílÇÃèÍçá */
              qY = row->data[idx] + 1U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              u6 = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                1] + 4U;
              if (u6 > 65535U) {
                u6 = 65535U;
              }

              if (row_num_node[((int)qY + 33 * (col->data[idx] - 2)) - 1] > (int)
                  u6) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u6 = col_num_node_temp[(row->data[idx] + ((col->data[idx] - 1) <<
                  5)) - 1] + 1U;
                if (u6 > 65535U) {
                  u6 = 65535U;
                }

                row_num_node_temp[((int)qY + 33 * (col->data[idx] - 2)) - 1] =
                  (unsigned short)u6;

                /* ï‡êîMAPçXêV */
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u6 = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 4U;
                if (u6 > 65535U) {
                  u6 = 65535U;
                }

                row_num_node[((int)qY + 33 * (col->data[idx] - 2)) - 1] =
                  (unsigned short)u6;

                /* à⁄ìÆï˚å¸MAPçXêV */
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (g_d_direction.North_West <= 7) {
                  row_dir_node[((int)qY + 33 * (col->data[idx] - 2)) - 1] =
                    (unsigned char)(1 << g_d_direction.North_West);
                } else {
                  row_dir_node[((int)qY + 33 * (col->data[idx] - 2)) - 1] = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬ñkêºÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u6 = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 4U;
                if (u6 > 65535U) {
                  u6 = 65535U;
                }

                if (row_num_node[((int)qY + 33 * (col->data[idx] - 2)) - 1] ==
                    (int)u6) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  qY = row->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  a = row_dir_node[((int)qY + 33 * (col->data[idx] - 2)) - 1];
                  qY = row->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  if (g_d_direction.North_West <= 7) {
                    i109 = (unsigned char)(1 << g_d_direction.North_West);
                  } else {
                    i109 = 0;
                  }

                  row_dir_node[((int)qY + 33 * (col->data[idx] - 2)) - 1] =
                    (unsigned char)(a | i109);
                }
              }

              /* Ç©Ç¬êiçsï˚å¸Ç™ñkêºå¸Ç´Ç≈Ç»Ç¢Ç∆Ç´     */
            } else {
              /* Ç©Ç¬ñkêºÇÃÉmÅ[ÉhÇÃï‡êîMAPílÇ™ÅAçXêVó\íËílÇÊÇËëÂÇ´Ç¢èÍçá */
              qY = row->data[idx] + 1U;
              if (qY > 65535U) {
                qY = 65535U;
              }

              u6 = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5)) -
                1] + 18U;
              if (u6 > 65535U) {
                u6 = 65535U;
              }

              if (row_num_node[((int)qY + 33 * (col->data[idx] - 2)) - 1] > (int)
                  u6) {
                /* çXêVämîFópÇÃMAPçXêV */
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u6 = col_num_node_temp[(row->data[idx] + ((col->data[idx] - 1) <<
                  5)) - 1] + 1U;
                if (u6 > 65535U) {
                  u6 = 65535U;
                }

                row_num_node_temp[((int)qY + 33 * (col->data[idx] - 2)) - 1] =
                  (unsigned short)u6;

                /* ï‡êîMAPçXêV(èdÇ›Ç√ÇØÇ†ÇË) */
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u6 = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 18U;
                if (u6 > 65535U) {
                  u6 = 65535U;
                }

                row_num_node[((int)qY + 33 * (col->data[idx] - 2)) - 1] =
                  (unsigned short)u6;

                /* à⁄ìÆï˚å¸MAPçXêV */
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                if (g_d_direction.North_West <= 7) {
                  row_dir_node[((int)qY + 33 * (col->data[idx] - 2)) - 1] =
                    (unsigned char)(1 << g_d_direction.North_West);
                } else {
                  row_dir_node[((int)qY + 33 * (col->data[idx] - 2)) - 1] = 0U;
                }

                /* çXêVÉtÉâÉOÇóßÇƒÇÈ */
                change_flag = 1U;

                /* Ç©Ç¬ñkêºÇÃÉmÅ[ÉhÇ™çXêVó\íËílÇ∆ìØÇ∂èÍçá */
              } else {
                qY = row->data[idx] + 1U;
                if (qY > 65535U) {
                  qY = 65535U;
                }

                u6 = col_num_node[(row->data[idx] + ((col->data[idx] - 1) << 5))
                  - 1] + 18U;
                if (u6 > 65535U) {
                  u6 = 65535U;
                }

                if (row_num_node[((int)qY + 33 * (col->data[idx] - 2)) - 1] ==
                    (int)u6) {
                  /* à⁄ìÆï˚å¸Çí«â¡ */
                  qY = row->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  a = row_dir_node[((int)qY + 33 * (col->data[idx] - 2)) - 1];
                  qY = row->data[idx] + 1U;
                  if (qY > 65535U) {
                    qY = 65535U;
                  }

                  if (g_d_direction.North_West <= 7) {
                    i108 = (unsigned char)(1 << g_d_direction.North_West);
                  } else {
                    i108 = 0;
                  }

                  row_dir_node[((int)qY + 33 * (col->data[idx] - 2)) - 1] =
                    (unsigned char)(a | i108);
                }
              }
            }
          }
        }
      }
    }

    /* çXêVÇ™Ç»ÇØÇÍÇŒèIóπ(ÉXÉ^Å[Égínì_ÇÃï‡êîÉ}ÉbÉvÇçXêV)     */
  } while (!(change_flag == 0));

  emxFree_uint16_T(&b_num_temp);
  emxFree_uint16_T(&col);
  emxFree_uint16_T(&row);
  qY = row_num_node[1] + 3U;
  if (qY > 65535U) {
    qY = 65535U;
  }

  *start_num = (unsigned short)qY;
}

/*
 * ÉXÉ^Å[ÉgÉmÅ[ÉhÇÃèâä˙âª
 * Arguments    : const unsigned short row_num_node[1056]
 *                const unsigned short col_num_node[1056]
 *                const unsigned char goal_section[2]
 *                const unsigned char goal_node2[2]
 *                unsigned char goal_node_property
 * Return Type  : void
 */
static void make_route_diagonal(const unsigned short row_num_node[1056], const
  unsigned short col_num_node[1056], const unsigned char goal_section[2], const
  unsigned char goal_node2[2], unsigned char goal_node_property)
{
  unsigned char current_node[2];
  unsigned char current_node_property;
  unsigned char current_move_dir;
  unsigned char current_move_mode;
  unsigned char straight_count;
  unsigned char ref_move_dir;
  unsigned char ref_move_mode;
  int goal_flag;
  unsigned char next_node[2];
  unsigned char next_move_dir;
  unsigned char b_next_node[2];
  unsigned char next_node_property;
  int exitg1;
  int i;
  double move_dir_buffer[3];
  unsigned char ref_node_property;
  bool exitg2;
  bool p;
  bool b_p;
  int k;
  unsigned char turn_pattern_num;
  unsigned char b_next_node_property;
  unsigned int qY;
  unsigned char b_next_move_dir;

  /*  make_route_diagonal éŒÇﬂóLÇ≈ÇÃç≈íZÉãÅ[Égê∂ê¨ÅAëñçs */
  current_node[0] = 1U;
  current_node[1] = 1U;

  /* èâä˙É}ÉXÇÃìÏÇÃÉmÅ[Éh */
  current_node_property = matrix_dir.Row;

  /* ìÏÇÃÉmÅ[ÉhÇÃëÆê´ÇÕçsï˚å¸ */
  current_move_dir = g_d_direction.North;

  /* èâä˙ÇÃêiçsï˚å¸ÇÕñk */
  current_move_mode = move_dir_property.straight;

  /* èâä˙ÇÃêiçsï˚å¸ëÆê´ÇÕíºêiÅiéŒÇﬂÇ≈Ç»Ç¢Åj */
  straight_count = 0U;

  /* íºêiópÇÃÉJÉEÉìÉ^ */
  /* èââÒÇÃÇ›éüÇÃÉmÅ[ÉhÇå≈íË */
  /* èâä˙É}ÉXÇÃñkÇÃÉmÅ[Éh */
  /* ñkÇÃÉmÅ[ÉhÇÃëÆê´ÇÕçsï˚å¸ */
  /* äÓèÄÉmÅ[Éhç¿ïWÇéüÇÃÉmÅ[ÉhÇ… */
  /* äÓèÄÉmÅ[ÉhÇÃà⁄ìÆï˚å¸ÅAÉÇÅ[ÉhÇåªç›ÇÃÉmÅ[ÉhÇ…ê›íË */
  ref_move_dir = g_d_direction.North;
  ref_move_mode = move_dir_property.straight;

  /* ÉSÅ[ÉãÉtÉâÉOÇ™ÇΩÇ¬Ç‹Ç≈ÉãÅ[Év */
  goal_flag = 0;

  /* éŒÇﬂçûÇ›ÇÃêiçsï˚ñ@ëIë */
  next_node[0] = 2U;
  next_node[1] = 1U;
  get_next_dir_diagonal(row_num_node, col_num_node, g_d_direction.North,
                        next_node, matrix_dir.Row, goal_node2,
                        goal_node_property, goal_section, &next_move_dir,
                        b_next_node, &next_node_property);
  do {
    exitg1 = 0;

    /*          disp(["next_move_dir=",num2str(next_move_dir)]) */
    /*          disp(["ref_move_dir=",num2str(ref_move_dir)]) */
    /* äÓèÄÉmÅ[ÉhÇ©ÇÁå©ÇƒÅAêiçsï˚å¸Ç™ìØàÍÇÃÇ∆Ç´ */
    if (ref_move_dir == next_move_dir) {
      /*              disp("íºêi") */
      i = (int)(straight_count + 1U);
      if ((unsigned int)i > 255U) {
        i = 255;
      }

      straight_count = (unsigned char)i;

      /* íºêiÉJÉEÉìÉ^ÇÉCÉìÉNÉäÉÅÉìÉg */
      /* äÓèÄÉmÅ[ÉhÇà⁄ìÆÇ∑ÇÈÅB */
      ref_node_property = next_node_property;
      ref_move_dir = next_move_dir;

      /* äÓèÄÉmÅ[ÉhÇ™ÉSÅ[ÉãÇ≈Ç†ÇÈÇ©îªíË */
      p = false;
      b_p = true;
      k = 0;
      exitg2 = false;
      while ((!exitg2) && (k < 2)) {
        if (b_next_node[k] != goal_node2[k]) {
          b_p = false;
          exitg2 = true;
        } else {
          k++;
        }
      }

      if (b_p) {
        p = true;
      }

      if ((p && (next_node_property == goal_node_property)) ||
          ((next_node_property == matrix_dir.section) && (goal_section[1] ==
            b_next_node[0]) && (goal_section[0] == b_next_node[1]))) {
        /* åªç›à íuÇ™ÉmÅ[ÉhÇ≈Ç†ÇÈéûÅAÉSÅ[Éãêiì¸éûÇÃÉpÉ^Å[ÉìÇåàíËÇ∑ÇÈÅB */
        p = false;
        b_p = true;
        k = 0;
        exitg2 = false;
        while ((!exitg2) && (k < 2)) {
          if (b_next_node[k] != goal_node2[k]) {
            b_p = false;
            exitg2 = true;
          } else {
            k++;
          }
        }

        if (b_p) {
          p = true;
        }

        if (p && (next_node_property == goal_node_property)) {
          /* ÉSÅ[ÉãÇÃèÍçáÅAÉSÅ[Éãêiì¸éûÇÃÉpÉ^Å[ÉìÇåàíËÇ∑ÇÈÅB */
          get_next_dir_diagonal(row_num_node, col_num_node, next_move_dir,
                                b_next_node, next_node_property, goal_node2,
                                goal_node_property, goal_section,
                                &b_next_move_dir, next_node,
                                &b_next_node_property);

          /* íºêiÇÃèÍçáÅiíºêiêNì¸Åj */
          if (next_move_dir == b_next_move_dir) {
            /* ÉSÅ[Éãï™ÉJÉEÉìÉ^Çëùâ¡ */
            i = (int)((unsigned char)i + 1U);
            if ((unsigned int)i > 255U) {
              i = 255;
            }

            /* åªç›ÉmÅ[ÉhÇ©ÇÁíºêiÉJÉEÉìÉ^ï™à⁄ìÆÇ∑ÇÈä÷êîÅB */
            move_straight(current_node, &current_node_property,
                          &current_move_dir, &current_move_mode, (unsigned char)
                          i);
            straight_count = 0U;

            /*                          disp("ÉSÅ[Éãíºê¸êNì¸") */
            /*                          disp(current_node) */
            /* É^Å[ÉìÇÃèÍçáÅiéŒÇﬂêNì¸Åj */
            /* 45ìxÉ^Å[ÉìÇÃÇ›ëzíË(àÍÇ¬êÊÇÃà⁄ìÆï˚å¸Ç≈É^Å[ÉìÇÃéÌóﬁÇ™åàíË) */
          } else {
            /*                          disp("ÉSÅ[ÉãéûíºêiëO") */
            /*                          disp(current_node) */
            /* íºêiÉJÉEÉìÉ^Ç™Ç†ÇÍÇŒà⁄ìÆ */
            /* ãOê’ÇÉvÉçÉbÉg */
            /* åªç›ÉmÅ[ÉhÇ©ÇÁíºêiÉJÉEÉìÉ^ï™à⁄ìÆÇ∑ÇÈä÷êîÅB */
            move_straight(current_node, &current_node_property,
                          &current_move_dir, &current_move_mode, (unsigned char)
                          i);
            straight_count = 0U;

            /*                          disp("ÉSÅ[Éãéûíºêiå„") */
            /*                          disp(current_node) */
            /* êiçsï˚å¸ÇÃÉoÉbÉtÉ@ÇÉNÉäÉA */
            move_dir_buffer[1] = 0.0;
            move_dir_buffer[2] = 0.0;

            /* 1Ç¬êÊÇ‹Ç≈ÇÃêiçsï˚å¸Ç©ÇÁÅAÉ^Å[ÉìÇÃÉpÉ^Å[ÉìÇåàíË */
            /* åªç›êiçsï˚å¸Ç©ÇÁÇÃëäëŒìIÇ»à⁄ìÆï˚å¸ÇÉoÉbÉtÉ@ */
            if (b_next_move_dir > 127) {
              b_next_move_dir = 127U;
            }

            turn_pattern_num = current_move_dir;
            if (current_move_dir > 127) {
              turn_pattern_num = 127U;
            }

            move_dir_buffer[0] = (b_next_move_dir - turn_pattern_num) & 7;

            /* É^Å[ÉìÇÃéÌóﬁÇîªíËÇ∑ÇÈ */
            turn_pattern_num = get_turn_pattern_num(move_dir_buffer,
              ref_move_mode);

            /* É^Å[ÉìÇÃãOê’Çï`âÊÇ∑ÇÈ */
            /* ÉpÉ^Å[ÉìÇ™åàÇ‹ÇÁÇ»Ç©Ç¡ÇΩèÍçáÅAÉGÉâÅ[ */
            /* ÉpÉ^Å[ÉìÇ…âûÇ∂ÇΩà⁄ìÆèàóù */
            if (turn_pattern_num == turn_pattern.r_45) {
              turn_r_45(current_node, &current_node_property, &current_move_dir,
                        &current_move_mode);
            } else {
              if (turn_pattern_num == turn_pattern.l_45) {
                turn_l_45(current_node, &current_node_property,
                          &current_move_dir, &current_move_mode);
              }
            }
          }

          /* éQè∆à íuÇ™ÉZÉNÉVÉáÉìÇ≈Ç†ÇÈÇ∆Ç´ */
        } else {
          /* íºêiÉJÉEÉìÉ^Ç™Ç†ÇÍÇŒÅAà⁄ìÆÇ∑ÇÈÅB */
          /*                      disp("ÉSÅ[ÉãéûíºêiÅiÉZÉNÉVÉáÉìÅj") */
          /* ãOê’ÇÉvÉçÉbÉg */
          /* åªç›ÉmÅ[ÉhÇ©ÇÁíºêiÉJÉEÉìÉ^ï™à⁄ìÆÇ∑ÇÈä÷êîÅB */
          move_straight(current_node, &current_node_property, &current_move_dir,
                        &current_move_mode, (unsigned char)i);
          straight_count = 0U;
        }

        /* ÉSÅ[ÉãèàóùÇ™Ç®ÇÌÇ¡ÇΩÇÁÉtÉâÉOÇóßÇƒÇÈ */
        /*                  disp("ÉSÅ[Éãå„") */
        /*                  disp(straight_count) */
        /*                  disp(current_node) */
        goal_flag = 1;
      }

      /* äÓèÄÉmÅ[ÉhÇ©ÇÁå©ÇƒÅAêiçsï˚å¸Ç™àŸÇ»ÇÈ(ã»Ç™ÇÈ)Ç∆Ç´ */
    } else {
      /*              disp("É^Å[Éì") */
      /* íºêiÉJÉEÉìÉ^Ç†ÇÈÇ∆Ç´ */
      if (straight_count > 0) {
        /* ãOê’ÇÉvÉçÉbÉg */
        /* åªç›ÉmÅ[ÉhÇ©ÇÁíºêiÉJÉEÉìÉ^ï™à⁄ìÆÇ∑ÇÈä÷êîÅB */
        move_straight(current_node, &current_node_property, &current_move_dir,
                      &current_move_mode, straight_count);
        straight_count = 0U;

        /*                  disp("É^Å[ÉìëOíºêiÉJÉEÉìÉ^") */
        /*                  disp(straight_count) */
        /*                  disp(current_node) */
      }

      /* êiçsï˚å¸ÇÃÉoÉbÉtÉ@ÇÉNÉäÉA */
      move_dir_buffer[0] = 0.0;
      move_dir_buffer[1] = 0.0;
      move_dir_buffer[2] = 0.0;

      /* 3Ç¬êÊÇ‹Ç≈ÇÃêiçsï˚å¸Ç©ÇÁÅAÉ^Å[ÉìÇÃÉpÉ^Å[ÉìÇåàíË */
      i = 0;
      exitg2 = false;
      while ((!exitg2) && (i < 3)) {
        /* åªç›êiçsï˚å¸Ç©ÇÁÇÃëäëŒìIÇ»à⁄ìÆï˚å¸ÇÉoÉbÉtÉ@ */
        /*                  disp(["current_move_dir",num2str(current_move_dir)]) */
        /*                  disp(["next_move_dir",num2str(next_move_dir)]) */
        turn_pattern_num = next_move_dir;
        if (next_move_dir > 127) {
          turn_pattern_num = 127U;
        }

        b_next_node_property = current_move_dir;
        if (current_move_dir > 127) {
          b_next_node_property = 127U;
        }

        move_dir_buffer[i] = (turn_pattern_num - b_next_node_property) & 7;

        /* É^Å[ÉìÇÃéÌóﬁÇîªíËÇ∑ÇÈ */
        turn_pattern_num = get_turn_pattern_num(move_dir_buffer, ref_move_mode);

        /* ÉpÉ^Å[ÉìÇ™ämíËÇµÇƒÇ¢ÇÍÇŒèIóπ */
        if (turn_pattern_num != 0) {
          /* ÉpÉ^Å[ÉìÇÃãOê’Çï`âÊ */
          exitg2 = true;
        } else {
          /* éüÇÃêiçsï˚å¸ÇåàíËÇ∑ÇÈ */
          next_node[0] = b_next_node[0];
          next_node[1] = b_next_node[1];
          get_next_dir_diagonal(row_num_node, col_num_node, next_move_dir,
                                next_node, next_node_property, goal_node2,
                                goal_node_property, goal_section, &next_move_dir,
                                b_next_node, &next_node_property);

          /* 3âÒñ⁄Ç≈ÉpÉ^Å[ÉìÇ™åàÇ‹ÇÁÇ»Ç©Ç¡ÇΩèÍçáÅAÉGÉâÅ[ */
          i++;
        }
      }

      /* ÉpÉ^Å[ÉìÇ…âûÇ∂Çƒà⁄ìÆ */
      if (turn_pattern_num == turn_pattern.r_45) {
        turn_r_45(current_node, &current_node_property, &current_move_dir,
                  &current_move_mode);
      } else if (turn_pattern_num == turn_pattern.l_45) {
        turn_l_45(current_node, &current_node_property, &current_move_dir,
                  &current_move_mode);
      } else if (turn_pattern_num == turn_pattern.r_90) {
        /* íºêiÉpÉ^Å[ÉìÇÃéû */
        /*  âE90ìx */
        if (current_move_mode == move_dir_property.straight) {
          if (current_move_dir == g_d_direction.North) {
            i = (int)(current_node[0] + 1U);
            if ((unsigned int)i > 255U) {
              i = 255;
            }

            current_node[0] = (unsigned char)i;
            i = (int)(current_node[1] + 1U);
            if ((unsigned int)i > 255U) {
              i = 255;
            }

            current_node[1] = (unsigned char)i;
            current_node_property = matrix_dir.Col;
            current_move_dir = g_d_direction.East;
            current_move_mode = move_dir_property.straight;
          } else if (current_move_dir == g_d_direction.East) {
            i = (int)(current_node[1] + 1U);
            if ((unsigned int)i > 255U) {
              i = 255;
            }

            current_node[1] = (unsigned char)i;
            current_node_property = matrix_dir.Row;
            current_move_dir = g_d_direction.South;
            current_move_mode = move_dir_property.straight;
          } else if (current_move_dir == g_d_direction.South) {
            qY = current_node[0] - 2U;
            if (qY > current_node[0]) {
              qY = 0U;
            }

            current_node[0] = (unsigned char)qY;
            current_node_property = matrix_dir.Col;
            current_move_dir = g_d_direction.West;
            current_move_mode = move_dir_property.straight;
          } else {
            if (current_move_dir == g_d_direction.West) {
              i = (int)(current_node[0] + 1U);
              if ((unsigned int)i > 255U) {
                i = 255;
              }

              current_node[0] = (unsigned char)i;
              i = (int)(current_node[1] + 2U);
              if ((unsigned int)i > 255U) {
                i = 255;
              }

              current_node[1] = (unsigned char)i;
              current_node_property = matrix_dir.Row;
              current_move_dir = g_d_direction.North;
              current_move_mode = move_dir_property.straight;
            }
          }

          /* éŒÇﬂÉpÉ^Å[ÉìÇÃéûÅiV90Åj     */
        } else {
          if (current_move_mode == move_dir_property.diagonal) {
            if (current_move_dir == g_d_direction.North_East) {
              i = (int)(current_node[1] + 1U);
              if ((unsigned int)i > 255U) {
                i = 255;
              }

              current_node[1] = (unsigned char)i;
              current_node_property = matrix_dir.Row;
              current_move_dir = g_d_direction.South_East;
              current_move_mode = move_dir_property.diagonal;
            } else if (current_move_dir == g_d_direction.South_East) {
              qY = current_node[0] - 1U;
              if (qY > current_node[0]) {
                qY = 0U;
              }

              current_node[0] = (unsigned char)qY;
              current_node_property = matrix_dir.Col;
              current_move_dir = g_d_direction.South_West;
              current_move_mode = move_dir_property.diagonal;
            } else if (current_move_dir == g_d_direction.South_West) {
              qY = current_node[1] - 1U;
              if (qY > current_node[1]) {
                qY = 0U;
              }

              current_node[1] = (unsigned char)qY;
              current_node_property = matrix_dir.Row;
              current_move_dir = g_d_direction.North_West;
              current_move_mode = move_dir_property.diagonal;
            } else {
              if (current_move_dir == g_d_direction.North_West) {
                i = (int)(current_node[0] + 1U);
                if ((unsigned int)i > 255U) {
                  i = 255;
                }

                current_node[0] = (unsigned char)i;
                current_node_property = matrix_dir.Col;
                current_move_dir = g_d_direction.North_East;
                current_move_mode = move_dir_property.diagonal;
              }
            }
          }
        }
      } else if (turn_pattern_num == turn_pattern.l_90) {
        turn_l_90(current_node, &current_node_property, &current_move_dir,
                  &current_move_mode);
      } else if (turn_pattern_num == turn_pattern.r_135) {
        turn_r_135(current_node, &current_node_property, &current_move_dir,
                   &current_move_mode);
      } else if (turn_pattern_num == turn_pattern.l_135) {
        turn_l_135(current_node, &current_node_property, &current_move_dir,
                   &current_move_mode);
      } else if (turn_pattern_num == turn_pattern.r_180) {
        /* íºêiÉpÉ^Å[ÉìÇÃéû */
        /*  âE180ìx */
        if (current_move_mode == move_dir_property.straight) {
          if (current_move_dir == g_d_direction.North) {
            i = (int)(current_node[0] + 1U);
            if ((unsigned int)i > 255U) {
              i = 255;
            }

            current_node[0] = (unsigned char)i;
            i = (int)(current_node[1] + 1U);
            if ((unsigned int)i > 255U) {
              i = 255;
            }

            current_node[1] = (unsigned char)i;
            current_node_property = matrix_dir.Row;
            current_move_dir = g_d_direction.South;
            current_move_mode = move_dir_property.straight;
          } else if (current_move_dir == g_d_direction.East) {
            qY = current_node[0] - 1U;
            if (qY > current_node[0]) {
              qY = 0U;
            }

            current_node[0] = (unsigned char)qY;
            i = (int)(current_node[1] + 1U);
            if ((unsigned int)i > 255U) {
              i = 255;
            }

            current_node[1] = (unsigned char)i;
            current_node_property = matrix_dir.Col;
            current_move_dir = g_d_direction.West;
            current_move_mode = move_dir_property.straight;
          } else if (current_move_dir == g_d_direction.South) {
            qY = current_node[0] - 1U;
            if (qY > current_node[0]) {
              qY = 0U;
            }

            current_node[0] = (unsigned char)qY;
            qY = current_node[1] - 1U;
            if (qY > current_node[1]) {
              qY = 0U;
            }

            current_node[1] = (unsigned char)qY;
            current_node_property = matrix_dir.Row;
            current_move_dir = g_d_direction.North;
            current_move_mode = move_dir_property.straight;
          } else {
            if (current_move_dir == g_d_direction.West) {
              i = (int)(current_node[0] + 1U);
              if ((unsigned int)i > 255U) {
                i = 255;
              }

              current_node[0] = (unsigned char)i;
              qY = current_node[1] - 1U;
              if (qY > current_node[1]) {
                qY = 0U;
              }

              current_node[1] = (unsigned char)qY;
              current_node_property = matrix_dir.Col;
              current_move_dir = g_d_direction.East;
              current_move_mode = move_dir_property.straight;
            }
          }

          /* éŒÇﬂÉpÉ^Å[ÉìÇÃéû     */
        }
      } else {
        if (turn_pattern_num == turn_pattern.l_180) {
          turn_l_180(current_node, &current_node_property, &current_move_dir,
                     &current_move_mode);
        }
      }

      /*              disp("É^Å[ÉìèIóπéûÅAÉmÅ[Éh") */
      /*              disp(current_node) */
      /*              disp(goal_node2) */
      /* à⁄ìÆå„ÅAÉSÅ[ÉãÇîªíË */
      if (isequal(current_node, goal_node2) && (current_node_property ==
           goal_node_property)) {
        goal_flag = 1;
      }

      /* äÓèÄÉmÅ[ÉhÇà⁄ìÆ */
      ref_node_property = next_node_property;
      ref_move_dir = current_move_dir;
      ref_move_mode = current_move_mode;
    }

    /* ÉSÅ[ÉãÉtÉâÉOÇ™óßÇ¡ÇƒÇ¢ÇÍÇŒèIóπ */
    if (goal_flag == 1) {
      exitg1 = 1;
    } else {
      /* éüÇÃà⁄ìÆï˚å¸ÇéÊìæ */
      /* éŒÇﬂçûÇ›ÇÃêiçsï˚ñ@ëIë */
      next_node[0] = b_next_node[0];
      next_node[1] = b_next_node[1];
      get_next_dir_diagonal(row_num_node, col_num_node, ref_move_dir, next_node,
                            ref_node_property, goal_node2, goal_node_property,
                            goal_section, &next_move_dir, b_next_node,
                            &next_node_property);

      /*          disp("éüêiçsï˚å¸") */
      /*          disp(next_move_dir) */
    }
  } while (exitg1 == 0);
}

/*
 * ì¸óÕ åªç›à íux,y,åªç›ï˚å¸
 * èoóÕ åªç›à íux,y
 * Arguments    : unsigned char *current_x
 *                unsigned char *current_y
 *                unsigned char current_dir
 * Return Type  : void
 */
static void move_step(unsigned char *current_x, unsigned char *current_y,
                      unsigned char current_dir)
{
  int q0;
  unsigned int qY;

  /*  move_step àÍÉ}ÉXëOêiÇ∑ÇÈä÷êî */
  /* ñkÇ…àÍÉ}ÉX */
  if (current_dir == g_direction.North) {
    q0 = (int)(*current_y + 1U);
    if ((unsigned int)q0 > 255U) {
      q0 = 255;
    }

    *current_y = (unsigned char)q0;

    /* disp("north_step") */
  }

  /* ìåÇ…àÍÉ}ÉX */
  if (current_dir == g_direction.East) {
    q0 = (int)(*current_x + 1U);
    if ((unsigned int)q0 > 255U) {
      q0 = 255;
    }

    *current_x = (unsigned char)q0;

    /* disp("east_step") */
  }

  /* ìÏÇ…àÍÉ}ÉX */
  if (current_dir == g_direction.South) {
    q0 = *current_y;
    qY = q0 - 1U;
    if (qY > (unsigned int)q0) {
      qY = 0U;
    }

    *current_y = (unsigned char)qY;

    /* disp("south_step") */
  }

  /* êºÇ…àÍÉ}ÉX */
  if (current_dir == g_direction.West) {
    q0 = *current_x;
    qY = q0 - 1U;
    if (qY > (unsigned int)q0) {
      qY = 0U;
    }

    *current_x = (unsigned char)qY;

    /* disp("west_step") */
  }
}

/*
 * íºêiéû
 * Arguments    : unsigned char current_node[2]
 *                unsigned char *current_node_property
 *                unsigned char *current_move_dir
 *                unsigned char *current_move_mode
 *                unsigned char straight_count
 * Return Type  : void
 */
static void move_straight(unsigned char current_node[2], unsigned char
  *current_node_property, unsigned char *current_move_dir, unsigned char
  *current_move_mode, unsigned char straight_count)
{
  unsigned char u12;
  int q0;
  unsigned char temp_quotient;
  unsigned char temp_remainder;
  unsigned char temp_qr;
  unsigned int qY;

  /*  à⁄ìÆópä÷êî */
  /*  íºêi */
  if (*current_move_mode == move_dir_property.straight) {
    if (*current_move_dir == g_d_direction.North) {
      u12 = current_node[1];
      q0 = (int)((unsigned int)current_node[0] + straight_count);
      if ((unsigned int)q0 > 255U) {
        q0 = 255;
      }

      current_node[0] = (unsigned char)q0;
      current_node[1] = u12;
      *current_node_property = matrix_dir.Row;
      *current_move_dir = g_d_direction.North;
      *current_move_mode = move_dir_property.straight;
    } else if (*current_move_dir == g_d_direction.East) {
      q0 = (int)((unsigned int)current_node[1] + straight_count);
      if ((unsigned int)q0 > 255U) {
        q0 = 255;
      }

      current_node[1] = (unsigned char)q0;
      *current_node_property = matrix_dir.Col;
      *current_move_dir = g_d_direction.East;
      *current_move_mode = move_dir_property.straight;
    } else if (*current_move_dir == g_d_direction.South) {
      u12 = current_node[1];
      q0 = current_node[0];
      qY = (unsigned int)q0 - straight_count;
      if (qY > (unsigned int)q0) {
        qY = 0U;
      }

      current_node[0] = (unsigned char)qY;
      current_node[1] = u12;
      *current_node_property = matrix_dir.Row;
      *current_move_dir = g_d_direction.South;
      *current_move_mode = move_dir_property.straight;
    } else {
      if (*current_move_dir == g_d_direction.West) {
        u12 = current_node[1];
        qY = (unsigned int)u12 - straight_count;
        if (qY > u12) {
          qY = 0U;
        }

        current_node[1] = (unsigned char)qY;
        *current_node_property = matrix_dir.Col;
        *current_move_dir = g_d_direction.West;
        *current_move_mode = move_dir_property.straight;
      }
    }

    /* éŒÇﬂíºêiÇÃÇ∆Ç´     */
  } else {
    if (*current_move_mode == move_dir_property.diagonal) {
      /* íºêiÉJÉEÉìÉ^Ç2Ç≈äÑÇ¡ÇΩè§Ç∆Ç†Ç‹ÇËÅAÇªÇÃçáåvÇåvéZ */
      /* (à⁄ìÆêÊÉmÅ[Éhç¿ïWÇÃàÍî âªóp) */
      temp_quotient = (unsigned char)trunc((double)straight_count / 2.0);
      temp_remainder = (unsigned char)(straight_count % 2);
      temp_qr = (unsigned char)(temp_quotient + temp_remainder);
      if (*current_move_dir == g_d_direction.North_East) {
        if (*current_node_property == matrix_dir.Row) {
          u12 = current_node[1];
          q0 = (int)((unsigned int)current_node[0] + temp_quotient);
          if ((unsigned int)q0 > 255U) {
            q0 = 255;
          }

          current_node[0] = (unsigned char)q0;
          q0 = (int)((unsigned int)u12 + temp_qr);
          if ((unsigned int)q0 > 255U) {
            q0 = 255;
          }

          current_node[1] = (unsigned char)q0;
          q0 = (int)((unsigned int)*current_node_property + temp_remainder);
          if ((unsigned int)q0 > 255U) {
            q0 = 255;
          }

          *current_node_property = (unsigned char)q0;
          *current_move_dir = g_d_direction.North_East;
          *current_move_mode = move_dir_property.diagonal;
        } else {
          if (*current_node_property == matrix_dir.Col) {
            u12 = current_node[1];
            q0 = (int)((unsigned int)current_node[0] + temp_qr);
            if ((unsigned int)q0 > 255U) {
              q0 = 255;
            }

            current_node[0] = (unsigned char)q0;
            q0 = (int)((unsigned int)u12 + temp_quotient);
            if ((unsigned int)q0 > 255U) {
              q0 = 255;
            }

            current_node[1] = (unsigned char)q0;
            q0 = *current_node_property;
            qY = (unsigned int)q0 - temp_remainder;
            if (qY > (unsigned int)q0) {
              qY = 0U;
            }

            *current_node_property = (unsigned char)qY;
            *current_move_dir = g_d_direction.North_East;
            *current_move_mode = move_dir_property.diagonal;
          }
        }
      } else if (*current_move_dir == g_d_direction.South_East) {
        if (*current_node_property == matrix_dir.Row) {
          u12 = current_node[1];
          q0 = current_node[0];
          qY = (unsigned int)q0 - temp_qr;
          if (qY > (unsigned int)q0) {
            qY = 0U;
          }

          current_node[0] = (unsigned char)qY;
          q0 = (int)((unsigned int)u12 + temp_qr);
          if ((unsigned int)q0 > 255U) {
            q0 = 255;
          }

          current_node[1] = (unsigned char)q0;
          q0 = (int)((unsigned int)*current_node_property + temp_remainder);
          if ((unsigned int)q0 > 255U) {
            q0 = 255;
          }

          *current_node_property = (unsigned char)q0;
          *current_move_dir = g_d_direction.South_East;
          *current_move_mode = move_dir_property.diagonal;
        } else {
          if (*current_node_property == matrix_dir.Col) {
            u12 = current_node[1];
            q0 = current_node[0];
            qY = (unsigned int)q0 - temp_quotient;
            if (qY > (unsigned int)q0) {
              qY = 0U;
            }

            current_node[0] = (unsigned char)qY;
            q0 = (int)((unsigned int)u12 + temp_quotient);
            if ((unsigned int)q0 > 255U) {
              q0 = 255;
            }

            current_node[1] = (unsigned char)q0;
            q0 = *current_node_property;
            qY = (unsigned int)q0 - temp_remainder;
            if (qY > (unsigned int)q0) {
              qY = 0U;
            }

            *current_node_property = (unsigned char)qY;
            *current_move_dir = g_d_direction.South_East;
            *current_move_mode = move_dir_property.diagonal;
          }
        }
      } else if (*current_move_dir == g_d_direction.South_West) {
        if (*current_node_property == matrix_dir.Row) {
          u12 = current_node[1];
          q0 = current_node[0];
          qY = (unsigned int)q0 - temp_qr;
          if (qY > (unsigned int)q0) {
            qY = 0U;
          }

          current_node[0] = (unsigned char)qY;
          qY = (unsigned int)u12 - temp_quotient;
          if (qY > u12) {
            qY = 0U;
          }

          current_node[1] = (unsigned char)qY;
          q0 = (int)((unsigned int)*current_node_property + temp_remainder);
          if ((unsigned int)q0 > 255U) {
            q0 = 255;
          }

          *current_node_property = (unsigned char)q0;
          *current_move_dir = g_d_direction.South_West;
          *current_move_mode = move_dir_property.diagonal;
        } else {
          if (*current_node_property == matrix_dir.Col) {
            u12 = current_node[1];
            q0 = current_node[0];
            qY = (unsigned int)q0 - temp_quotient;
            if (qY > (unsigned int)q0) {
              qY = 0U;
            }

            current_node[0] = (unsigned char)qY;
            qY = (unsigned int)u12 - temp_qr;
            if (qY > u12) {
              qY = 0U;
            }

            current_node[1] = (unsigned char)qY;
            q0 = *current_node_property;
            qY = (unsigned int)q0 - temp_remainder;
            if (qY > (unsigned int)q0) {
              qY = 0U;
            }

            *current_node_property = (unsigned char)qY;
            *current_move_dir = g_d_direction.South_West;
            *current_move_mode = move_dir_property.diagonal;
          }
        }
      } else {
        if (*current_move_dir == g_d_direction.North_West) {
          if (*current_node_property == matrix_dir.Row) {
            u12 = current_node[1];
            q0 = (int)((unsigned int)current_node[0] + temp_quotient);
            if ((unsigned int)q0 > 255U) {
              q0 = 255;
            }

            current_node[0] = (unsigned char)q0;
            qY = (unsigned int)u12 - temp_quotient;
            if (qY > u12) {
              qY = 0U;
            }

            current_node[1] = (unsigned char)qY;
            q0 = (int)((unsigned int)*current_node_property + temp_remainder);
            if ((unsigned int)q0 > 255U) {
              q0 = 255;
            }

            *current_node_property = (unsigned char)q0;
            *current_move_dir = g_d_direction.North_West;
            *current_move_mode = move_dir_property.diagonal;
          } else {
            if (*current_node_property == matrix_dir.Col) {
              u12 = current_node[1];
              q0 = (int)((unsigned int)current_node[0] + temp_qr);
              if ((unsigned int)q0 > 255U) {
                q0 = 255;
              }

              current_node[0] = (unsigned char)q0;
              qY = (unsigned int)u12 - temp_qr;
              if (qY > u12) {
                qY = 0U;
              }

              current_node[1] = (unsigned char)qY;
              q0 = *current_node_property;
              qY = (unsigned int)q0 - temp_remainder;
              if (qY > (unsigned int)q0) {
                qY = 0U;
              }

              *current_node_property = (unsigned char)qY;
              *current_move_dir = g_d_direction.North_West;
              *current_move_mode = move_dir_property.diagonal;
            }
          }
        }
      }
    }
  }

  /* à⁄ìÆäÆóπéûÅAíºêiÉJÉEÉìÉ^ÇÉNÉäÉA */
}

/*
 * ì¸óÕÅ@åªç›à íux,y,åªç›ï˚å¸,ñ¿òHçsï˚å¸ÉTÉCÉY,ñ¿òHóÒï˚å¸ÉTÉCÉY,ñ¿òHï«èÓïÒ,ñ¿òHï«ÇÃíTçıèÓïÒ,ÉSÅ[Éãç¿ïW
 * èoóÕ  åªç›à íux,y,åªç›ï˚å¸,ï«èÓïÒ,íTçıèÓïÒ
 * Arguments    : const coder_internal_ref_5 *wall
 *                coder_internal_ref *wall_flg
 *                const coder_internal_ref_4 *search
 *                const coder_internal_ref_1 *maze_goal
 *                coder_internal_ref_3 *num_temp
 *                unsigned char *current_x
 *                unsigned char *current_y
 *                unsigned char *current_dir
 *                unsigned char maze_row_size
 *                unsigned char maze_col_size
 *                unsigned char maze_wall[1024]
 *                unsigned char maze_wall_search[1024]
 *                const unsigned char exploration_goal[18]
 *                unsigned char l_goal_size
 *                unsigned char *start_flg
 *                unsigned char goal_after_flg
 *                unsigned short contour_map[1024]
 * Return Type  : void
 */
static void search_adachi(const coder_internal_ref_5 *wall, coder_internal_ref
  *wall_flg, const coder_internal_ref_4 *search, const coder_internal_ref_1
  *maze_goal, coder_internal_ref_3 *num_temp, unsigned char *current_x, unsigned
  char *current_y, unsigned char *current_dir, unsigned char maze_row_size,
  unsigned char maze_col_size, unsigned char maze_wall[1024], unsigned char
  maze_wall_search[1024], const unsigned char exploration_goal[18], unsigned
  char l_goal_size, unsigned char *start_flg, unsigned char goal_after_flg,
  unsigned short contour_map[1024])
{
  unsigned char goal_flg;
  int i277;
  int exitg1;
  int i;
  unsigned char next_dir;
  unsigned int qY;

  /*  search_adachi ë´óßñ@Ç≈ÇÃíTçı */
  /* localïœêîêÈåæ */
  goal_flg = 0U;

  /* ÉSÅ[ÉãîªíËÉtÉâÉO */
  /*      search_start_x = current_x %íTçıäJénéûx */
  /*      search_start_y = current_y %íTçıäJénéûy */
  i277 = l_goal_size;
  do {
    exitg1 = 0;

    /* ï«èÓïÒéÊìæ */
    /* ÉSÅ[Éãíºå„ÇÕï«èÓïÒÇçXêVÇµÇ»Ç¢ */
    if (goal_after_flg != 1) {
      wall_set(wall, wall_flg, search, maze_goal, maze_row_size, maze_col_size, *
               current_x, *current_y, *current_dir, maze_wall, maze_wall_search);
    } else {
      /* ÉSÅ[Éãíºå„ÇÃÇ∆Ç´ */
      goal_after_flg = 0U;

      /* ÉSÅ[Éãíºå„ÉtÉâÉOÇÉNÉäÉA */
    }

    /*  ìôçÇê¸MAPê∂ê¨ */
    /*  [contour_map,max_length] = make_map2(maze_row_size,maze_col_size,maze_goal,maze_wall); */
    make_map_find(num_temp, wall, exploration_goal, l_goal_size, maze_wall,
                  contour_map);

    /* åªç›à íuÇ™ÉSÅ[ÉãÇ©îªíË */
    for (i = 0; i < i277; i++) {
      if ((*current_x == exploration_goal[i]) && (*current_y ==
           exploration_goal[i + 9])) {
        goal_flg = 1U;
      }
    }

    /* ÉSÅ[Éãéûèàóù */
    if (goal_flg == 1) {
      exitg1 = 1;
    } else {
      /*  êiçsï˚å¸ëIíË */
      /* óDêÊèáà Å@ñkÅÀìåÅÀìÏÅÀêº */
      next_dir = get_nextdir2(*current_x, *current_y, maze_wall, contour_map);

      /*  åªç›ï˚å¸Ç∆êiçsï˚å¸Ç…âûÇ∂ÇΩèàóù */
      i = (int)(4U + next_dir);
      if ((unsigned int)i > 255U) {
        i = 255;
      }

      qY = (unsigned int)i - *current_dir;
      if (qY > (unsigned int)i) {
        qY = 0U;
      }

      next_dir = b_rem((unsigned char)qY);
      if (l_direction.front == next_dir) {
        i = 0;
      } else if (l_direction.right == next_dir) {
        i = 1;
      } else if (l_direction.back == next_dir) {
        i = 2;
      } else if (l_direction.left == next_dir) {
        i = 3;
      } else {
        i = -1;
      }

      switch (i) {
       case 0:
        move_step(current_x, current_y, *current_dir);

        /* disp("front") */
        m_move_front(*start_flg, wall_flg->contents, move_dir_property.straight);

        /* ÉXÉ^Å[Égíºå„ÉtÉâÉOÇÉNÉäÉA */
        *start_flg = 0U;

        /* ï«ÉtÉâÉOÇÉNÉäÉA */
        wall_flg->contents = 0U;
        break;

       case 1:
        turn_clk_90deg(current_dir);
        move_step(current_x, current_y, *current_dir);

        /* disp("right") */
        m_move_right(*start_flg, wall_flg->contents, move_dir_property.straight);

        /* ÉXÉ^Å[Égíºå„ÉtÉâÉOÇÉNÉäÉA */
        *start_flg = 0U;

        /* ï«ÉtÉâÉOÇÉNÉäÉA */
        wall_flg->contents = 0U;
        break;

       case 2:
        turn_180deg(current_dir);
        move_step(current_x, current_y, *current_dir);

        /* disp("back") */
        m_move_back(*start_flg, wall_flg->contents, move_dir_property.straight);

        /* ÉXÉ^Å[Égíºå„ÉtÉâÉOÇÉNÉäÉA */
        *start_flg = 0U;

        /* ï«ÉtÉâÉOÇÉNÉäÉA */
        wall_flg->contents = 0U;
        break;

       case 3:
        turn_conclk_90deg(current_dir);
        move_step(current_x, current_y, *current_dir);

        /* disp("left") */
        m_move_left(*start_flg, wall_flg->contents, move_dir_property.straight);

        /* ÉXÉ^Å[Égíºå„ÉtÉâÉOÇÉNÉäÉA */
        *start_flg = 0U;

        /* ï«ÉtÉâÉOÇÉNÉäÉA */
        wall_flg->contents = 0U;
        break;
      }

      /* for code generation */
    }
  } while (exitg1 == 0);

  /* ÉSÅ[Éãéûí‚é~ÉtÉâÉOÇ™óßÇ¡ÇƒÇ¢ÇÈÇ∆Ç´ */
  /* í‚é~ìÆçÏÇé¿é{ */
  m_goal_movement(*start_flg, wall_flg->contents, move_dir_property.straight);

  /* ÉSÅ[Éãéûí‚é~ÉtÉâÉOÇ™óßÇ¡ÇƒÇ¢Ç»ÇØÇÍÇŒÅAìÆçÏÇ≥ÇπÇΩÇ‹Ç‹èIóπ */
  /*           */
  /*      if coder.target('MATLAB') */
  /*          %for MATLAB     */
  /*          %íTçıèIóπéû,É}Å[ÉJÅ[ÇÇ«Ç±Ç©âìÇ≠Ç… */
  /*          %m = makehgtform('translate',50*9,50*9,0); */
  /*          %h.Matrix = m; */
  /*          %ï ÇÃéÌóﬁÇÃÉ}Å[ÉJÅ[ÇâºíuÇ´ */
  /*          hold on */
  /*          plot(current_x * 9 -4.5,current_y * 9 -4.5,'-ob'); */
  /*          hold off */
  /*          %íTçıèÛãµÉvÉçÉbÉgÇìßñæâª */
  /*          serface_transparency(search_surf); */
  /*          drawnow */
  /*      else */
  /*          %for code generation */
  /*      end */
}

/*
 * ì¸óÕ åªç›ï˚å¸
 * èoóÕ åªç›ï˚å¸
 * Arguments    : unsigned char *current_dir
 * Return Type  : void
 */
static void turn_180deg(unsigned char *current_dir)
{
  int i279;

  /*  turn_180deg 180ìxÉ^Å[ÉìÇ∑ÇÈä÷êî */
  i279 = (int)(4U + *current_dir);
  if ((unsigned int)i279 > 255U) {
    i279 = 255;
  }

  *current_dir = (unsigned char)((i279 - 2) % 4);
}

/*
 * ì¸óÕ åªç›ï˚å¸
 * èoóÕ åªç›ï˚å¸
 * Arguments    : unsigned char *current_dir
 * Return Type  : void
 */
static void turn_clk_90deg(unsigned char *current_dir)
{
  int i278;

  /*  turn_clk_90deg éûåvé¸ÇËÇ…90ìxÉ^Å[ÉìÇ∑ÇÈä÷êî  */
  i278 = (int)(4U + *current_dir);
  if ((unsigned int)i278 > 255U) {
    i278 = 255;
  }

  i278++;
  if ((unsigned int)i278 > 255U) {
    i278 = 255;
  }

  *current_dir = (unsigned char)(i278 % 4);
}

/*
 * ì¸óÕÅ@åªç›ï˚å¸
 * èoóÕÅ@åªç›ï˚å¸
 * Arguments    : unsigned char *current_dir
 * Return Type  : void
 */
static void turn_conclk_90deg(unsigned char *current_dir)
{
  int i280;

  /*  turn_conclk_90deg îΩéûåvé¸ÇËÇ…90ìxâÒÇÈä÷êî  */
  i280 = (int)(4U + *current_dir);
  if ((unsigned int)i280 > 255U) {
    i280 = 255;
  }

  *current_dir = (unsigned char)((i280 - 1) % 4);
}

/*
 * íºêiÉpÉ^Å[ÉìÇÃéû
 * Arguments    : unsigned char current_node[2]
 *                unsigned char *current_node_property
 *                unsigned char *current_move_dir
 *                unsigned char *current_move_mode
 * Return Type  : void
 */
static void turn_l_135(unsigned char current_node[2], unsigned char
  *current_node_property, unsigned char *current_move_dir, unsigned char
  *current_move_mode)
{
  unsigned char u17;
  int q0;
  unsigned int qY;

  /*  ç∂135ìx */
  if (*current_move_mode == move_dir_property.straight) {
    if (*current_move_dir == g_d_direction.North) {
      u17 = current_node[1];
      q0 = (int)(current_node[0] + 1U);
      if ((unsigned int)q0 > 255U) {
        q0 = 255;
      }

      current_node[0] = (unsigned char)q0;
      qY = u17 - 1U;
      if (qY > u17) {
        qY = 0U;
      }

      current_node[1] = (unsigned char)qY;
      *current_node_property = matrix_dir.Row;
      *current_move_dir = g_d_direction.South_West;
      *current_move_mode = move_dir_property.diagonal;
    } else if (*current_move_dir == g_d_direction.East) {
      u17 = current_node[1];
      q0 = (int)(current_node[0] + 1U);
      if ((unsigned int)q0 > 255U) {
        q0 = 255;
      }

      current_node[0] = (unsigned char)q0;
      q0 = (int)(u17 + 1U);
      if ((unsigned int)q0 > 255U) {
        q0 = 255;
      }

      current_node[1] = (unsigned char)q0;
      *current_node_property = matrix_dir.Col;
      *current_move_dir = g_d_direction.North_West;
      *current_move_mode = move_dir_property.diagonal;
    } else if (*current_move_dir == g_d_direction.South) {
      u17 = current_node[1];
      q0 = current_node[0];
      qY = q0 - 1U;
      if (qY > (unsigned int)q0) {
        qY = 0U;
      }

      current_node[0] = (unsigned char)qY;
      q0 = (int)(u17 + 1U);
      if ((unsigned int)q0 > 255U) {
        q0 = 255;
      }

      current_node[1] = (unsigned char)q0;
      *current_node_property = matrix_dir.Row;
      *current_move_dir = g_d_direction.North_East;
      *current_move_mode = move_dir_property.diagonal;
    } else {
      if (*current_move_dir == g_d_direction.West) {
        u17 = current_node[1];
        q0 = current_node[0];
        qY = q0 - 1U;
        if (qY > (unsigned int)q0) {
          qY = 0U;
        }

        current_node[0] = (unsigned char)qY;
        qY = u17 - 1U;
        if (qY > u17) {
          qY = 0U;
        }

        current_node[1] = (unsigned char)qY;
        *current_node_property = matrix_dir.Col;
        *current_move_dir = g_d_direction.South_East;
        *current_move_mode = move_dir_property.diagonal;
      }
    }

    /* éŒÇﬂÉpÉ^Å[ÉìÇÃéû  */
  } else {
    if (*current_move_mode == move_dir_property.diagonal) {
      if (*current_move_dir == g_d_direction.North_East) {
        u17 = current_node[1];
        q0 = (int)(current_node[0] + 1U);
        if ((unsigned int)q0 > 255U) {
          q0 = 255;
        }

        current_node[0] = (unsigned char)q0;
        current_node[1] = u17;
        *current_node_property = matrix_dir.Col;
        *current_move_dir = g_d_direction.West;
        *current_move_mode = move_dir_property.straight;
      } else if (*current_move_dir == g_d_direction.South_East) {
        q0 = (int)(current_node[1] + 1U);
        if ((unsigned int)q0 > 255U) {
          q0 = 255;
        }

        current_node[1] = (unsigned char)q0;
        *current_node_property = matrix_dir.Row;
        *current_move_dir = g_d_direction.North;
        *current_move_mode = move_dir_property.straight;
      } else if (*current_move_dir == g_d_direction.South_West) {
        u17 = current_node[1];
        q0 = current_node[0];
        qY = q0 - 1U;
        if (qY > (unsigned int)q0) {
          qY = 0U;
        }

        current_node[0] = (unsigned char)qY;
        current_node[1] = u17;
        *current_node_property = matrix_dir.Col;
        *current_move_dir = g_d_direction.East;
        *current_move_mode = move_dir_property.straight;
      } else {
        if (*current_move_dir == g_d_direction.North_West) {
          u17 = current_node[1];
          qY = u17 - 1U;
          if (qY > u17) {
            qY = 0U;
          }

          current_node[1] = (unsigned char)qY;
          *current_node_property = matrix_dir.Row;
          *current_move_dir = g_d_direction.South;
          *current_move_mode = move_dir_property.straight;
        }
      }
    }
  }
}

/*
 * íºêiÉpÉ^Å[ÉìÇÃéû
 * Arguments    : unsigned char current_node[2]
 *                unsigned char *current_node_property
 *                unsigned char *current_move_dir
 *                unsigned char *current_move_mode
 * Return Type  : void
 */
static void turn_l_180(unsigned char current_node[2], unsigned char
  *current_node_property, unsigned char *current_move_dir, unsigned char
  *current_move_mode)
{
  unsigned char u18;
  int q0;
  unsigned int qY;

  /*  ç∂180ìx */
  if (*current_move_mode == move_dir_property.straight) {
    if (*current_move_dir == g_d_direction.North) {
      u18 = current_node[1];
      q0 = (int)(current_node[0] + 1U);
      if ((unsigned int)q0 > 255U) {
        q0 = 255;
      }

      current_node[0] = (unsigned char)q0;
      qY = u18 - 1U;
      if (qY > u18) {
        qY = 0U;
      }

      current_node[1] = (unsigned char)qY;
      *current_node_property = matrix_dir.Row;
      *current_move_dir = g_d_direction.South;
      *current_move_mode = move_dir_property.straight;
    } else if (*current_move_dir == g_d_direction.East) {
      u18 = current_node[1];
      q0 = (int)(current_node[0] + 1U);
      if ((unsigned int)q0 > 255U) {
        q0 = 255;
      }

      current_node[0] = (unsigned char)q0;
      q0 = (int)(u18 + 1U);
      if ((unsigned int)q0 > 255U) {
        q0 = 255;
      }

      current_node[1] = (unsigned char)q0;
      *current_node_property = matrix_dir.Col;
      *current_move_dir = g_d_direction.West;
      *current_move_mode = move_dir_property.straight;
    } else if (*current_move_dir == g_d_direction.South) {
      u18 = current_node[1];
      q0 = current_node[0];
      qY = q0 - 1U;
      if (qY > (unsigned int)q0) {
        qY = 0U;
      }

      current_node[0] = (unsigned char)qY;
      q0 = (int)(u18 + 1U);
      if ((unsigned int)q0 > 255U) {
        q0 = 255;
      }

      current_node[1] = (unsigned char)q0;
      *current_node_property = matrix_dir.Row;
      *current_move_dir = g_d_direction.North;
      *current_move_mode = move_dir_property.straight;
    } else {
      if (*current_move_dir == g_d_direction.West) {
        u18 = current_node[1];
        q0 = current_node[0];
        qY = q0 - 1U;
        if (qY > (unsigned int)q0) {
          qY = 0U;
        }

        current_node[0] = (unsigned char)qY;
        qY = u18 - 1U;
        if (qY > u18) {
          qY = 0U;
        }

        current_node[1] = (unsigned char)qY;
        *current_node_property = matrix_dir.Col;
        *current_move_dir = g_d_direction.East;
        *current_move_mode = move_dir_property.straight;
      }
    }

    /* éŒÇﬂÉpÉ^Å[ÉìÇÃéû  */
  }
}

/*
 * íºêiÉpÉ^Å[ÉìÇÃéû
 * Arguments    : unsigned char current_node[2]
 *                unsigned char *current_node_property
 *                unsigned char *current_move_dir
 *                unsigned char *current_move_mode
 * Return Type  : void
 */
static void turn_l_45(unsigned char current_node[2], unsigned char
                      *current_node_property, unsigned char *current_move_dir,
                      unsigned char *current_move_mode)
{
  unsigned char u14;
  int q0;
  unsigned int qY;

  /*  ç∂45ìx */
  if (*current_move_mode == move_dir_property.straight) {
    if (*current_move_dir == g_d_direction.North) {
      u14 = current_node[1];
      q0 = (int)(current_node[0] + 1U);
      if ((unsigned int)q0 > 255U) {
        q0 = 255;
      }

      current_node[0] = (unsigned char)q0;
      current_node[1] = u14;
      *current_node_property = matrix_dir.Col;
      *current_move_dir = g_d_direction.North_West;
      *current_move_mode = move_dir_property.diagonal;
    } else if (*current_move_dir == g_d_direction.East) {
      u14 = current_node[1];
      q0 = (int)(current_node[0] + 1U);
      if ((unsigned int)q0 > 255U) {
        q0 = 255;
      }

      current_node[0] = (unsigned char)q0;
      q0 = (int)(u14 + 1U);
      if ((unsigned int)q0 > 255U) {
        q0 = 255;
      }

      current_node[1] = (unsigned char)q0;
      *current_node_property = matrix_dir.Row;
      *current_move_dir = g_d_direction.North_East;
      *current_move_mode = move_dir_property.diagonal;
    } else if (*current_move_dir == g_d_direction.South) {
      u14 = current_node[1];
      q0 = current_node[0];
      qY = q0 - 2U;
      if (qY > (unsigned int)q0) {
        qY = 0U;
      }

      current_node[0] = (unsigned char)qY;
      q0 = (int)(u14 + 1U);
      if ((unsigned int)q0 > 255U) {
        q0 = 255;
      }

      current_node[1] = (unsigned char)q0;
      *current_node_property = matrix_dir.Col;
      *current_move_dir = g_d_direction.South_East;
      *current_move_mode = move_dir_property.diagonal;
    } else {
      if (*current_move_dir == g_d_direction.West) {
        u14 = current_node[1];
        qY = u14 - 2U;
        if (qY > u14) {
          qY = 0U;
        }

        current_node[1] = (unsigned char)qY;
        *current_node_property = matrix_dir.Row;
        *current_move_dir = g_d_direction.South_West;
        *current_move_mode = move_dir_property.diagonal;
      }
    }
  } else {
    if (*current_move_mode == move_dir_property.diagonal) {
      if (*current_move_dir == g_d_direction.North_East) {
        u14 = current_node[1];
        q0 = (int)(current_node[0] + 1U);
        if ((unsigned int)q0 > 255U) {
          q0 = 255;
        }

        current_node[0] = (unsigned char)q0;
        current_node[1] = u14;
        *current_node_property = matrix_dir.Row;
        *current_move_dir = g_d_direction.North;
        *current_move_mode = move_dir_property.straight;
      } else if (*current_move_dir == g_d_direction.South_East) {
        u14 = current_node[1];
        q0 = current_node[0];
        qY = q0 - 1U;
        if (qY > (unsigned int)q0) {
          qY = 0U;
        }

        current_node[0] = (unsigned char)qY;
        q0 = (int)(u14 + 1U);
        if ((unsigned int)q0 > 255U) {
          q0 = 255;
        }

        current_node[1] = (unsigned char)q0;
        *current_node_property = matrix_dir.Col;
        *current_move_dir = g_d_direction.East;
        *current_move_mode = move_dir_property.straight;
      } else if (*current_move_dir == g_d_direction.South_West) {
        u14 = current_node[1];
        qY = u14 - 1U;
        if (qY > u14) {
          qY = 0U;
        }

        current_node[1] = (unsigned char)qY;
        *current_node_property = matrix_dir.Row;
        *current_move_dir = g_d_direction.South;
        *current_move_mode = move_dir_property.straight;
      } else {
        if (*current_move_dir == g_d_direction.North_West) {
          *current_node_property = matrix_dir.Col;
          *current_move_dir = g_d_direction.West;
          *current_move_mode = move_dir_property.straight;
        }
      }
    }
  }
}

/*
 * íºêiÉpÉ^Å[ÉìÇÃéû
 * Arguments    : unsigned char current_node[2]
 *                unsigned char *current_node_property
 *                unsigned char *current_move_dir
 *                unsigned char *current_move_mode
 * Return Type  : void
 */
static void turn_l_90(unsigned char current_node[2], unsigned char
                      *current_node_property, unsigned char *current_move_dir,
                      unsigned char *current_move_mode)
{
  unsigned char u15;
  int q0;
  unsigned int qY;

  /*  ç∂90ìx */
  if (*current_move_mode == move_dir_property.straight) {
    if (*current_move_dir == g_d_direction.North) {
      u15 = current_node[1];
      q0 = (int)(current_node[0] + 1U);
      if ((unsigned int)q0 > 255U) {
        q0 = 255;
      }

      current_node[0] = (unsigned char)q0;
      current_node[1] = u15;
      *current_node_property = matrix_dir.Col;
      *current_move_dir = g_d_direction.West;
      *current_move_mode = move_dir_property.straight;
    } else if (*current_move_dir == g_d_direction.East) {
      u15 = current_node[1];
      q0 = (int)(current_node[0] + 1U);
      if ((unsigned int)q0 > 255U) {
        q0 = 255;
      }

      current_node[0] = (unsigned char)q0;
      q0 = (int)(u15 + 1U);
      if ((unsigned int)q0 > 255U) {
        q0 = 255;
      }

      current_node[1] = (unsigned char)q0;
      *current_node_property = matrix_dir.Row;
      *current_move_dir = g_d_direction.North;
      *current_move_mode = move_dir_property.straight;
    } else if (*current_move_dir == g_d_direction.South) {
      u15 = current_node[1];
      q0 = current_node[0];
      qY = q0 - 2U;
      if (qY > (unsigned int)q0) {
        qY = 0U;
      }

      current_node[0] = (unsigned char)qY;
      q0 = (int)(u15 + 1U);
      if ((unsigned int)q0 > 255U) {
        q0 = 255;
      }

      current_node[1] = (unsigned char)q0;
      *current_node_property = matrix_dir.Col;
      *current_move_dir = g_d_direction.East;
      *current_move_mode = move_dir_property.straight;
    } else {
      if (*current_move_dir == g_d_direction.West) {
        u15 = current_node[1];
        qY = u15 - 2U;
        if (qY > u15) {
          qY = 0U;
        }

        current_node[1] = (unsigned char)qY;
        *current_node_property = matrix_dir.Row;
        *current_move_dir = g_d_direction.South;
        *current_move_mode = move_dir_property.straight;
      }
    }

    /* éŒÇﬂÉpÉ^Å[ÉìÇÃéûÅiV90Åj     */
  } else {
    if (*current_move_mode == move_dir_property.diagonal) {
      if (*current_move_dir == g_d_direction.North_East) {
        u15 = current_node[1];
        q0 = (int)(current_node[0] + 1U);
        if ((unsigned int)q0 > 255U) {
          q0 = 255;
        }

        current_node[0] = (unsigned char)q0;
        current_node[1] = u15;
        *current_node_property = matrix_dir.Col;
        *current_move_dir = g_d_direction.North_West;
        *current_move_mode = move_dir_property.diagonal;
      } else if (*current_move_dir == g_d_direction.South_East) {
        q0 = (int)(current_node[1] + 1U);
        if ((unsigned int)q0 > 255U) {
          q0 = 255;
        }

        current_node[1] = (unsigned char)q0;
        *current_node_property = matrix_dir.Row;
        *current_move_dir = g_d_direction.North_East;
        *current_move_mode = move_dir_property.diagonal;
      } else if (*current_move_dir == g_d_direction.South_West) {
        u15 = current_node[1];
        q0 = current_node[0];
        qY = q0 - 1U;
        if (qY > (unsigned int)q0) {
          qY = 0U;
        }

        current_node[0] = (unsigned char)qY;
        current_node[1] = u15;
        *current_node_property = matrix_dir.Col;
        *current_move_dir = g_d_direction.South_East;
        *current_move_mode = move_dir_property.diagonal;
      } else {
        if (*current_move_dir == g_d_direction.North_West) {
          u15 = current_node[1];
          qY = u15 - 1U;
          if (qY > u15) {
            qY = 0U;
          }

          current_node[1] = (unsigned char)qY;
          *current_node_property = matrix_dir.Row;
          *current_move_dir = g_d_direction.South_West;
          *current_move_mode = move_dir_property.diagonal;
        }
      }
    }
  }
}

/*
 * íºêiÉpÉ^Å[ÉìÇÃéû
 * Arguments    : unsigned char current_node[2]
 *                unsigned char *current_node_property
 *                unsigned char *current_move_dir
 *                unsigned char *current_move_mode
 * Return Type  : void
 */
static void turn_r_135(unsigned char current_node[2], unsigned char
  *current_node_property, unsigned char *current_move_dir, unsigned char
  *current_move_mode)
{
  unsigned char u16;
  int q0;
  unsigned int qY;

  /*  âE135ìx */
  if (*current_move_mode == move_dir_property.straight) {
    if (*current_move_dir == g_d_direction.North) {
      u16 = current_node[1];
      q0 = (int)(current_node[0] + 1U);
      if ((unsigned int)q0 > 255U) {
        q0 = 255;
      }

      current_node[0] = (unsigned char)q0;
      q0 = (int)(u16 + 1U);
      if ((unsigned int)q0 > 255U) {
        q0 = 255;
      }

      current_node[1] = (unsigned char)q0;
      *current_node_property = matrix_dir.Row;
      *current_move_dir = g_d_direction.South_East;
      *current_move_mode = move_dir_property.diagonal;
    } else if (*current_move_dir == g_d_direction.East) {
      u16 = current_node[1];
      q0 = current_node[0];
      qY = q0 - 1U;
      if (qY > (unsigned int)q0) {
        qY = 0U;
      }

      current_node[0] = (unsigned char)qY;
      q0 = (int)(u16 + 1U);
      if ((unsigned int)q0 > 255U) {
        q0 = 255;
      }

      current_node[1] = (unsigned char)q0;
      *current_node_property = matrix_dir.Col;
      *current_move_dir = g_d_direction.South_West;
      *current_move_mode = move_dir_property.diagonal;
    } else if (*current_move_dir == g_d_direction.South) {
      u16 = current_node[1];
      q0 = current_node[0];
      qY = q0 - 1U;
      if (qY > (unsigned int)q0) {
        qY = 0U;
      }

      current_node[0] = (unsigned char)qY;
      qY = u16 - 1U;
      if (qY > u16) {
        qY = 0U;
      }

      current_node[1] = (unsigned char)qY;
      *current_node_property = matrix_dir.Row;
      *current_move_dir = g_d_direction.North_West;
      *current_move_mode = move_dir_property.diagonal;
    } else {
      if (*current_move_dir == g_d_direction.West) {
        u16 = current_node[1];
        q0 = (int)(current_node[0] + 1U);
        if ((unsigned int)q0 > 255U) {
          q0 = 255;
        }

        current_node[0] = (unsigned char)q0;
        qY = u16 - 1U;
        if (qY > u16) {
          qY = 0U;
        }

        current_node[1] = (unsigned char)qY;
        *current_node_property = matrix_dir.Col;
        *current_move_dir = g_d_direction.North_East;
        *current_move_mode = move_dir_property.diagonal;
      }
    }

    /* éŒÇﬂÉpÉ^Å[ÉìÇÃéû     */
  } else {
    if (*current_move_mode == move_dir_property.diagonal) {
      if (*current_move_dir == g_d_direction.North_East) {
        q0 = (int)(current_node[1] + 1U);
        if ((unsigned int)q0 > 255U) {
          q0 = 255;
        }

        current_node[1] = (unsigned char)q0;
        *current_node_property = matrix_dir.Row;
        *current_move_dir = g_d_direction.South;
        *current_move_mode = move_dir_property.straight;
      } else if (*current_move_dir == g_d_direction.South_East) {
        u16 = current_node[1];
        q0 = current_node[0];
        qY = q0 - 1U;
        if (qY > (unsigned int)q0) {
          qY = 0U;
        }

        current_node[0] = (unsigned char)qY;
        current_node[1] = u16;
        *current_node_property = matrix_dir.Col;
        *current_move_dir = g_d_direction.West;
        *current_move_mode = move_dir_property.straight;
      } else if (*current_move_dir == g_d_direction.South_West) {
        u16 = current_node[1];
        qY = u16 - 1U;
        if (qY > u16) {
          qY = 0U;
        }

        current_node[1] = (unsigned char)qY;
        *current_node_property = matrix_dir.Row;
        *current_move_dir = g_d_direction.North;
        *current_move_mode = move_dir_property.straight;
      } else {
        if (*current_move_dir == g_d_direction.North_West) {
          u16 = current_node[1];
          q0 = (int)(current_node[0] + 1U);
          if ((unsigned int)q0 > 255U) {
            q0 = 255;
          }

          current_node[0] = (unsigned char)q0;
          current_node[1] = u16;
          *current_node_property = matrix_dir.Col;
          *current_move_dir = g_d_direction.East;
          *current_move_mode = move_dir_property.straight;
        }
      }
    }
  }
}

/*
 * íºêiÉpÉ^Å[ÉìÇÃéû
 * Arguments    : unsigned char current_node[2]
 *                unsigned char *current_node_property
 *                unsigned char *current_move_dir
 *                unsigned char *current_move_mode
 * Return Type  : void
 */
static void turn_r_45(unsigned char current_node[2], unsigned char
                      *current_node_property, unsigned char *current_move_dir,
                      unsigned char *current_move_mode)
{
  unsigned char u13;
  int q0;
  unsigned int qY;

  /*  âE45ìx */
  if (*current_move_mode == move_dir_property.straight) {
    if (*current_move_dir == g_d_direction.North) {
      u13 = current_node[1];
      q0 = (int)(current_node[0] + 1U);
      if ((unsigned int)q0 > 255U) {
        q0 = 255;
      }

      current_node[0] = (unsigned char)q0;
      q0 = (int)(u13 + 1U);
      if ((unsigned int)q0 > 255U) {
        q0 = 255;
      }

      current_node[1] = (unsigned char)q0;
      *current_node_property = matrix_dir.Col;
      *current_move_dir = g_d_direction.North_East;
      *current_move_mode = move_dir_property.diagonal;
    } else if (*current_move_dir == g_d_direction.East) {
      q0 = (int)(current_node[1] + 1U);
      if ((unsigned int)q0 > 255U) {
        q0 = 255;
      }

      current_node[1] = (unsigned char)q0;
      *current_node_property = matrix_dir.Row;
      *current_move_dir = g_d_direction.South_East;
      *current_move_mode = move_dir_property.diagonal;
    } else if (*current_move_dir == g_d_direction.South) {
      u13 = current_node[1];
      q0 = current_node[0];
      qY = q0 - 2U;
      if (qY > (unsigned int)q0) {
        qY = 0U;
      }

      current_node[0] = (unsigned char)qY;
      current_node[1] = u13;
      *current_node_property = matrix_dir.Col;
      *current_move_dir = g_d_direction.South_West;
      *current_move_mode = move_dir_property.diagonal;
    } else {
      if (*current_move_dir == g_d_direction.West) {
        u13 = current_node[1];
        q0 = (int)(current_node[0] + 1U);
        if ((unsigned int)q0 > 255U) {
          q0 = 255;
        }

        current_node[0] = (unsigned char)q0;
        qY = u13 - 2U;
        if (qY > u13) {
          qY = 0U;
        }

        current_node[1] = (unsigned char)qY;
        *current_node_property = matrix_dir.Row;
        *current_move_dir = g_d_direction.North_West;
        *current_move_mode = move_dir_property.diagonal;
      }
    }
  } else {
    if (*current_move_mode == move_dir_property.diagonal) {
      if (*current_move_dir == g_d_direction.North_East) {
        q0 = (int)(current_node[1] + 1U);
        if ((unsigned int)q0 > 255U) {
          q0 = 255;
        }

        current_node[1] = (unsigned char)q0;
        *current_node_property = matrix_dir.Col;
        *current_move_dir = g_d_direction.East;
        *current_move_mode = move_dir_property.straight;
      } else if (*current_move_dir == g_d_direction.South_East) {
        *current_node_property = matrix_dir.Row;
        *current_move_dir = g_d_direction.South;
        *current_move_mode = move_dir_property.straight;
      } else if (*current_move_dir == g_d_direction.South_West) {
        u13 = current_node[1];
        q0 = current_node[0];
        qY = q0 - 1U;
        if (qY > (unsigned int)q0) {
          qY = 0U;
        }

        current_node[0] = (unsigned char)qY;
        current_node[1] = u13;
        *current_node_property = matrix_dir.Col;
        *current_move_dir = g_d_direction.West;
        *current_move_mode = move_dir_property.straight;
      } else {
        if (*current_move_dir == g_d_direction.North_West) {
          u13 = current_node[1];
          q0 = (int)(current_node[0] + 1U);
          if ((unsigned int)q0 > 255U) {
            q0 = 255;
          }

          current_node[0] = (unsigned char)q0;
          qY = u13 - 1U;
          if (qY > u13) {
            qY = 0U;
          }

          current_node[1] = (unsigned char)qY;
          *current_node_property = matrix_dir.Row;
          *current_move_dir = g_d_direction.North;
          *current_move_mode = move_dir_property.straight;
        }
      }
    }
  }
}

/*
 * matlabè„Ç≈ÇÕâÊëúÇ©ÇÁéÊìæÇµÇΩï«èÓïÒÇéQè∆Ç∑ÇÈÅB
 * ì¸óÕ:âÊëúÇ©ÇÁìæÇΩñ¿òHèÓïÒ,ñ¿òHçsï˚å¸ï«ñáêî,ñ¿òHóÒï˚å¸ï«ñáêî,
 *      åªç›ínç¿ïWx,y,åªç›êiçsï˚å¸,ñ¿òHï«èÓïÒ,ñ¿òHï«íTçıèÓïÒ
 * èoóÕ:ñ¿òHï«èÓïÒ,ñ¿òHï«íTçıèÓïÒ
 * Arguments    : const coder_internal_ref_5 *wall
 *                coder_internal_ref *wall_flg
 *                const coder_internal_ref_4 *search
 *                const coder_internal_ref_1 *maze_goal
 *                unsigned char maze_row_size
 *                unsigned char maze_col_size
 *                unsigned char current_x
 *                unsigned char current_y
 *                unsigned char current_dir
 *                unsigned char maze_wall[1024]
 *                unsigned char maze_wall_search[1024]
 * Return Type  : void
 */
static void wall_set(const coder_internal_ref_5 *wall, coder_internal_ref
                     *wall_flg, const coder_internal_ref_4 *search, const
                     coder_internal_ref_1 *maze_goal, unsigned char
                     maze_row_size, unsigned char maze_col_size, unsigned char
                     current_x, unsigned char current_y, unsigned char
                     current_dir, unsigned char maze_wall[1024], unsigned char
                     maze_wall_search[1024])
{
  unsigned char wall_write[4];
  unsigned char serch_write[4];
  short wall_sensor_front;
  int i184;
  unsigned char a;
  int i;
  int i185;
  int i186;
  int i187;
  int i188;
  int k;
  int i189;
  int i190;
  int i191;
  int i192;
  int i193;
  int i194;
  int i195;
  int i196;
  unsigned int qY;
  int i197;
  int i198;
  int i199;
  int i200;
  bool tempx[9];
  int i201;
  bool tempy[9];
  signed char varargin_1[9];
  int i202;
  int i203;
  int i204;
  int i205;
  int i206;
  int i207;
  int i208;
  int i209;
  int i210;
  int i211;
  int i212;
  int i213;
  int i214;
  int i215;
  int i216;
  int i217;
  int i218;
  int i219;
  int i220;
  int i221;
  int i222;
  int i223;
  int i224;
  int i225;
  int i226;
  int i227;
  int i228;
  int i229;
  int i230;
  int i231;
  int i232;
  int i233;
  int i234;
  int i235;
  int i236;
  int i237;
  int i238;
  int i239;
  int i240;
  int i241;
  int i242;
  int i243;
  int i244;
  int i245;
  int i246;
  int i247;
  int i248;
  int i249;
  int i250;
  int i251;
  int i252;
  int i253;
  int i254;
  int i255;
  int i256;
  int i257;
  int i258;
  int i259;
  int i260;
  int i261;
  int i262;
  int i263;
  int i264;
  int i265;
  int i266;
  int i267;
  int i268;
  int i269;
  int i270;
  int i271;
  int i272;
  int i273;
  int i274;
  int i275;
  int i276;

  /*   wall_set ï«èÓïÒéÊìæ */
  /* ÉOÉçÅ[ÉoÉãïœêî(matlabÇ≈ÇÕñ¿òHÉfÅ[É^ÇÅACÇ≈ÇÕï«ÉZÉìÉTílÇéQè∆) */
  /* for matlab */
  /* for C gen */
  /* ï«ÉZÉìÉTËáíl */
  /* ÉçÅ[ÉJÉãïœêîêÈåæ */
  /* ï«èÓïÒèëÇ´çûÇ›ópÉoÉbÉtÉ@(N,E,S,W) */
  wall_write[0] = 0U;
  serch_write[0] = 0U;
  wall_write[1] = 0U;
  serch_write[1] = 0U;
  wall_write[2] = 0U;
  serch_write[2] = 0U;
  wall_write[3] = 0U;
  serch_write[3] = 0U;

  /* íTçıèÓïÒèëÇ´çûÇ›ópÉoÉbÉtÉ@(N,E,S,W) */
  /* ï«ÉZÉìÉTADíläiî[ïœêî */
  /* É}ÉEÉXÇÃï˚å¸Ç…äÓÇ√Ç≠ï«èÓïÒéÊìæ */
  /* É}ÉEÉXÇÃï˚å¸Ç∆ê‚ëŒï˚å¸ÇÃç∑=É}ÉEÉXÇÃï˚å¸Ç∆Ç»ÇÈÇ±Ç∆ÇóòópÇµÅA */
  /* ê‚ëŒäpìxÇ∆êÆçáÇÇ∆ÇÈÅB */
  /* ëOï˚ÇÃï«îªíË */
  /* for Cgen */
  /* ÉZÉìÉTíléÊìæ */
  wall_sensor_front = m_get_front_sensor();

  /* ÉZÉìÉTílÇÇ‡Ç∆Ç…ÅAï«ÇÃóLñ≥ÇîªíË */
  if (wall_sensor_front > wall_sensor_front_th) {
    /* ï«èÓïÒéÊìæ */
    i184 = (int)(b_rem(current_dir) + 1U);
    if ((unsigned int)i184 > 255U) {
      i184 = 255;
    }

    wall_write[i184 - 1] = wall->contents.wall;

    /* ï«ÉtÉâÉOÉZÉbÉg */
    a = wall_flg->contents;
    wall_flg->contents = (unsigned char)(a | 1);
  }

  /* íTçıèÓïÒéÊçXêV */
  i184 = (int)(b_rem(current_dir) + 1U);
  if ((unsigned int)i184 > 255U) {
    i184 = 255;
  }

  serch_write[i184 - 1] = search->contents.known;

  /* âEï«îªíË */
  /* for Cgen */
  /* ÉZÉìÉTíléÊìæ */
  wall_sensor_front = m_get_right_sensor();

  /* ÉZÉìÉTílÇÇ‡Ç∆Ç…ÅAï«ÇÃóLñ≥ÇîªíË */
  if (wall_sensor_front > wall_sensor_right_th) {
    /* ï«èÓïÒéÊìæ */
    i184 = (int)(current_dir + 1U);
    if ((unsigned int)i184 > 255U) {
      i184 = 255;
    }

    i184 = (int)(b_rem((unsigned char)i184) + 1U);
    if ((unsigned int)i184 > 255U) {
      i184 = 255;
    }

    wall_write[i184 - 1] = wall->contents.wall;

    /* ï«ÉtÉâÉOÉZÉbÉg */
    a = wall_flg->contents;
    wall_flg->contents = (unsigned char)(a | 2);
  }

  /* íTçıèÓïÒéÊçXêV */
  i184 = (int)(current_dir + 1U);
  if ((unsigned int)i184 > 255U) {
    i184 = 255;
  }

  i184 = (int)(b_rem((unsigned char)i184) + 1U);
  if ((unsigned int)i184 > 255U) {
    i184 = 255;
  }

  serch_write[i184 - 1] = search->contents.known;

  /* å„ï˚ÇÕèÓïÒÇìæÇÈÇ±Ç∆Ç™Ç≈Ç´Ç»Ç¢ÇÃÇ≈èàóùÇµÇ»Ç¢ÅB */
  /* ç∂ï«îªíË */
  /* for Cgen */
  /* ÉZÉìÉTíléÊìæ */
  wall_sensor_front = m_get_left_sensor();

  /* ÉZÉìÉTílÇÇ‡Ç∆Ç…ÅAï«ÇÃóLñ≥ÇîªíË */
  if (wall_sensor_front > wall_sensor_left_th) {
    /* ï«èÓïÒéÊìæ */
    i184 = (int)(current_dir + 3U);
    if ((unsigned int)i184 > 255U) {
      i184 = 255;
    }

    i184 = (int)(b_rem((unsigned char)i184) + 1U);
    if ((unsigned int)i184 > 255U) {
      i184 = 255;
    }

    wall_write[i184 - 1] = wall->contents.wall;

    /* ï«ÉtÉâÉOÉZÉbÉg */
    a = wall_flg->contents;
    wall_flg->contents = (unsigned char)(a | 8);
  }

  /* íTçıèÓïÒéÊçXêV */
  i184 = (int)(current_dir + 3U);
  if ((unsigned int)i184 > 255U) {
    i184 = 255;
  }

  i184 = (int)(b_rem((unsigned char)i184) + 1U);
  if ((unsigned int)i184 > 255U) {
    i184 = 255;
  }

  serch_write[i184 - 1] = search->contents.known;

  /* Ç±Ç±Ç‹Ç≈ */
  /* ï«èÓïÒ,íTçıèÓïÒÇì¸óÕ */
  /* ñkë§ */
  i184 = (int)(g_direction.North + 1U);
  i = i184;
  if ((unsigned int)i184 > 255U) {
    i = 255;
  }

  if (g_direction.North <= 7) {
    i185 = (unsigned char)(1 << g_direction.North);
  } else {
    i185 = 0;
  }

  i = (int)((unsigned int)i185 * wall_write[i - 1]);
  if ((unsigned int)i > 255U) {
    i = 255;
  }

  i186 = current_y + ((current_x - 1) << 5);
  i187 = i186 - 1;
  maze_wall[i187] = (unsigned char)(maze_wall[i187] | i);
  i = i184;
  if ((unsigned int)i184 > 255U) {
    i = 255;
  }

  if (g_direction.North <= 7) {
    i188 = (unsigned char)(1 << g_direction.North);
  } else {
    i188 = 0;
  }

  i = (int)((unsigned int)i188 * serch_write[i - 1]);
  if ((unsigned int)i > 255U) {
    i = 255;
  }

  maze_wall_search[i187] = (unsigned char)(maze_wall_search[i187] | i);

  /* ìåë§ */
  i = (int)(g_direction.East + 1U);
  k = i;
  if ((unsigned int)i > 255U) {
    k = 255;
  }

  if (g_direction.East <= 7) {
    i189 = (unsigned char)(1 << g_direction.East);
  } else {
    i189 = 0;
  }

  k = (int)((unsigned int)i189 * wall_write[k - 1]);
  if ((unsigned int)k > 255U) {
    k = 255;
  }

  maze_wall[i187] = (unsigned char)(maze_wall[i187] | k);
  k = i;
  if ((unsigned int)i > 255U) {
    k = 255;
  }

  if (g_direction.East <= 7) {
    i190 = (unsigned char)(1 << g_direction.East);
  } else {
    i190 = 0;
  }

  k = (int)((unsigned int)i190 * serch_write[k - 1]);
  if ((unsigned int)k > 255U) {
    k = 255;
  }

  maze_wall_search[i187] = (unsigned char)(maze_wall_search[i187] | k);

  /* ìÏë§ */
  k = (int)(g_direction.South + 1U);
  i191 = k;
  if ((unsigned int)k > 255U) {
    i191 = 255;
  }

  if (g_direction.South <= 7) {
    i192 = (unsigned char)(1 << g_direction.South);
  } else {
    i192 = 0;
  }

  i191 = (int)((unsigned int)i192 * wall_write[i191 - 1]);
  if ((unsigned int)i191 > 255U) {
    i191 = 255;
  }

  maze_wall[i187] = (unsigned char)(maze_wall[i187] | i191);
  i191 = k;
  if ((unsigned int)k > 255U) {
    i191 = 255;
  }

  if (g_direction.South <= 7) {
    i193 = (unsigned char)(1 << g_direction.South);
  } else {
    i193 = 0;
  }

  i191 = (int)((unsigned int)i193 * serch_write[i191 - 1]);
  if ((unsigned int)i191 > 255U) {
    i191 = 255;
  }

  maze_wall_search[i187] = (unsigned char)(maze_wall_search[i187] | i191);

  /* êºë§ */
  i191 = (int)(g_direction.West + 1U);
  i194 = i191;
  if ((unsigned int)i191 > 255U) {
    i194 = 255;
  }

  if (g_direction.West <= 7) {
    i195 = (unsigned char)(1 << g_direction.West);
  } else {
    i195 = 0;
  }

  i194 = (int)((unsigned int)i195 * wall_write[i194 - 1]);
  if ((unsigned int)i194 > 255U) {
    i194 = 255;
  }

  maze_wall[i187] = (unsigned char)(maze_wall[i187] | i194);
  i194 = i191;
  if ((unsigned int)i191 > 255U) {
    i194 = 255;
  }

  if (g_direction.West <= 7) {
    i196 = (unsigned char)(1 << g_direction.West);
  } else {
    i196 = 0;
  }

  i194 = (int)((unsigned int)i196 * serch_write[i194 - 1]);
  if ((unsigned int)i194 > 255U) {
    i194 = 255;
  }

  maze_wall_search[i187] = (unsigned char)(maze_wall_search[i187] | i194);

  /* ó◊ÇËçáÇ§É}ÉXÇÃèÓïÒÇ…Ç‡ì¸óÕ */
  /* ñkë§ÇÃÉ}ÉXÇÃìÏë§ÇÃï«èÓïÒ */
  qY = maze_row_size - 1U;
  if (qY > maze_row_size) {
    qY = 0U;
  }

  if (current_y < (int)qY) {
    i194 = i184;
    if ((unsigned int)i184 > 255U) {
      i194 = 255;
    }

    if (g_direction.South <= 7) {
      i197 = (unsigned char)(1 << g_direction.South);
    } else {
      i197 = 0;
    }

    i194 = (int)((unsigned int)i197 * wall_write[i194 - 1]);
    if ((unsigned int)i194 > 255U) {
      i194 = 255;
    }

    maze_wall[i186] = (unsigned char)(maze_wall[i186] | i194);
    if ((unsigned int)i184 > 255U) {
      i184 = 255;
    }

    if (g_direction.South <= 7) {
      i200 = (unsigned char)(1 << g_direction.South);
    } else {
      i200 = 0;
    }

    i184 = (int)((unsigned int)i200 * serch_write[i184 - 1]);
    if ((unsigned int)i184 > 255U) {
      i184 = 255;
    }

    maze_wall_search[i186] = (unsigned char)(maze_wall_search[i186] | i184);
  }

  /* ìåë§ÇÃÉ}ÉXÇÃêºë§ÇÃï«èÓïÒ */
  qY = maze_col_size - 1U;
  if (qY > maze_col_size) {
    qY = 0U;
  }

  if (current_x < (int)qY) {
    i184 = i;
    if ((unsigned int)i > 255U) {
      i184 = 255;
    }

    if (g_direction.West <= 7) {
      i198 = (unsigned char)(1 << g_direction.West);
    } else {
      i198 = 0;
    }

    i184 = (int)((unsigned int)i198 * wall_write[i184 - 1]);
    if ((unsigned int)i184 > 255U) {
      i184 = 255;
    }

    i194 = (current_y + (current_x << 5)) - 1;
    maze_wall[i194] = (unsigned char)(maze_wall[i194] | i184);
    if ((unsigned int)i > 255U) {
      i = 255;
    }

    if (g_direction.West <= 7) {
      i202 = (unsigned char)(1 << g_direction.West);
    } else {
      i202 = 0;
    }

    i184 = (int)((unsigned int)i202 * serch_write[i - 1]);
    if ((unsigned int)i184 > 255U) {
      i184 = 255;
    }

    maze_wall_search[i194] = (unsigned char)(maze_wall_search[i194] | i184);
  }

  /* ìÏë§ÇÃÉ}ÉXÇÃñkë§ÇÃï«èÓïÒ */
  if (current_y > 1) {
    i184 = k;
    if ((unsigned int)k > 255U) {
      i184 = 255;
    }

    if (g_direction.North <= 7) {
      i199 = (unsigned char)(1 << g_direction.North);
    } else {
      i199 = 0;
    }

    i184 = (int)((unsigned int)i199 * wall_write[i184 - 1]);
    if ((unsigned int)i184 > 255U) {
      i184 = 255;
    }

    i = i186 - 2;
    maze_wall[i] = (unsigned char)(maze_wall[i] | i184);
    if ((unsigned int)k > 255U) {
      k = 255;
    }

    if (g_direction.North <= 7) {
      i203 = (unsigned char)(1 << g_direction.North);
    } else {
      i203 = 0;
    }

    i184 = (int)((unsigned int)i203 * serch_write[k - 1]);
    if ((unsigned int)i184 > 255U) {
      i184 = 255;
    }

    maze_wall_search[i] = (unsigned char)(maze_wall_search[i] | i184);
  }

  /* êºë§ÇÃÉ}ÉXÇÃìåë§ÇÃï«èÓïÒ */
  if (current_x > 1) {
    i184 = i191;
    if ((unsigned int)i191 > 255U) {
      i184 = 255;
    }

    if (g_direction.East <= 7) {
      i201 = (unsigned char)(1 << g_direction.East);
    } else {
      i201 = 0;
    }

    i184 = (int)((unsigned int)i201 * wall_write[i184 - 1]);
    if ((unsigned int)i184 > 255U) {
      i184 = 255;
    }

    i = (current_y + ((current_x - 2) << 5)) - 1;
    maze_wall[i] = (unsigned char)(maze_wall[i] | i184);
    if ((unsigned int)i191 > 255U) {
      i191 = 255;
    }

    if (g_direction.East <= 7) {
      i204 = (unsigned char)(1 << g_direction.East);
    } else {
      i204 = 0;
    }

    i184 = (int)((unsigned int)i204 * serch_write[i191 - 1]);
    if ((unsigned int)i184 > 255U) {
      i184 = 255;
    }

    maze_wall_search[i] = (unsigned char)(maze_wall_search[i] | i184);
  }

  /* åªç›ínÇ™ÉSÅ[ÉãÇ≈Ç»Ç¢èÍçá */
  for (i184 = 0; i184 < 9; i184++) {
    tempx[i184] = (maze_goal->contents[i184] == current_x);
  }

  for (i184 = 0; i184 < 9; i184++) {
    tempy[i184] = (maze_goal->contents[9 + i184] == current_y);
  }

  for (i = 0; i < 9; i++) {
    varargin_1[i] = (signed char)(tempx[i] * tempy[i]);
  }

  i = varargin_1[0];
  for (k = 0; k < 8; k++) {
    i184 = varargin_1[k + 1];
    if (i < i184) {
      i = i184;
    }
  }

  if (i == 0) {
    /* íåÇ…ëŒÇµÅA3ï˚å¸íTçıçœÇ›Ç©Ç¬ÅAÇ∑Ç◊Çƒï«Ç™Ç»Ç¢èÍçáÅAÇ‡Ç§àÍï˚å¸ÇÃï«ÇämíËÇ≥ÇπÇÈÅB */
    /* ñk,ìåÇ…ï«Ç™Ç»Ç¢èÍçá */
    if (g_direction.North <= 7) {
      i205 = (unsigned char)(1 << g_direction.North);
    } else {
      i205 = 0;
    }

    if (g_direction.North <= 7) {
      i206 = (unsigned char)(1 << g_direction.North);
    } else {
      i206 = 0;
    }

    if ((maze_wall[i187] & i205) != i206) {
      if (g_direction.East <= 7) {
        i207 = (unsigned char)(1 << g_direction.East);
      } else {
        i207 = 0;
      }

      if (g_direction.East <= 7) {
        i209 = (unsigned char)(1 << g_direction.East);
      } else {
        i209 = 0;
      }

      if ((maze_wall[(current_y + ((current_x - 1) << 5)) - 1] & i207) != i209)
      {
        /* ñkÇÃÉ}ÉXÇÃìåÇ™íTçıçœÇ›Å@Ç©Ç¬Å@ï«Ç™Ç»Ç¢Ç∆Ç´ */
        if (g_direction.East <= 7) {
          i211 = (unsigned char)(1 << g_direction.East);
        } else {
          i211 = 0;
        }

        if ((maze_wall_search[i186] & i211) != 0) {
          if (g_direction.East <= 7) {
            i215 = (unsigned char)(1 << g_direction.East);
          } else {
            i215 = 0;
          }

          if (g_direction.East <= 7) {
            i218 = (unsigned char)(1 << g_direction.East);
          } else {
            i218 = 0;
          }

          if ((maze_wall[i186] & i215) != i218) {
            /* ìåÇÃÉ}ÉXÇÃñkÇÃï«Ç™ämíËÅAíTçıçœÇ›Ç∆Ç∑ÇÈÅB */
            if (g_direction.North <= 7) {
              i223 = (unsigned char)(1 << g_direction.North);
            } else {
              i223 = 0;
            }

            maze_wall[(current_y + (current_x << 5)) - 1] = (unsigned char)
              (maze_wall[(current_y + (current_x << 5)) - 1] | i223);
            if (g_direction.North <= 7) {
              i230 = (unsigned char)(1 << g_direction.North);
            } else {
              i230 = 0;
            }

            maze_wall_search[(current_y + (current_x << 5)) - 1] = (unsigned
              char)(maze_wall_search[(current_y + (current_x << 5)) - 1] | i230);

            /* ó◊ÇËçáÇ§É}ÉXÅiìåñkÉ}ÉXÅjÇÃìÏÇÃï«Ç‡ämíË */
            if (g_direction.South <= 7) {
              i236 = (unsigned char)(1 << g_direction.South);
            } else {
              i236 = 0;
            }

            maze_wall[current_y + (current_x << 5)] = (unsigned char)
              (maze_wall[current_y + (current_x << 5)] | i236);
            if (g_direction.South <= 7) {
              i244 = (unsigned char)(1 << g_direction.South);
            } else {
              i244 = 0;
            }

            maze_wall_search[current_y + (current_x << 5)] = (unsigned char)
              (maze_wall_search[current_y + (current_x << 5)] | i244);
          }
        }

        /* ìåÇÃÉ}ÉXÇÃñkÇ™íTçıçœÇ›Å@Ç©Ç¬Å@ï«Ç™Ç»Ç¢Ç∆Ç´ */
        if (g_direction.North <= 7) {
          i217 = (unsigned char)(1 << g_direction.North);
        } else {
          i217 = 0;
        }

        if ((maze_wall_search[(current_y + (current_x << 5)) - 1] & i217) != 0)
        {
          if (g_direction.North <= 7) {
            i221 = (unsigned char)(1 << g_direction.North);
          } else {
            i221 = 0;
          }

          if (g_direction.North <= 7) {
            i226 = (unsigned char)(1 << g_direction.North);
          } else {
            i226 = 0;
          }

          if ((maze_wall[(current_y + (current_x << 5)) - 1] & i221) != i226) {
            /* ñkÇÃÉ}ÉXÇÃìåÇÃï«Ç™ämíËÅAíTçıçœÇ›Ç∆Ç∑ÇÈÅB */
            if (g_direction.East <= 7) {
              i232 = (unsigned char)(1 << g_direction.East);
            } else {
              i232 = 0;
            }

            maze_wall[i186] = (unsigned char)(maze_wall[i186] | i232);
            if (g_direction.East <= 7) {
              i240 = (unsigned char)(1 << g_direction.East);
            } else {
              i240 = 0;
            }

            maze_wall_search[i186] = (unsigned char)(maze_wall_search[i186] |
              i240);

            /* ó◊ÇËçáÇ§É}ÉXÅiìåñkÉ}ÉXÅjÇÃêºÇÃï«Ç‡ämíË */
            if (g_direction.West <= 7) {
              i247 = (unsigned char)(1 << g_direction.West);
            } else {
              i247 = 0;
            }

            maze_wall[current_y + (current_x << 5)] = (unsigned char)
              (maze_wall[current_y + (current_x << 5)] | i247);
            if (g_direction.West <= 7) {
              i254 = (unsigned char)(1 << g_direction.West);
            } else {
              i254 = 0;
            }

            maze_wall_search[current_y + (current_x << 5)] = (unsigned char)
              (maze_wall_search[current_y + (current_x << 5)] | i254);
          }
        }
      }
    }

    /* ñk,êºÇ…ï«Ç™Ç»Ç¢èÍçá */
    if (g_direction.North <= 7) {
      i208 = (unsigned char)(1 << g_direction.North);
    } else {
      i208 = 0;
    }

    if (g_direction.North <= 7) {
      i210 = (unsigned char)(1 << g_direction.North);
    } else {
      i210 = 0;
    }

    if ((maze_wall[(current_y + ((current_x - 1) << 5)) - 1] & i208) != i210) {
      if (g_direction.West <= 7) {
        i212 = (unsigned char)(1 << g_direction.West);
      } else {
        i212 = 0;
      }

      if (g_direction.West <= 7) {
        i214 = (unsigned char)(1 << g_direction.West);
      } else {
        i214 = 0;
      }

      if ((maze_wall[(current_y + ((current_x - 1) << 5)) - 1] & i212) != i214)
      {
        /* ñkÇÃÉ}ÉXÇÃêºÇ™íTçıçœÇ›Å@Ç©Ç¬Å@ï«Ç™Ç»Ç¢Ç∆Ç´ */
        if (g_direction.West <= 7) {
          i219 = (unsigned char)(1 << g_direction.West);
        } else {
          i219 = 0;
        }

        if ((maze_wall_search[current_y + ((current_x - 1) << 5)] & i219) != 0)
        {
          if (g_direction.West <= 7) {
            i225 = (unsigned char)(1 << g_direction.West);
          } else {
            i225 = 0;
          }

          if (g_direction.West <= 7) {
            i229 = (unsigned char)(1 << g_direction.West);
          } else {
            i229 = 0;
          }

          if ((maze_wall[i186] & i225) != i229) {
            /* êºÇÃÉ}ÉXÇÃñkÇÃï«Ç™ämíËÅAíTçıçœÇ›Ç∆Ç∑ÇÈÅB */
            if (g_direction.North <= 7) {
              i235 = (unsigned char)(1 << g_direction.North);
            } else {
              i235 = 0;
            }

            maze_wall[(current_y + ((current_x - 2) << 5)) - 1] = (unsigned char)
              (maze_wall[(current_y + ((current_x - 2) << 5)) - 1] | i235);
            if (g_direction.North <= 7) {
              i243 = (unsigned char)(1 << g_direction.North);
            } else {
              i243 = 0;
            }

            maze_wall_search[(current_y + ((current_x - 2) << 5)) - 1] =
              (unsigned char)(maze_wall_search[(current_y + ((current_x - 2) <<
              5)) - 1] | i243);

            /* ó◊ÇËçáÇ§É}ÉXÅiñkêºÉ}ÉXÅjÇÃìÏÇÃï«Ç‡ämíË */
            if (g_direction.South <= 7) {
              i250 = (unsigned char)(1 << g_direction.South);
            } else {
              i250 = 0;
            }

            maze_wall[current_y + ((current_x - 2) << 5)] = (unsigned char)
              (maze_wall[current_y + ((current_x - 2) << 5)] | i250);
            if (g_direction.South <= 7) {
              i258 = (unsigned char)(1 << g_direction.South);
            } else {
              i258 = 0;
            }

            maze_wall_search[current_y + ((current_x - 2) << 5)] = (unsigned
              char)(maze_wall_search[current_y + ((current_x - 2) << 5)] | i258);
          }
        }

        /* êºÇÃÉ}ÉXÇÃñkÇ™íTçıçœÇ›Å@Ç©Ç¬Å@ï«Ç™Ç»Ç¢Ç∆Ç´ */
        if (g_direction.North <= 7) {
          i228 = (unsigned char)(1 << g_direction.North);
        } else {
          i228 = 0;
        }

        if ((maze_wall_search[(current_y + ((current_x - 2) << 5)) - 1] & i228)
            != 0) {
          if (g_direction.North <= 7) {
            i234 = (unsigned char)(1 << g_direction.North);
          } else {
            i234 = 0;
          }

          if (g_direction.North <= 7) {
            i239 = (unsigned char)(1 << g_direction.North);
          } else {
            i239 = 0;
          }

          if ((maze_wall[(current_y + ((current_x - 2) << 5)) - 1] & i234) !=
              i239) {
            /* ñkÇÃÉ}ÉXÇÃêºÇÃï«Ç™ämíËÅAíTçıçœÇ›Ç∆Ç∑ÇÈÅB */
            if (g_direction.West <= 7) {
              i246 = (unsigned char)(1 << g_direction.West);
            } else {
              i246 = 0;
            }

            maze_wall[i186] = (unsigned char)(maze_wall[i186] | i246);
            if (g_direction.West <= 7) {
              i253 = (unsigned char)(1 << g_direction.West);
            } else {
              i253 = 0;
            }

            maze_wall_search[i186] = (unsigned char)(maze_wall_search[i186] |
              i253);

            /* ó◊ÇËçáÇ§É}ÉXÅiñkêºÉ}ÉXÅjÇÃìåÇÃï«Ç‡ämíË */
            if (g_direction.East <= 7) {
              i260 = (unsigned char)(1 << g_direction.East);
            } else {
              i260 = 0;
            }

            maze_wall[current_y + ((current_x - 2) << 5)] = (unsigned char)
              (maze_wall[current_y + ((current_x - 2) << 5)] | i260);
            if (g_direction.East <= 7) {
              i266 = (unsigned char)(1 << g_direction.East);
            } else {
              i266 = 0;
            }

            maze_wall_search[current_y + ((current_x - 2) << 5)] = (unsigned
              char)(maze_wall_search[current_y + ((current_x - 2) << 5)] | i266);
          }
        }
      }
    }

    /* ìÏ,ìåÇ…ï«Ç™Ç»Ç¢èÍçá */
    if (g_direction.East <= 7) {
      i213 = (unsigned char)(1 << g_direction.East);
    } else {
      i213 = 0;
    }

    if (g_direction.East <= 7) {
      i216 = (unsigned char)(1 << g_direction.East);
    } else {
      i216 = 0;
    }

    if ((maze_wall[i187] & i213) != i216) {
      if (g_direction.South <= 7) {
        i220 = (unsigned char)(1 << g_direction.South);
      } else {
        i220 = 0;
      }

      if (g_direction.South <= 7) {
        i224 = (unsigned char)(1 << g_direction.South);
      } else {
        i224 = 0;
      }

      if ((maze_wall[i187] & i220) != i224) {
        /* ìÏÇÃÉ}ÉXÇÃìåÇ™íTçıçœÇ›Å@Ç©Ç¬Å@ï«Ç™Ç»Ç¢Ç∆Ç´ */
        if (g_direction.East <= 7) {
          i231 = (unsigned char)(1 << g_direction.East);
        } else {
          i231 = 0;
        }

        if ((maze_wall_search[(current_y + ((current_x - 1) << 5)) - 2] & i231)
            != 0) {
          if (g_direction.East <= 7) {
            i238 = (unsigned char)(1 << g_direction.East);
          } else {
            i238 = 0;
          }

          if (g_direction.East <= 7) {
            i242 = (unsigned char)(1 << g_direction.East);
          } else {
            i242 = 0;
          }

          if ((maze_wall[(current_y + ((current_x - 1) << 5)) - 2] & i238) !=
              i242) {
            /* ìåÇÃÉ}ÉXÇÃìÏÇÃï«Ç™ämíËÅAíTçıçœÇ›Ç∆Ç∑ÇÈÅB */
            if (g_direction.South <= 7) {
              i249 = (unsigned char)(1 << g_direction.South);
            } else {
              i249 = 0;
            }

            maze_wall[(current_y + (current_x << 5)) - 1] = (unsigned char)
              (maze_wall[(current_y + (current_x << 5)) - 1] | i249);
            if (g_direction.South <= 7) {
              i257 = (unsigned char)(1 << g_direction.South);
            } else {
              i257 = 0;
            }

            maze_wall_search[(current_y + (current_x << 5)) - 1] = (unsigned
              char)(maze_wall_search[(current_y + (current_x << 5)) - 1] | i257);

            /* ó◊ÇËçáÇ§É}ÉXÅiìÏìåÉ}ÉXÅjÇÃñkÇÃï«Ç‡ämíË */
            i184 = (current_y + (current_x << 5)) - 2;
            if (g_direction.North <= 7) {
              i265 = (unsigned char)(1 << g_direction.North);
            } else {
              i265 = 0;
            }

            maze_wall[i184] = (unsigned char)(maze_wall[i184] | i265);
            if (g_direction.North <= 7) {
              i268 = (unsigned char)(1 << g_direction.North);
            } else {
              i268 = 0;
            }

            maze_wall_search[i184] = (unsigned char)(maze_wall_search[i184] |
              i268);
          }
        }

        /* ìåÇÃÉ}ÉXÇÃìÏÇ™íTçıçœÇ›Å@Ç©Ç¬Å@ï«Ç™Ç»Ç¢Ç∆Ç´ */
        if (g_direction.South <= 7) {
          i241 = (unsigned char)(1 << g_direction.South);
        } else {
          i241 = 0;
        }

        if ((maze_wall_search[(current_y + (current_x << 5)) - 1] & i241) != 0)
        {
          if (g_direction.South <= 7) {
            i248 = (unsigned char)(1 << g_direction.South);
          } else {
            i248 = 0;
          }

          if (g_direction.South <= 7) {
            i252 = (unsigned char)(1 << g_direction.South);
          } else {
            i252 = 0;
          }

          if ((maze_wall[(current_y + (current_x << 5)) - 1] & i248) != i252) {
            /* ìÏÇÃÉ}ÉXÇÃìåÇÃï«Ç™ämíËÅAíTçıçœÇ›Ç∆Ç∑ÇÈÅB */
            if (g_direction.East <= 7) {
              i259 = (unsigned char)(1 << g_direction.East);
            } else {
              i259 = 0;
            }

            maze_wall[(current_y + ((current_x - 1) << 5)) - 2] = (unsigned char)
              (maze_wall[(current_y + ((current_x - 1) << 5)) - 2] | i259);
            if (g_direction.East <= 7) {
              i264 = (unsigned char)(1 << g_direction.East);
            } else {
              i264 = 0;
            }

            maze_wall_search[(current_y + ((current_x - 1) << 5)) - 2] =
              (unsigned char)(maze_wall_search[(current_y + ((current_x - 1) <<
              5)) - 2] | i264);

            /* ó◊ÇËçáÇ§É}ÉXÅiìÏìåÉ}ÉXÅjÇÃêºÇÃï«Ç™ämíËÅBíTçıçœÇ›Ç∆Ç∑ÇÈ */
            if (g_direction.West <= 7) {
              i270 = (unsigned char)(1 << g_direction.West);
            } else {
              i270 = 0;
            }

            maze_wall[(current_y + (current_x << 5)) - 2] = (unsigned char)
              (maze_wall[(current_y + (current_x << 5)) - 2] | i270);
            if (g_direction.West <= 7) {
              i273 = (unsigned char)(1 << g_direction.West);
            } else {
              i273 = 0;
            }

            maze_wall_search[(current_y + (current_x << 5)) - 2] = (unsigned
              char)(maze_wall_search[(current_y + (current_x << 5)) - 2] | i273);
          }
        }
      }
    }

    /* ìÏ,êºÇ…ï«Ç™Ç»Ç¢èÍçá */
    if (g_direction.West <= 7) {
      i222 = (unsigned char)(1 << g_direction.West);
    } else {
      i222 = 0;
    }

    if (g_direction.West <= 7) {
      i227 = (unsigned char)(1 << g_direction.West);
    } else {
      i227 = 0;
    }

    if ((maze_wall[i187] & i222) != i227) {
      if (g_direction.South <= 7) {
        i233 = (unsigned char)(1 << g_direction.South);
      } else {
        i233 = 0;
      }

      if (g_direction.South <= 7) {
        i237 = (unsigned char)(1 << g_direction.South);
      } else {
        i237 = 0;
      }

      if ((maze_wall[i187] & i233) != i237) {
        /* ìÏÇÃÉ}ÉXÇÃêºÇ™íTçıçœÇ›Å@Ç©Ç¬Å@ï«Ç™Ç»Ç¢Ç∆Ç´ */
        if (g_direction.West <= 7) {
          i245 = (unsigned char)(1 << g_direction.West);
        } else {
          i245 = 0;
        }

        if ((maze_wall_search[(current_y + ((current_x - 1) << 5)) - 2] & i245)
            != 0) {
          if (g_direction.West <= 7) {
            i251 = (unsigned char)(1 << g_direction.West);
          } else {
            i251 = 0;
          }

          if (g_direction.West <= 7) {
            i256 = (unsigned char)(1 << g_direction.West);
          } else {
            i256 = 0;
          }

          if ((maze_wall[(current_y + ((current_x - 1) << 5)) - 2] & i251) !=
              i256) {
            /* êºÇÃÉ}ÉXÇÃìÏÇÃï«Ç™ämíËÅAíTçıçœÇ›Ç∆Ç∑ÇÈÅB */
            if (g_direction.South <= 7) {
              i262 = (unsigned char)(1 << g_direction.South);
            } else {
              i262 = 0;
            }

            maze_wall[(current_y + ((current_x - 2) << 5)) - 1] = (unsigned char)
              (maze_wall[(current_y + ((current_x - 2) << 5)) - 1] | i262);
            if (g_direction.South <= 7) {
              i267 = (unsigned char)(1 << g_direction.South);
            } else {
              i267 = 0;
            }

            maze_wall_search[(current_y + ((current_x - 2) << 5)) - 1] =
              (unsigned char)(maze_wall_search[(current_y + ((current_x - 2) <<
              5)) - 1] | i267);

            /* ó◊ÇËçáÇ§É}ÉXÅiìÏêºÉ}ÉXÅjÇÃñkÇÃï«Ç™ämíËÅBíTçıçœÇ›Ç∆Ç∑ÇÈ */
            i184 = (current_y + ((current_x - 2) << 5)) - 2;
            if (g_direction.North <= 7) {
              i272 = (unsigned char)(1 << g_direction.North);
            } else {
              i272 = 0;
            }

            maze_wall[i184] = (unsigned char)(maze_wall[i184] | i272);
            if (g_direction.North <= 7) {
              i274 = (unsigned char)(1 << g_direction.North);
            } else {
              i274 = 0;
            }

            maze_wall_search[i184] = (unsigned char)(maze_wall_search[i184] |
              i274);
          }
        }

        /* êºÇÃÉ}ÉXÇÃìÏÇ™íTçıçœÇ›Å@Ç©Ç¬Å@ï«Ç™Ç»Ç¢Ç∆Ç´ */
        if (g_direction.South <= 7) {
          i255 = (unsigned char)(1 << g_direction.South);
        } else {
          i255 = 0;
        }

        if ((maze_wall_search[(current_y + ((current_x - 2) << 5)) - 1] & i255)
            != 0) {
          if (g_direction.South <= 7) {
            i261 = (unsigned char)(1 << g_direction.South);
          } else {
            i261 = 0;
          }

          if (g_direction.South <= 7) {
            i263 = (unsigned char)(1 << g_direction.South);
          } else {
            i263 = 0;
          }

          if ((maze_wall[(current_y + ((current_x - 2) << 5)) - 1] & i261) !=
              i263) {
            /* ìÏÇÃÉ}ÉXÇÃêºÇÃï«Ç™ämíËÅAíTçıçœÇ›Ç∆Ç∑ÇÈÅB */
            if (g_direction.West <= 7) {
              i269 = (unsigned char)(1 << g_direction.West);
            } else {
              i269 = 0;
            }

            maze_wall[(current_y + ((current_x - 1) << 5)) - 2] = (unsigned char)
              (maze_wall[(current_y + ((current_x - 1) << 5)) - 2] | i269);
            if (g_direction.West <= 7) {
              i271 = (unsigned char)(1 << g_direction.West);
            } else {
              i271 = 0;
            }

            maze_wall_search[(current_y + ((current_x - 1) << 5)) - 2] =
              (unsigned char)(maze_wall_search[(current_y + ((current_x - 1) <<
              5)) - 2] | i271);

            /* ó◊ÇËçáÇ§É}ÉXÅiìÏêºÉ}ÉXÅjÇÃìåÇÃï«Ç™ämíËÅBíTçıçœÇ›Ç∆Ç∑ÇÈ */
            if (g_direction.East <= 7) {
              i275 = (unsigned char)(1 << g_direction.East);
            } else {
              i275 = 0;
            }

            maze_wall[(current_y + ((current_x - 2) << 5)) - 2] = (unsigned char)
              (maze_wall[(current_y + ((current_x - 2) << 5)) - 2] | i275);
            if (g_direction.East <= 7) {
              i276 = (unsigned char)(1 << g_direction.East);
            } else {
              i276 = 0;
            }

            maze_wall_search[(current_y + ((current_x - 2) << 5)) - 2] =
              (unsigned char)(maze_wall_search[(current_y + ((current_x - 2) <<
              5)) - 2] | i276);
          }
        }
      }
    }
  }
}

/*
 * maze_solve é¿ã@Ç≈ÇÃñ¿òHíTçıä÷êî
 * ì¸óÕ ñ¿òHï«èÓïÒ,ñ¿òHíTçıèÓïÒ,ñ¿òHècÉTÉCÉY,ñ¿òHâ°ÉTÉCÉY,ÉSÅ[Éãç¿ïW,
 * èoóÕ ï«èÓïÒ,íTçıèÓïÒ
 * Arguments    : unsigned char maze_wall[1024]
 *                unsigned char maze_wall_search[1024]
 *                unsigned char maze_row_size
 *                unsigned char maze_col_size
 *                unsigned char goal_size
 *                const unsigned char maze_goal[18]
 *                unsigned char run_mode
 *                unsigned short contour_map[1024]
 *                unsigned short row_num_node[1056]
 *                unsigned short col_num_node[1056]
 * Return Type  : void
 */
void maze_solve(unsigned char maze_wall[1024], unsigned char maze_wall_search
                [1024], unsigned char maze_row_size, unsigned char maze_col_size,
                unsigned char goal_size, const unsigned char maze_goal[18],
                unsigned char run_mode, unsigned short contour_map[1024],
                unsigned short row_num_node[1056], unsigned short col_num_node
                [1056])
{
  coder_internal_ref b_goal_size;
  coder_internal_ref wall_flg;
  int idx;
  coder_internal_ref_1 b_maze_goal;
  unsigned char new_goal[18];
  coder_internal_ref_5 wall;
  coder_internal_ref_4 search;
  coder_internal_ref_3 num_temp;
  coder_internal_ref_2 max_length;
  unsigned char col_temp;
  unsigned short minval;
  coder_internal_ref current_x;
  coder_internal_ref current_y;
  coder_internal_ref current_dir;
  unsigned char goal_section[2];
  unsigned char search_flag;
  unsigned char b_goal_section[2];
  unsigned char goal_node2[2];
  unsigned char start_flg;
  int exitg1;
  bool exitg2;
  bool b0;
  unsigned short contour_map_temp[1024];
  unsigned short u11;
  int ii_size_idx_0;
  int ii;
  short ii_data[1];
  unsigned short tmp_data[1];
  b_goal_size.contents = goal_size;

  /* CåæåÍä÷êîÉCÉìÉNÉãÅ[Éh */
  /* ÉçÅ[ÉJÉãïœêîíËã`  */
  /*  ÉSÅ[ÉãéûÉXÉgÉbÉvÉtÉâÉO(0:à⁄ìÆåpë±Å@1:ÉXÉgÉbÉv) */
  /*  ÉXÉ^Å[ÉgÉtÉâÉO(0:ìÆçÏíÜÅ@1:í‚é~Ç©ÇÁÇÃà⁄ìÆäJén) */
  /* ÉSÅ[Éãíºå„ÉtÉâÉO(0:ÉSÅ[Éãíºå„Ç≈Ç»Ç¢, 1:ÉSÅ[Éãíºå„) */
  wall_flg.contents = 0U;

  /* ï«ÉtÉâÉO(1:ëOÅA2:âEÅAÅi4:å„ÇÎ)ÅA8:ç∂) */
  /*  ÉOÉçÅ[ÉoÉãïœêîêÈåæ */
  /*  global maze_goal; */
  /* ÉçÅ[ÉJÉãïœêîêÈåæ */
  for (idx = 0; idx < 18; idx++) {
    b_maze_goal.contents[idx] = maze_goal[idx];
    new_goal[idx] = 0U;
  }

  memset(&contour_map[0], 0, sizeof(unsigned short) << 10);
  for (idx = 0; idx < 1056; idx++) {
    row_num_node[idx] = MAX_uint16_T;
    col_num_node[idx] = MAX_uint16_T;
  }

  /* ÉmÅ[ÉhÇÃëÆê´íËã` */
  /* 0:çsï˚å¸, 1:óÒï˚å¸,Å@2:ÉZÉNÉVÉáÉìÅiÉ}ÉXÅj */
  matrix_dir.Row = 0U;
  matrix_dir.Col = 1U;
  matrix_dir.section = 2U;

  /* ê‚ëŒï˚äpíËã` */
  g_direction.North = 0U;
  g_direction.East = 1U;
  g_direction.South = 2U;
  g_direction.West = 3U;

  /* éŒÇﬂçûÇ›ÇÃê‚ëŒï˚äpíËã` */
  g_d_direction.North = 0U;
  g_d_direction.North_East = 1U;
  g_d_direction.East = 2U;
  g_d_direction.South_East = 3U;
  g_d_direction.South = 4U;
  g_d_direction.South_West = 5U;
  g_d_direction.West = 6U;
  g_d_direction.North_West = 7U;

  /* É}ÉEÉXï˚å¸íËã` */
  l_direction.front = 0U;
  l_direction.right = 1U;
  l_direction.back = 2U;
  l_direction.left = 3U;

  /* à⁄ìÆï˚å¸ëÆê´íËã` */
  /* íºêioréŒÇﬂ */
  move_dir_property.straight = 0U;
  move_dir_property.diagonal = 1U;

  /* ÉpÉ^Å[Éìî‘çÜíËã` */
  turn_pattern.b_default = 0U;
  turn_pattern.r_45 = 1U;
  turn_pattern.l_45 = 2U;
  turn_pattern.r_90 = 3U;
  turn_pattern.l_90 = 4U;
  turn_pattern.r_135 = 5U;
  turn_pattern.l_135 = 6U;
  turn_pattern.r_180 = 7U;
  turn_pattern.l_180 = 8U;

  /* ï«èÓïÒíËã` */
  wall.contents.nowall = 0U;
  wall.contents.wall = 1U;

  /* íTçıèÓïÒíËã` */
  search.contents.unknown = 0U;
  search.contents.known = 1U;

  /* ëñçsÉÇÅ[ÉhíËã` */
  /*  íTçı */
  c_emxInitStruct_coder_internal_(&num_temp);
  if (run_mode == 0) {
    /* É}ÉEÉXÇÃèâä˙à íuê›íË */
    /* for C gen */
    /* äeÉtÉâÉOÇíËã` */
    /* í‚é~íºå„ */
    /* í‚é~èàóùÇé¿é{Ç∑ÇÈ */
    /* ÉSÅ[Éãíºå„ÉtÉâÉOÇÕÉNÉäÉA */
    /* àÍÉ}ÉXëOêi */
    col_temp = 1U;

    /* ì¸óÕ åªç›à íux,y,åªç›ï˚å¸ */
    /* èoóÕ åªç›à íux,y */
    /*  move_step àÍÉ}ÉXëOêiÇ∑ÇÈä÷êî */
    /* ñkÇ…àÍÉ}ÉX */
    search_flag = 2U;

    /* disp("north_step") */
    /* ìåÇ…àÍÉ}ÉX */
    if (g_direction.North == g_direction.East) {
      col_temp = 2U;

      /* disp("east_step") */
    }

    /* ìÏÇ…àÍÉ}ÉX */
    if (g_direction.North == g_direction.South) {
      search_flag = 1U;

      /* disp("south_step") */
    }

    /* êºÇ…àÍÉ}ÉX */
    if (g_direction.North == g_direction.West) {
      col_temp--;

      /* disp("west_step") */
    }

    /* CåæåÍÇ≈ÇÃÉXÉ^Å[Égèàóù */
    m_start_movement(1, 0, move_dir_property.straight);

    /* í‚é~íºå„ÉtÉâÉOÇÉNÉäÉA */
    /* ÉSÅ[ÉãÇÉvÉçÉbÉg */
    /* ë´óßñ@Ç…ÇÊÇÈíTçı */
    current_x.contents = col_temp;
    current_y.contents = search_flag;
    current_dir.contents = g_direction.North;
    start_flg = 0U;
    search_adachi(&wall, &wall_flg, &search, &b_maze_goal, &num_temp,
                  &current_x.contents, &current_y.contents,
                  &current_dir.contents, maze_row_size, maze_col_size, maze_wall,
                  maze_wall_search, maze_goal, goal_size, &start_flg, 0U,
                  contour_map);

    /* Ç–Ç∆Ç‹Ç√ÉSÅ[Éã(í‚é~) */
    /* äeÉtÉâÉOÇíËã` */
    start_flg = 1U;

    /* í‚é~íºå„ */
    /* í‚é~èàóùÇé¿é{ÇµÇ»Ç¢ */
    /* ÉSÅ[Éãíºå„ÉtÉâÉOÇÇΩÇƒÇÈ */
    /* ÉSÅ[ÉãÇÇ∑Ç◊ÇƒíTçı */
    do {
      exitg1 = 0;
      search_flag = 0U;
      idx = 0;
      exitg2 = false;
      while ((!exitg2) && (idx <= goal_size - 1)) {
        col_temp = b_maze_goal.contents[idx + 9];
        if (maze_wall_search[(col_temp + ((b_maze_goal.contents[idx] - 1) << 5))
            - 1] != 15) {
          new_goal[0] = b_maze_goal.contents[idx];
          new_goal[9] = col_temp;
          search_flag = 1U;
          exitg2 = true;
        } else {
          idx++;
        }
      }

      if (search_flag == 1) {
        b_search_adachi(&wall, &wall_flg, &search, &b_maze_goal, &num_temp,
                        &current_x.contents, &current_y.contents,
                        &current_dir.contents, maze_row_size, maze_col_size,
                        maze_wall, maze_wall_search, new_goal, &start_flg, 1U,
                        contour_map);

        /* ÉSÅ[Éãíºå„ÉtÉâÉOÇÇΩÇƒÇÈ */
      } else {
        exitg1 = 1;
      }
    } while (exitg1 == 0);

    /* ñ¢íTçıÉ}ÉXÇ™Ç»Ç≠Ç»ÇÈÇ‹Ç≈ÅB */
    /*  åªínì_Ç©ÇÁàÍî‘ãﬂÇ¢ñ¢íTçıÉ}ÉXÇíTçı */
    do {
      exitg1 = 0;

      /* ñ¢íTçıÇÃÉ}ÉXÇíäèo */
      /* ñ¢íTçıÉ}ÉXÇÃåªç›ínÅiÉSÅ[ÉãÅjÇ©ÇÁÇÃãóó£Çíäèo */
      /* íTçıäÆóπïîÇuint16ÇÃè„å¿Ç…(êVÇµÇ¢ÉSÅ[ÉãÇminÇ≈åàíËÇµÇΩÇ¢ÇÃÇ≈ÅB) */
      for (idx = 0; idx < 1024; idx++) {
        b0 = (maze_wall_search[idx] != 15);
        contour_map_temp[idx] = (unsigned short)((unsigned int)b0 *
          contour_map[idx]);
        if (b0 * contour_map[idx] == 0) {
          contour_map_temp[idx] = MAX_uint16_T;
        }
      }

      /* ñ¢íTçıÉ}ÉXÇÃÇ§ÇøÅAåªç›ínÇ©ÇÁàÍî‘ãﬂÇ¢É}ÉXÇÃóvëfî‘çÜÇíäèo */
      minval = contour_map_temp[0];
      for (idx = 0; idx < 1023; idx++) {
        u11 = contour_map_temp[idx + 1];
        if (minval > u11) {
          minval = u11;
        }
      }

      idx = 0;
      ii_size_idx_0 = 1;
      ii = 0;
      exitg2 = false;
      while ((!exitg2) && (ii < 1024)) {
        if (contour_map_temp[ii] == minval) {
          idx = 1;
          ii_data[0] = (short)(ii + 1);
          exitg2 = true;
        } else {
          ii++;
        }
      }

      if (idx == 0) {
        ii_size_idx_0 = 0;
      }

      for (idx = 0; idx < ii_size_idx_0; idx++) {
        tmp_data[0] = (unsigned short)ii_data[0];
      }

      idx = num_temp.contents->size[0];
      num_temp.contents->size[0] = ii_size_idx_0;
      emxEnsureCapacity_uint16_T(num_temp.contents, idx);
      for (idx = 0; idx < ii_size_idx_0; idx++) {
        num_temp.contents->data[0] = (unsigned short)ii_data[0];
      }

      /* çsî‘çÜÇíäèo(32çsÇ»ÇÃÇ≈ÅAçsî‘çÜ:32Ç≈äÑÇ¡ÇΩÇ†Ç‹ÇË) */
      search_flag = (unsigned char)((tmp_data[0] - 1) % 32 + 1);

      /* óÒî‘çÜÇíäèo(32Ç≈äÑÇ¡ÇΩÇ∆Ç´ÇÃè§) */
      col_temp = (unsigned char)((int)trunc(((double)num_temp.contents->data[0]
        - 1.0) / 32.0) + 1);
      if (contour_map_temp[(search_flag + ((col_temp - 1) << 5)) - 1] == 65535)
      {
        exitg1 = 1;
      } else {
        new_goal[0] = col_temp;
        new_goal[9] = search_flag;

        /* ÉSÅ[ÉãÇÉvÉçÉbÉg              */
        b_search_adachi(&wall, &wall_flg, &search, &b_maze_goal, &num_temp,
                        &current_x.contents, &current_y.contents,
                        &current_dir.contents, maze_row_size, maze_col_size,
                        maze_wall, maze_wall_search, new_goal, &start_flg, 1U,
                        contour_map);

        /* ÉSÅ[Éãíºå„ÉtÉâÉOÇÇΩÇƒÇÈ */
      }
    } while (exitg1 == 0);

    /* ñ¢íTçıÉ}ÉXÇ™å©Ç¬Ç©ÇÁÇ»Ç¢Ç∆Ç´ÅAí‚é~èàóùÇé¿é{ */
    m_goal_movement(start_flg, wall_flg.contents, move_dir_property.straight);

    /* ÉXÉ^Å[ÉgÇñ⁄ìIínÇ∆ÇµÇƒë´óßñ@Ç≈çƒíTçı */
    /* äeÉtÉâÉOÇíËã` */
    /* í‚é~íºå„ */
    /* í‚é~èàóùÇé¿é{Ç∑ÇÈ */
    /* ÉSÅ[Éãíºå„ÉtÉâÉOÇÇΩÇƒÇÈ */
    new_goal[0] = 1U;
    new_goal[9] = 1U;
    start_flg = 1U;
    search_adachi(&wall, &wall_flg, &search, &b_maze_goal, &num_temp,
                  &current_x.contents, &current_y.contents,
                  &current_dir.contents, maze_row_size, maze_col_size, maze_wall,
                  maze_wall_search, new_goal, 1U, &start_flg, 1U, contour_map);

    /* for code generation */
  }

  /*  ç≈íZëñçs */
  if (run_mode == 1) {
    /* íTçıèÓïÒÇÇ‡Ç∆Ç…ìôçÇê¸MAPÇê∂ê¨ */
    make_map_fustrun(&b_goal_size, &num_temp, &wall, &search,
                     b_maze_goal.contents, maze_wall, maze_wall_search,
                     contour_map);
    max_length.contents = MAX_uint16_T;

    /* ÉRÉìÉ^Å[É}ÉbÉvÇÃï`âÊ */
    /* ç≈íZãóó£ëñçs */
    fust_run(&current_x, &current_y, &current_dir, &b_goal_size, &wall,
             maze_wall, contour_map, b_maze_goal.contents, MAX_uint16_T);
  }

  /*  éŒÇﬂÇ≈ÇÃç≈íZëñçs */
  if (run_mode == 2) {
    /* ç≈íZåoòHê∂ê¨ */
    /* ÉSÅ[ÉãÉ}ÉXÇÃÉmÅ[ÉhÇÇ∑Ç◊ÇƒÉSÅ[ÉãÉmÅ[ÉhÇ∆ÇµÅAÉ}ÉbÉvê∂ê¨ */
    make_map_fustrun_diagonal(&max_length, &num_temp, &wall, &search,
      b_maze_goal.contents, b_goal_size.contents, maze_wall, maze_wall_search,
      row_num_node, col_num_node, &minval);

    /* ÉSÅ[ÉãïtãﬂÇÃÉãÅ[Égç≈ìKâªÇÃÇΩÇﬂÅAÉ}ÉbÉvçƒê∂ê¨ */
    /* ÉXÉ^Å[ÉgÇ©ÇÁÉSÅ[ÉãÉmÅ[ÉhÇ‹Ç≈ÅAÉãÅ[Égê∂ê¨ÇµÅAÉSÅ[ÉãÉmÅ[ÉhÅAï˚å¸ÇämíË */
    decide_goal_node_dir(b_maze_goal.contents, b_goal_size.contents,
                         row_num_node, col_num_node, goal_section, &search_flag,
                         &col_temp);

    /* ämíËÇ≥ÇÍÇΩÉSÅ[ÉãÉmÅ[ÉhÅAï˚å¸Ç©ÇÁÉSÅ[ÉãÉ}ÉXÅAÉmÅ[ÉhÇçƒíËã` */
    decide_goal_section(b_maze_goal.contents, goal_section, search_flag,
                        col_temp, b_goal_section, goal_node2, &start_flg);

    /* ämíËÇ≥ÇÍÇΩÉSÅ[ÉãÉ}ÉXÇ©ÇÁÅAçƒìxÉ}ÉbÉvÇê∂ê¨ */
    goal_section[0] = b_goal_section[1];
    goal_section[1] = b_goal_section[0];

    /* x,yÇ…ïœä∑ */
    b_make_map_fustrun_diagonal(&max_length, &num_temp, &wall, &search,
      goal_section, maze_wall, maze_wall_search, row_num_node, col_num_node,
      &minval);

    /*      if coder.target('MATLAB')    */
    /*          %ï‡êîÉ}ÉbÉvÉvÉçÉbÉg(ï«ÇÃïîï™ÇÕÇ»Çµ) */
    /*          hold on */
    /*          %ÉZÉNÉVÉáÉìíÜâõ(ÉSÅ[ÉãÅAÉXÉ^Å[ÉgÇÃÇ›) */
    /*          text((goal_section(1)-1)*9+4.5,(goal_section(2)-1)*9+4.5,string(goal_num),'HorizontalAlignment','center'); */
    /*          text(4.5,4.5,string(start_num),'HorizontalAlignment','center'); */
    /*          %ÉGÉbÉWïîï™ */
    /*          %row_node */
    /*          for l = 1:33 */
    /*              for j = 1:32 */
    /*                  if row_num_node(l,j) ~= 65535 */
    /*                      text((j-1)*9+4.5,(l-1)*9,string(row_num_node(l,j)),'HorizontalAlignment','center'); */
    /*                  end */
    /*              end */
    /*          end  */
    /*   */
    /*          %col_node */
    /*          for l = 1:32 */
    /*              for j = 1:33 */
    /*                  if col_num_node(l,j) ~= 65535 */
    /*                      text((j-1)*9,(l-1)*9+4.5,string(col_num_node(l,j)),'HorizontalAlignment','center'); */
    /*                  end */
    /*              end */
    /*          end     */
    /*          hold off */
    /*      end */
    /* ê∂ê¨Ç≥ÇÍÇΩMAPÇÇ‡Ç∆Ç…ç≈íZëñçs */
    make_route_diagonal(row_num_node, col_num_node, goal_section, goal_node2,
                        start_flg);
  }

  c_emxFreeStruct_coder_internal_(&num_temp);
}

/*
 * File trailer for maze_solve.c
 *
 * [EOF]
 */
